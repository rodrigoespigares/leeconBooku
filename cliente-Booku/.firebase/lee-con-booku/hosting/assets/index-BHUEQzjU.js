var S9=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var KNe=S9((iRe,Z_)=>{function v$(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var nf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _$={exports:{}},Hv={},b$={exports:{}},dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ip=Symbol.for("react.element"),T9=Symbol.for("react.portal"),C9=Symbol.for("react.fragment"),A9=Symbol.for("react.strict_mode"),I9=Symbol.for("react.profiler"),P9=Symbol.for("react.provider"),O9=Symbol.for("react.context"),k9=Symbol.for("react.forward_ref"),N9=Symbol.for("react.suspense"),R9=Symbol.for("react.memo"),j9=Symbol.for("react.lazy"),BI=Symbol.iterator;function M9(t){return t===null||typeof t!="object"?null:(t=BI&&t[BI]||t["@@iterator"],typeof t=="function"?t:null)}var w$={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x$=Object.assign,E$={};function Bu(t,e,n){this.props=t,this.context=e,this.refs=E$,this.updater=n||w$}Bu.prototype.isReactComponent={};Bu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Bu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function S$(){}S$.prototype=Bu.prototype;function TS(t,e,n){this.props=t,this.context=e,this.refs=E$,this.updater=n||w$}var CS=TS.prototype=new S$;CS.constructor=TS;x$(CS,Bu.prototype);CS.isPureReactComponent=!0;var zI=Array.isArray,T$=Object.prototype.hasOwnProperty,AS={current:null},C$={key:!0,ref:!0,__self:!0,__source:!0};function A$(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)T$.call(e,r)&&!C$.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ip,type:t,key:o,ref:s,props:i,_owner:AS.current}}function D9(t,e){return{$$typeof:Ip,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function IS(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ip}function $9(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var WI=/\/+/g;function tb(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$9(""+t.key):e.toString(36)}function hg(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Ip:case T9:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+tb(s,0):r,zI(i)?(n="",t!=null&&(n=t.replace(WI,"$&/")+"/"),hg(i,e,n,"",function(c){return c})):i!=null&&(IS(i)&&(i=D9(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(WI,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",zI(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+tb(o,a);s+=hg(o,e,n,l,i)}else if(l=M9(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+tb(o,a++),s+=hg(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function ym(t,e,n){if(t==null)return t;var r=[],i=0;return hg(t,r,"","",function(o){return e.call(n,o,i++)}),r}function L9(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var jr={current:null},pg={transition:null},F9={ReactCurrentDispatcher:jr,ReactCurrentBatchConfig:pg,ReactCurrentOwner:AS};dt.Children={map:ym,forEach:function(t,e,n){ym(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ym(t,function(){e++}),e},toArray:function(t){return ym(t,function(e){return e})||[]},only:function(t){if(!IS(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};dt.Component=Bu;dt.Fragment=C9;dt.Profiler=I9;dt.PureComponent=TS;dt.StrictMode=A9;dt.Suspense=N9;dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F9;dt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=x$({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=AS.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)T$.call(e,l)&&!C$.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ip,type:t.type,key:i,ref:o,props:r,_owner:s}};dt.createContext=function(t){return t={$$typeof:O9,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:P9,_context:t},t.Consumer=t};dt.createElement=A$;dt.createFactory=function(t){var e=A$.bind(null,t);return e.type=t,e};dt.createRef=function(){return{current:null}};dt.forwardRef=function(t){return{$$typeof:k9,render:t}};dt.isValidElement=IS;dt.lazy=function(t){return{$$typeof:j9,_payload:{_status:-1,_result:t},_init:L9}};dt.memo=function(t,e){return{$$typeof:R9,type:t,compare:e===void 0?null:e}};dt.startTransition=function(t){var e=pg.transition;pg.transition={};try{t()}finally{pg.transition=e}};dt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};dt.useCallback=function(t,e){return jr.current.useCallback(t,e)};dt.useContext=function(t){return jr.current.useContext(t)};dt.useDebugValue=function(){};dt.useDeferredValue=function(t){return jr.current.useDeferredValue(t)};dt.useEffect=function(t,e){return jr.current.useEffect(t,e)};dt.useId=function(){return jr.current.useId()};dt.useImperativeHandle=function(t,e,n){return jr.current.useImperativeHandle(t,e,n)};dt.useInsertionEffect=function(t,e){return jr.current.useInsertionEffect(t,e)};dt.useLayoutEffect=function(t,e){return jr.current.useLayoutEffect(t,e)};dt.useMemo=function(t,e){return jr.current.useMemo(t,e)};dt.useReducer=function(t,e,n){return jr.current.useReducer(t,e,n)};dt.useRef=function(t){return jr.current.useRef(t)};dt.useState=function(t){return jr.current.useState(t)};dt.useSyncExternalStore=function(t,e,n){return jr.current.useSyncExternalStore(t,e,n)};dt.useTransition=function(){return jr.current.useTransition()};dt.version="18.2.0";b$.exports=dt;var S=b$.exports;const V=kt(S),V9=v$({__proto__:null,default:V},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U9=S,B9=Symbol.for("react.element"),z9=Symbol.for("react.fragment"),W9=Object.prototype.hasOwnProperty,H9=U9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,q9={key:!0,ref:!0,__self:!0,__source:!0};function I$(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)W9.call(e,r)&&!q9.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:B9,type:t,key:o,ref:s,props:i,_owner:H9.current}}Hv.Fragment=z9;Hv.jsx=I$;Hv.jsxs=I$;_$.exports=Hv;var f=_$.exports,zw={},P$={exports:{}},ui={},O$={exports:{}},k$={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,q){var N=M.length;M.push(q);e:for(;0<N;){var P=N-1>>>1,W=M[P];if(0<i(W,q))M[P]=q,M[N]=W,N=P;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var q=M[0],N=M.pop();if(N!==q){M[0]=N;e:for(var P=0,W=M.length,Z=W>>>1;P<Z;){var se=2*(P+1)-1,Q=M[se],ee=se+1,J=M[ee];if(0>i(Q,N))ee<W&&0>i(J,Q)?(M[P]=J,M[ee]=N,P=ee):(M[P]=Q,M[se]=N,P=se);else if(ee<W&&0>i(J,N))M[P]=J,M[ee]=N,P=ee;else break e}}return q}function i(M,q){var N=M.sortIndex-q.sortIndex;return N!==0?N:M.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,d=null,h=3,p=!1,m=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(M){for(var q=n(c);q!==null;){if(q.callback===null)r(c);else if(q.startTime<=M)r(c),q.sortIndex=q.expirationTime,e(l,q);else break;q=n(c)}}function w(M){if(v=!1,_(M),!m)if(n(l)!==null)m=!0,X(E);else{var q=n(c);q!==null&&U(w,q.startTime-M)}}function E(M,q){m=!1,v&&(v=!1,b(C),C=-1),p=!0;var N=h;try{for(_(q),d=n(l);d!==null&&(!(d.expirationTime>q)||M&&!D());){var P=d.callback;if(typeof P=="function"){d.callback=null,h=d.priorityLevel;var W=P(d.expirationTime<=q);q=t.unstable_now(),typeof W=="function"?d.callback=W:d===n(l)&&r(l),_(q)}else r(l);d=n(l)}if(d!==null)var Z=!0;else{var se=n(c);se!==null&&U(w,se.startTime-q),Z=!1}return Z}finally{d=null,h=N,p=!1}}var x=!1,T=null,C=-1,O=5,I=-1;function D(){return!(t.unstable_now()-I<O)}function L(){if(T!==null){var M=t.unstable_now();I=M;var q=!0;try{q=T(!0,M)}finally{q?j():(x=!1,T=null)}}else x=!1}var j;if(typeof g=="function")j=function(){g(L)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,Y=B.port2;B.port1.onmessage=L,j=function(){Y.postMessage(null)}}else j=function(){y(L,0)};function X(M){T=M,x||(x=!0,j())}function U(M,q){C=y(function(){M(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,X(E))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(h){case 1:case 2:case 3:var q=3;break;default:q=h}var N=h;h=q;try{return M()}finally{h=N}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,q){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var N=h;h=M;try{return q()}finally{h=N}},t.unstable_scheduleCallback=function(M,q,N){var P=t.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?P+N:P):N=P,M){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=N+W,M={id:u++,callback:q,priorityLevel:M,startTime:N,expirationTime:W,sortIndex:-1},N>P?(M.sortIndex=N,e(c,M),n(l)===null&&M===n(c)&&(v?(b(C),C=-1):v=!0,U(w,N-P))):(M.sortIndex=W,e(l,M),m||p||(m=!0,X(E))),M},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(M){var q=h;return function(){var N=h;h=q;try{return M.apply(this,arguments)}finally{h=N}}}})(k$);O$.exports=k$;var G9=O$.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N$=S,li=G9;function ce(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var R$=new Set,Xf={};function Hl(t,e){nu(t,e),nu(t+"Capture",e)}function nu(t,e){for(Xf[t]=e,t=0;t<e.length;t++)R$.add(e[t])}var fs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ww=Object.prototype.hasOwnProperty,K9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,HI={},qI={};function Q9(t){return Ww.call(qI,t)?!0:Ww.call(HI,t)?!1:K9.test(t)?qI[t]=!0:(HI[t]=!0,!1)}function Y9(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function X9(t,e,n,r){if(e===null||typeof e>"u"||Y9(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Mr(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var sr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){sr[t]=new Mr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];sr[e]=new Mr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){sr[t]=new Mr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){sr[t]=new Mr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){sr[t]=new Mr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){sr[t]=new Mr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){sr[t]=new Mr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){sr[t]=new Mr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){sr[t]=new Mr(t,5,!1,t.toLowerCase(),null,!1,!1)});var PS=/[\-:]([a-z])/g;function OS(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(PS,OS);sr[e]=new Mr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(PS,OS);sr[e]=new Mr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(PS,OS);sr[e]=new Mr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){sr[t]=new Mr(t,1,!1,t.toLowerCase(),null,!1,!1)});sr.xlinkHref=new Mr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){sr[t]=new Mr(t,1,!1,t.toLowerCase(),null,!0,!0)});function kS(t,e,n,r){var i=sr.hasOwnProperty(e)?sr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(X9(e,n,i,r)&&(n=null),r||i===null?Q9(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Es=N$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vm=Symbol.for("react.element"),_c=Symbol.for("react.portal"),bc=Symbol.for("react.fragment"),NS=Symbol.for("react.strict_mode"),Hw=Symbol.for("react.profiler"),j$=Symbol.for("react.provider"),M$=Symbol.for("react.context"),RS=Symbol.for("react.forward_ref"),qw=Symbol.for("react.suspense"),Gw=Symbol.for("react.suspense_list"),jS=Symbol.for("react.memo"),Ms=Symbol.for("react.lazy"),D$=Symbol.for("react.offscreen"),GI=Symbol.iterator;function xd(t){return t===null||typeof t!="object"?null:(t=GI&&t[GI]||t["@@iterator"],typeof t=="function"?t:null)}var rn=Object.assign,nb;function rf(t){if(nb===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);nb=e&&e[1]||""}return`
`+nb+t}var rb=!1;function ib(t,e){if(!t||rb)return"";rb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{rb=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?rf(t):""}function J9(t){switch(t.tag){case 5:return rf(t.type);case 16:return rf("Lazy");case 13:return rf("Suspense");case 19:return rf("SuspenseList");case 0:case 2:case 15:return t=ib(t.type,!1),t;case 11:return t=ib(t.type.render,!1),t;case 1:return t=ib(t.type,!0),t;default:return""}}function Kw(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case bc:return"Fragment";case _c:return"Portal";case Hw:return"Profiler";case NS:return"StrictMode";case qw:return"Suspense";case Gw:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case M$:return(t.displayName||"Context")+".Consumer";case j$:return(t._context.displayName||"Context")+".Provider";case RS:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case jS:return e=t.displayName||null,e!==null?e:Kw(t.type)||"Memo";case Ms:e=t._payload,t=t._init;try{return Kw(t(e))}catch{}}return null}function Z9(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kw(e);case 8:return e===NS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function da(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $$(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function eW(t){var e=$$(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function _m(t){t._valueTracker||(t._valueTracker=eW(t))}function L$(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=$$(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function zg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Qw(t,e){var n=e.checked;return rn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function KI(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=da(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function F$(t,e){e=e.checked,e!=null&&kS(t,"checked",e,!1)}function Yw(t,e){F$(t,e);var n=da(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Xw(t,e.type,n):e.hasOwnProperty("defaultValue")&&Xw(t,e.type,da(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function QI(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Xw(t,e,n){(e!=="number"||zg(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var of=Array.isArray;function Fc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+da(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Jw(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ce(91));return rn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function YI(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ce(92));if(of(n)){if(1<n.length)throw Error(ce(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:da(n)}}function V$(t,e){var n=da(e.value),r=da(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function XI(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function U$(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zw(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?U$(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var bm,B$=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(bm=bm||document.createElement("div"),bm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=bm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Jf(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var vf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tW=["Webkit","ms","Moz","O"];Object.keys(vf).forEach(function(t){tW.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),vf[e]=vf[t]})});function z$(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||vf.hasOwnProperty(t)&&vf[t]?(""+e).trim():e+"px"}function W$(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=z$(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var nW=rn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ex(t,e){if(e){if(nW[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ce(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ce(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ce(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ce(62))}}function tx(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nx=null;function MS(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var rx=null,Vc=null,Uc=null;function JI(t){if(t=kp(t)){if(typeof rx!="function")throw Error(ce(280));var e=t.stateNode;e&&(e=Yv(e),rx(t.stateNode,t.type,e))}}function H$(t){Vc?Uc?Uc.push(t):Uc=[t]:Vc=t}function q$(){if(Vc){var t=Vc,e=Uc;if(Uc=Vc=null,JI(t),e)for(t=0;t<e.length;t++)JI(e[t])}}function G$(t,e){return t(e)}function K$(){}var ob=!1;function Q$(t,e,n){if(ob)return t(e,n);ob=!0;try{return G$(t,e,n)}finally{ob=!1,(Vc!==null||Uc!==null)&&(K$(),q$())}}function Zf(t,e){var n=t.stateNode;if(n===null)return null;var r=Yv(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ce(231,e,typeof n));return n}var ix=!1;if(fs)try{var Ed={};Object.defineProperty(Ed,"passive",{get:function(){ix=!0}}),window.addEventListener("test",Ed,Ed),window.removeEventListener("test",Ed,Ed)}catch{ix=!1}function rW(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var _f=!1,Wg=null,Hg=!1,ox=null,iW={onError:function(t){_f=!0,Wg=t}};function oW(t,e,n,r,i,o,s,a,l){_f=!1,Wg=null,rW.apply(iW,arguments)}function sW(t,e,n,r,i,o,s,a,l){if(oW.apply(this,arguments),_f){if(_f){var c=Wg;_f=!1,Wg=null}else throw Error(ce(198));Hg||(Hg=!0,ox=c)}}function ql(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Y$(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ZI(t){if(ql(t)!==t)throw Error(ce(188))}function aW(t){var e=t.alternate;if(!e){if(e=ql(t),e===null)throw Error(ce(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return ZI(i),t;if(o===r)return ZI(i),e;o=o.sibling}throw Error(ce(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(ce(189))}}if(n.alternate!==r)throw Error(ce(190))}if(n.tag!==3)throw Error(ce(188));return n.stateNode.current===n?t:e}function X$(t){return t=aW(t),t!==null?J$(t):null}function J$(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=J$(t);if(e!==null)return e;t=t.sibling}return null}var Z$=li.unstable_scheduleCallback,eP=li.unstable_cancelCallback,lW=li.unstable_shouldYield,cW=li.unstable_requestPaint,pn=li.unstable_now,uW=li.unstable_getCurrentPriorityLevel,DS=li.unstable_ImmediatePriority,e2=li.unstable_UserBlockingPriority,qg=li.unstable_NormalPriority,dW=li.unstable_LowPriority,t2=li.unstable_IdlePriority,qv=null,Co=null;function fW(t){if(Co&&typeof Co.onCommitFiberRoot=="function")try{Co.onCommitFiberRoot(qv,t,void 0,(t.current.flags&128)===128)}catch{}}var Zi=Math.clz32?Math.clz32:mW,hW=Math.log,pW=Math.LN2;function mW(t){return t>>>=0,t===0?32:31-(hW(t)/pW|0)|0}var wm=64,xm=4194304;function sf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Gg(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=sf(a):(o&=s,o!==0&&(r=sf(o)))}else s=n&~i,s!==0?r=sf(s):o!==0&&(r=sf(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Zi(e),i=1<<n,r|=t[n],e&=~i;return r}function gW(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yW(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Zi(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=gW(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function sx(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function n2(){var t=wm;return wm<<=1,!(wm&4194240)&&(wm=64),t}function sb(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Pp(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Zi(e),t[e]=n}function vW(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Zi(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function $S(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Zi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Pt=0;function r2(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var i2,LS,o2,s2,a2,ax=!1,Em=[],Ks=null,Qs=null,Ys=null,eh=new Map,th=new Map,Ls=[],_W="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tP(t,e){switch(t){case"focusin":case"focusout":Ks=null;break;case"dragenter":case"dragleave":Qs=null;break;case"mouseover":case"mouseout":Ys=null;break;case"pointerover":case"pointerout":eh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":th.delete(e.pointerId)}}function Sd(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=kp(e),e!==null&&LS(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function bW(t,e,n,r,i){switch(e){case"focusin":return Ks=Sd(Ks,t,e,n,r,i),!0;case"dragenter":return Qs=Sd(Qs,t,e,n,r,i),!0;case"mouseover":return Ys=Sd(Ys,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return eh.set(o,Sd(eh.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,th.set(o,Sd(th.get(o)||null,t,e,n,r,i)),!0}return!1}function l2(t){var e=Ka(t.target);if(e!==null){var n=ql(e);if(n!==null){if(e=n.tag,e===13){if(e=Y$(n),e!==null){t.blockedOn=e,a2(t.priority,function(){o2(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=lx(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);nx=r,n.target.dispatchEvent(r),nx=null}else return e=kp(n),e!==null&&LS(e),t.blockedOn=n,!1;e.shift()}return!0}function nP(t,e,n){mg(t)&&n.delete(e)}function wW(){ax=!1,Ks!==null&&mg(Ks)&&(Ks=null),Qs!==null&&mg(Qs)&&(Qs=null),Ys!==null&&mg(Ys)&&(Ys=null),eh.forEach(nP),th.forEach(nP)}function Td(t,e){t.blockedOn===e&&(t.blockedOn=null,ax||(ax=!0,li.unstable_scheduleCallback(li.unstable_NormalPriority,wW)))}function nh(t){function e(i){return Td(i,t)}if(0<Em.length){Td(Em[0],t);for(var n=1;n<Em.length;n++){var r=Em[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ks!==null&&Td(Ks,t),Qs!==null&&Td(Qs,t),Ys!==null&&Td(Ys,t),eh.forEach(e),th.forEach(e),n=0;n<Ls.length;n++)r=Ls[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ls.length&&(n=Ls[0],n.blockedOn===null);)l2(n),n.blockedOn===null&&Ls.shift()}var Bc=Es.ReactCurrentBatchConfig,Kg=!0;function xW(t,e,n,r){var i=Pt,o=Bc.transition;Bc.transition=null;try{Pt=1,FS(t,e,n,r)}finally{Pt=i,Bc.transition=o}}function EW(t,e,n,r){var i=Pt,o=Bc.transition;Bc.transition=null;try{Pt=4,FS(t,e,n,r)}finally{Pt=i,Bc.transition=o}}function FS(t,e,n,r){if(Kg){var i=lx(t,e,n,r);if(i===null)gb(t,e,r,Qg,n),tP(t,r);else if(bW(i,t,e,n,r))r.stopPropagation();else if(tP(t,r),e&4&&-1<_W.indexOf(t)){for(;i!==null;){var o=kp(i);if(o!==null&&i2(o),o=lx(t,e,n,r),o===null&&gb(t,e,r,Qg,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else gb(t,e,r,null,n)}}var Qg=null;function lx(t,e,n,r){if(Qg=null,t=MS(r),t=Ka(t),t!==null)if(e=ql(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Y$(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Qg=t,null}function c2(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uW()){case DS:return 1;case e2:return 4;case qg:case dW:return 16;case t2:return 536870912;default:return 16}default:return 16}}var Ws=null,VS=null,gg=null;function u2(){if(gg)return gg;var t,e=VS,n=e.length,r,i="value"in Ws?Ws.value:Ws.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return gg=i.slice(t,1<r?1-r:void 0)}function yg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Sm(){return!0}function rP(){return!1}function di(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Sm:rP,this.isPropagationStopped=rP,this}return rn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Sm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Sm)},persist:function(){},isPersistent:Sm}),e}var zu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},US=di(zu),Op=rn({},zu,{view:0,detail:0}),SW=di(Op),ab,lb,Cd,Gv=rn({},Op,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:BS,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Cd&&(Cd&&t.type==="mousemove"?(ab=t.screenX-Cd.screenX,lb=t.screenY-Cd.screenY):lb=ab=0,Cd=t),ab)},movementY:function(t){return"movementY"in t?t.movementY:lb}}),iP=di(Gv),TW=rn({},Gv,{dataTransfer:0}),CW=di(TW),AW=rn({},Op,{relatedTarget:0}),cb=di(AW),IW=rn({},zu,{animationName:0,elapsedTime:0,pseudoElement:0}),PW=di(IW),OW=rn({},zu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),kW=di(OW),NW=rn({},zu,{data:0}),oP=di(NW),RW={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jW={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MW={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DW(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=MW[t])?!!e[t]:!1}function BS(){return DW}var $W=rn({},Op,{key:function(t){if(t.key){var e=RW[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=yg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?jW[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:BS,charCode:function(t){return t.type==="keypress"?yg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),LW=di($W),FW=rn({},Gv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sP=di(FW),VW=rn({},Op,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:BS}),UW=di(VW),BW=rn({},zu,{propertyName:0,elapsedTime:0,pseudoElement:0}),zW=di(BW),WW=rn({},Gv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),HW=di(WW),qW=[9,13,27,32],zS=fs&&"CompositionEvent"in window,bf=null;fs&&"documentMode"in document&&(bf=document.documentMode);var GW=fs&&"TextEvent"in window&&!bf,d2=fs&&(!zS||bf&&8<bf&&11>=bf),aP=" ",lP=!1;function f2(t,e){switch(t){case"keyup":return qW.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function h2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wc=!1;function KW(t,e){switch(t){case"compositionend":return h2(e);case"keypress":return e.which!==32?null:(lP=!0,aP);case"textInput":return t=e.data,t===aP&&lP?null:t;default:return null}}function QW(t,e){if(wc)return t==="compositionend"||!zS&&f2(t,e)?(t=u2(),gg=VS=Ws=null,wc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return d2&&e.locale!=="ko"?null:e.data;default:return null}}var YW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!YW[t.type]:e==="textarea"}function p2(t,e,n,r){H$(r),e=Yg(e,"onChange"),0<e.length&&(n=new US("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var wf=null,rh=null;function XW(t){T2(t,0)}function Kv(t){var e=Sc(t);if(L$(e))return t}function JW(t,e){if(t==="change")return e}var m2=!1;if(fs){var ub;if(fs){var db="oninput"in document;if(!db){var uP=document.createElement("div");uP.setAttribute("oninput","return;"),db=typeof uP.oninput=="function"}ub=db}else ub=!1;m2=ub&&(!document.documentMode||9<document.documentMode)}function dP(){wf&&(wf.detachEvent("onpropertychange",g2),rh=wf=null)}function g2(t){if(t.propertyName==="value"&&Kv(rh)){var e=[];p2(e,rh,t,MS(t)),Q$(XW,e)}}function ZW(t,e,n){t==="focusin"?(dP(),wf=e,rh=n,wf.attachEvent("onpropertychange",g2)):t==="focusout"&&dP()}function eH(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Kv(rh)}function tH(t,e){if(t==="click")return Kv(e)}function nH(t,e){if(t==="input"||t==="change")return Kv(e)}function rH(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var oo=typeof Object.is=="function"?Object.is:rH;function ih(t,e){if(oo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ww.call(e,i)||!oo(t[i],e[i]))return!1}return!0}function fP(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hP(t,e){var n=fP(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fP(n)}}function y2(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?y2(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function v2(){for(var t=window,e=zg();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=zg(t.document)}return e}function WS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function iH(t){var e=v2(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&y2(n.ownerDocument.documentElement,n)){if(r!==null&&WS(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=hP(n,o);var s=hP(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var oH=fs&&"documentMode"in document&&11>=document.documentMode,xc=null,cx=null,xf=null,ux=!1;function pP(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ux||xc==null||xc!==zg(r)||(r=xc,"selectionStart"in r&&WS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),xf&&ih(xf,r)||(xf=r,r=Yg(cx,"onSelect"),0<r.length&&(e=new US("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=xc)))}function Tm(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ec={animationend:Tm("Animation","AnimationEnd"),animationiteration:Tm("Animation","AnimationIteration"),animationstart:Tm("Animation","AnimationStart"),transitionend:Tm("Transition","TransitionEnd")},fb={},_2={};fs&&(_2=document.createElement("div").style,"AnimationEvent"in window||(delete Ec.animationend.animation,delete Ec.animationiteration.animation,delete Ec.animationstart.animation),"TransitionEvent"in window||delete Ec.transitionend.transition);function Qv(t){if(fb[t])return fb[t];if(!Ec[t])return t;var e=Ec[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in _2)return fb[t]=e[n];return t}var b2=Qv("animationend"),w2=Qv("animationiteration"),x2=Qv("animationstart"),E2=Qv("transitionend"),S2=new Map,mP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ba(t,e){S2.set(t,e),Hl(e,[t])}for(var hb=0;hb<mP.length;hb++){var pb=mP[hb],sH=pb.toLowerCase(),aH=pb[0].toUpperCase()+pb.slice(1);ba(sH,"on"+aH)}ba(b2,"onAnimationEnd");ba(w2,"onAnimationIteration");ba(x2,"onAnimationStart");ba("dblclick","onDoubleClick");ba("focusin","onFocus");ba("focusout","onBlur");ba(E2,"onTransitionEnd");nu("onMouseEnter",["mouseout","mouseover"]);nu("onMouseLeave",["mouseout","mouseover"]);nu("onPointerEnter",["pointerout","pointerover"]);nu("onPointerLeave",["pointerout","pointerover"]);Hl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var af="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lH=new Set("cancel close invalid load scroll toggle".split(" ").concat(af));function gP(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,sW(r,e,void 0,t),t.currentTarget=null}function T2(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;gP(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;gP(i,a,c),o=l}}}if(Hg)throw t=ox,Hg=!1,ox=null,t}function Bt(t,e){var n=e[mx];n===void 0&&(n=e[mx]=new Set);var r=t+"__bubble";n.has(r)||(C2(e,t,2,!1),n.add(r))}function mb(t,e,n){var r=0;e&&(r|=4),C2(n,t,r,e)}var Cm="_reactListening"+Math.random().toString(36).slice(2);function oh(t){if(!t[Cm]){t[Cm]=!0,R$.forEach(function(n){n!=="selectionchange"&&(lH.has(n)||mb(n,!1,t),mb(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Cm]||(e[Cm]=!0,mb("selectionchange",!1,e))}}function C2(t,e,n,r){switch(c2(e)){case 1:var i=xW;break;case 4:i=EW;break;default:i=FS}n=i.bind(null,e,n,t),i=void 0,!ix||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function gb(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Ka(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}Q$(function(){var c=o,u=MS(n),d=[];e:{var h=S2.get(t);if(h!==void 0){var p=US,m=t;switch(t){case"keypress":if(yg(n)===0)break e;case"keydown":case"keyup":p=LW;break;case"focusin":m="focus",p=cb;break;case"focusout":m="blur",p=cb;break;case"beforeblur":case"afterblur":p=cb;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=iP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=CW;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=UW;break;case b2:case w2:case x2:p=PW;break;case E2:p=zW;break;case"scroll":p=SW;break;case"wheel":p=HW;break;case"copy":case"cut":case"paste":p=kW;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=sP}var v=(e&4)!==0,y=!v&&t==="scroll",b=v?h!==null?h+"Capture":null:h;v=[];for(var g=c,_;g!==null;){_=g;var w=_.stateNode;if(_.tag===5&&w!==null&&(_=w,b!==null&&(w=Zf(g,b),w!=null&&v.push(sh(g,w,_)))),y)break;g=g.return}0<v.length&&(h=new p(h,m,null,n,u),d.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==nx&&(m=n.relatedTarget||n.fromElement)&&(Ka(m)||m[hs]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?Ka(m):null,m!==null&&(y=ql(m),m!==y||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(v=iP,w="onMouseLeave",b="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(v=sP,w="onPointerLeave",b="onPointerEnter",g="pointer"),y=p==null?h:Sc(p),_=m==null?h:Sc(m),h=new v(w,g+"leave",p,n,u),h.target=y,h.relatedTarget=_,w=null,Ka(u)===c&&(v=new v(b,g+"enter",m,n,u),v.target=_,v.relatedTarget=y,w=v),y=w,p&&m)t:{for(v=p,b=m,g=0,_=v;_;_=lc(_))g++;for(_=0,w=b;w;w=lc(w))_++;for(;0<g-_;)v=lc(v),g--;for(;0<_-g;)b=lc(b),_--;for(;g--;){if(v===b||b!==null&&v===b.alternate)break t;v=lc(v),b=lc(b)}v=null}else v=null;p!==null&&yP(d,h,p,v,!1),m!==null&&y!==null&&yP(d,y,m,v,!0)}}e:{if(h=c?Sc(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var E=JW;else if(cP(h))if(m2)E=nH;else{E=eH;var x=ZW}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=tH);if(E&&(E=E(t,c))){p2(d,E,n,u);break e}x&&x(t,h,c),t==="focusout"&&(x=h._wrapperState)&&x.controlled&&h.type==="number"&&Xw(h,"number",h.value)}switch(x=c?Sc(c):window,t){case"focusin":(cP(x)||x.contentEditable==="true")&&(xc=x,cx=c,xf=null);break;case"focusout":xf=cx=xc=null;break;case"mousedown":ux=!0;break;case"contextmenu":case"mouseup":case"dragend":ux=!1,pP(d,n,u);break;case"selectionchange":if(oH)break;case"keydown":case"keyup":pP(d,n,u)}var T;if(zS)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else wc?f2(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(d2&&n.locale!=="ko"&&(wc||C!=="onCompositionStart"?C==="onCompositionEnd"&&wc&&(T=u2()):(Ws=u,VS="value"in Ws?Ws.value:Ws.textContent,wc=!0)),x=Yg(c,C),0<x.length&&(C=new oP(C,t,null,n,u),d.push({event:C,listeners:x}),T?C.data=T:(T=h2(n),T!==null&&(C.data=T)))),(T=GW?KW(t,n):QW(t,n))&&(c=Yg(c,"onBeforeInput"),0<c.length&&(u=new oP("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=T))}T2(d,e)})}function sh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Yg(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Zf(t,n),o!=null&&r.unshift(sh(t,o,i)),o=Zf(t,e),o!=null&&r.push(sh(t,o,i))),t=t.return}return r}function lc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function yP(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Zf(n,o),l!=null&&s.unshift(sh(n,l,a))):i||(l=Zf(n,o),l!=null&&s.push(sh(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var cH=/\r\n?/g,uH=/\u0000|\uFFFD/g;function vP(t){return(typeof t=="string"?t:""+t).replace(cH,`
`).replace(uH,"")}function Am(t,e,n){if(e=vP(e),vP(t)!==e&&n)throw Error(ce(425))}function Xg(){}var dx=null,fx=null;function hx(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var px=typeof setTimeout=="function"?setTimeout:void 0,dH=typeof clearTimeout=="function"?clearTimeout:void 0,_P=typeof Promise=="function"?Promise:void 0,fH=typeof queueMicrotask=="function"?queueMicrotask:typeof _P<"u"?function(t){return _P.resolve(null).then(t).catch(hH)}:px;function hH(t){setTimeout(function(){throw t})}function yb(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),nh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);nh(e)}function Xs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function bP(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Wu=Math.random().toString(36).slice(2),_o="__reactFiber$"+Wu,ah="__reactProps$"+Wu,hs="__reactContainer$"+Wu,mx="__reactEvents$"+Wu,pH="__reactListeners$"+Wu,mH="__reactHandles$"+Wu;function Ka(t){var e=t[_o];if(e)return e;for(var n=t.parentNode;n;){if(e=n[hs]||n[_o]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=bP(t);t!==null;){if(n=t[_o])return n;t=bP(t)}return e}t=n,n=t.parentNode}return null}function kp(t){return t=t[_o]||t[hs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Sc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ce(33))}function Yv(t){return t[ah]||null}var gx=[],Tc=-1;function wa(t){return{current:t}}function Yt(t){0>Tc||(t.current=gx[Tc],gx[Tc]=null,Tc--)}function Ft(t,e){Tc++,gx[Tc]=t.current,t.current=e}var fa={},Sr=wa(fa),qr=wa(!1),bl=fa;function ru(t,e){var n=t.type.contextTypes;if(!n)return fa;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Gr(t){return t=t.childContextTypes,t!=null}function Jg(){Yt(qr),Yt(Sr)}function wP(t,e,n){if(Sr.current!==fa)throw Error(ce(168));Ft(Sr,e),Ft(qr,n)}function A2(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ce(108,Z9(t)||"Unknown",i));return rn({},n,r)}function Zg(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||fa,bl=Sr.current,Ft(Sr,t),Ft(qr,qr.current),!0}function xP(t,e,n){var r=t.stateNode;if(!r)throw Error(ce(169));n?(t=A2(t,e,bl),r.__reactInternalMemoizedMergedChildContext=t,Yt(qr),Yt(Sr),Ft(Sr,t)):Yt(qr),Ft(qr,n)}var Ko=null,Xv=!1,vb=!1;function I2(t){Ko===null?Ko=[t]:Ko.push(t)}function gH(t){Xv=!0,I2(t)}function xa(){if(!vb&&Ko!==null){vb=!0;var t=0,e=Pt;try{var n=Ko;for(Pt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ko=null,Xv=!1}catch(i){throw Ko!==null&&(Ko=Ko.slice(t+1)),Z$(DS,xa),i}finally{Pt=e,vb=!1}}return null}var Cc=[],Ac=0,ey=null,ty=0,vi=[],_i=0,wl=null,Qo=1,Yo="";function Fa(t,e){Cc[Ac++]=ty,Cc[Ac++]=ey,ey=t,ty=e}function P2(t,e,n){vi[_i++]=Qo,vi[_i++]=Yo,vi[_i++]=wl,wl=t;var r=Qo;t=Yo;var i=32-Zi(r)-1;r&=~(1<<i),n+=1;var o=32-Zi(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Qo=1<<32-Zi(e)+i|n<<i|r,Yo=o+t}else Qo=1<<o|n<<i|r,Yo=t}function HS(t){t.return!==null&&(Fa(t,1),P2(t,1,0))}function qS(t){for(;t===ey;)ey=Cc[--Ac],Cc[Ac]=null,ty=Cc[--Ac],Cc[Ac]=null;for(;t===wl;)wl=vi[--_i],vi[_i]=null,Yo=vi[--_i],vi[_i]=null,Qo=vi[--_i],vi[_i]=null}var si=null,ri=null,Jt=!1,Gi=null;function O2(t,e){var n=xi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function EP(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,si=t,ri=Xs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,si=t,ri=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=wl!==null?{id:Qo,overflow:Yo}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=xi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,si=t,ri=null,!0):!1;default:return!1}}function yx(t){return(t.mode&1)!==0&&(t.flags&128)===0}function vx(t){if(Jt){var e=ri;if(e){var n=e;if(!EP(t,e)){if(yx(t))throw Error(ce(418));e=Xs(n.nextSibling);var r=si;e&&EP(t,e)?O2(r,n):(t.flags=t.flags&-4097|2,Jt=!1,si=t)}}else{if(yx(t))throw Error(ce(418));t.flags=t.flags&-4097|2,Jt=!1,si=t}}}function SP(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;si=t}function Im(t){if(t!==si)return!1;if(!Jt)return SP(t),Jt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!hx(t.type,t.memoizedProps)),e&&(e=ri)){if(yx(t))throw k2(),Error(ce(418));for(;e;)O2(t,e),e=Xs(e.nextSibling)}if(SP(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ce(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ri=Xs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ri=null}}else ri=si?Xs(t.stateNode.nextSibling):null;return!0}function k2(){for(var t=ri;t;)t=Xs(t.nextSibling)}function iu(){ri=si=null,Jt=!1}function GS(t){Gi===null?Gi=[t]:Gi.push(t)}var yH=Es.ReactCurrentBatchConfig;function zi(t,e){if(t&&t.defaultProps){e=rn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var ny=wa(null),ry=null,Ic=null,KS=null;function QS(){KS=Ic=ry=null}function YS(t){var e=ny.current;Yt(ny),t._currentValue=e}function _x(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function zc(t,e){ry=t,KS=Ic=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(zr=!0),t.firstContext=null)}function Pi(t){var e=t._currentValue;if(KS!==t)if(t={context:t,memoizedValue:e,next:null},Ic===null){if(ry===null)throw Error(ce(308));Ic=t,ry.dependencies={lanes:0,firstContext:t}}else Ic=Ic.next=t;return e}var Qa=null;function XS(t){Qa===null?Qa=[t]:Qa.push(t)}function N2(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,XS(e)):(n.next=i.next,i.next=n),e.interleaved=n,ps(t,r)}function ps(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ds=!1;function JS(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function R2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function os(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Js(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,vt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ps(t,n)}return i=r.interleaved,i===null?(e.next=e,XS(r)):(e.next=i.next,i.next=e),r.interleaved=e,ps(t,n)}function vg(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$S(t,n)}}function TP(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function iy(t,e,n,r){var i=t.updateQueue;Ds=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,u=c=l=null,a=o;do{var h=a.lane,p=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,v=a;switch(h=e,p=n,v.tag){case 1:if(m=v.payload,typeof m=="function"){d=m.call(p,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,h=typeof m=="function"?m.call(p,d,h):m,h==null)break e;d=rn({},d,h);break e;case 2:Ds=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);El|=s,t.lanes=s,t.memoizedState=d}}function CP(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ce(191,i));i.call(r)}}}var j2=new N$.Component().refs;function bx(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:rn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Jv={isMounted:function(t){return(t=t._reactInternals)?ql(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Nr(),i=ea(t),o=os(r,i);o.payload=e,n!=null&&(o.callback=n),e=Js(t,o,i),e!==null&&(eo(e,t,i,r),vg(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Nr(),i=ea(t),o=os(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Js(t,o,i),e!==null&&(eo(e,t,i,r),vg(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Nr(),r=ea(t),i=os(n,r);i.tag=2,e!=null&&(i.callback=e),e=Js(t,i,r),e!==null&&(eo(e,t,r,n),vg(e,t,r))}};function AP(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!ih(n,r)||!ih(i,o):!0}function M2(t,e,n){var r=!1,i=fa,o=e.contextType;return typeof o=="object"&&o!==null?o=Pi(o):(i=Gr(e)?bl:Sr.current,r=e.contextTypes,o=(r=r!=null)?ru(t,i):fa),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Jv,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function IP(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Jv.enqueueReplaceState(e,e.state,null)}function wx(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=j2,JS(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Pi(o):(o=Gr(e)?bl:Sr.current,i.context=ru(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(bx(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Jv.enqueueReplaceState(i,i.state,null),iy(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ad(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ce(309));var r=n.stateNode}if(!r)throw Error(ce(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===j2&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(ce(284));if(!n._owner)throw Error(ce(290,t))}return t}function Pm(t,e){throw t=Object.prototype.toString.call(e),Error(ce(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function PP(t){var e=t._init;return e(t._payload)}function D2(t){function e(b,g){if(t){var _=b.deletions;_===null?(b.deletions=[g],b.flags|=16):_.push(g)}}function n(b,g){if(!t)return null;for(;g!==null;)e(b,g),g=g.sibling;return null}function r(b,g){for(b=new Map;g!==null;)g.key!==null?b.set(g.key,g):b.set(g.index,g),g=g.sibling;return b}function i(b,g){return b=ta(b,g),b.index=0,b.sibling=null,b}function o(b,g,_){return b.index=_,t?(_=b.alternate,_!==null?(_=_.index,_<g?(b.flags|=2,g):_):(b.flags|=2,g)):(b.flags|=1048576,g)}function s(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,g,_,w){return g===null||g.tag!==6?(g=Tb(_,b.mode,w),g.return=b,g):(g=i(g,_),g.return=b,g)}function l(b,g,_,w){var E=_.type;return E===bc?u(b,g,_.props.children,w,_.key):g!==null&&(g.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ms&&PP(E)===g.type)?(w=i(g,_.props),w.ref=Ad(b,g,_),w.return=b,w):(w=Sg(_.type,_.key,_.props,null,b.mode,w),w.ref=Ad(b,g,_),w.return=b,w)}function c(b,g,_,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==_.containerInfo||g.stateNode.implementation!==_.implementation?(g=Cb(_,b.mode,w),g.return=b,g):(g=i(g,_.children||[]),g.return=b,g)}function u(b,g,_,w,E){return g===null||g.tag!==7?(g=dl(_,b.mode,w,E),g.return=b,g):(g=i(g,_),g.return=b,g)}function d(b,g,_){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Tb(""+g,b.mode,_),g.return=b,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case vm:return _=Sg(g.type,g.key,g.props,null,b.mode,_),_.ref=Ad(b,null,g),_.return=b,_;case _c:return g=Cb(g,b.mode,_),g.return=b,g;case Ms:var w=g._init;return d(b,w(g._payload),_)}if(of(g)||xd(g))return g=dl(g,b.mode,_,null),g.return=b,g;Pm(b,g)}return null}function h(b,g,_,w){var E=g!==null?g.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return E!==null?null:a(b,g,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case vm:return _.key===E?l(b,g,_,w):null;case _c:return _.key===E?c(b,g,_,w):null;case Ms:return E=_._init,h(b,g,E(_._payload),w)}if(of(_)||xd(_))return E!==null?null:u(b,g,_,w,null);Pm(b,_)}return null}function p(b,g,_,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return b=b.get(_)||null,a(g,b,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case vm:return b=b.get(w.key===null?_:w.key)||null,l(g,b,w,E);case _c:return b=b.get(w.key===null?_:w.key)||null,c(g,b,w,E);case Ms:var x=w._init;return p(b,g,_,x(w._payload),E)}if(of(w)||xd(w))return b=b.get(_)||null,u(g,b,w,E,null);Pm(g,w)}return null}function m(b,g,_,w){for(var E=null,x=null,T=g,C=g=0,O=null;T!==null&&C<_.length;C++){T.index>C?(O=T,T=null):O=T.sibling;var I=h(b,T,_[C],w);if(I===null){T===null&&(T=O);break}t&&T&&I.alternate===null&&e(b,T),g=o(I,g,C),x===null?E=I:x.sibling=I,x=I,T=O}if(C===_.length)return n(b,T),Jt&&Fa(b,C),E;if(T===null){for(;C<_.length;C++)T=d(b,_[C],w),T!==null&&(g=o(T,g,C),x===null?E=T:x.sibling=T,x=T);return Jt&&Fa(b,C),E}for(T=r(b,T);C<_.length;C++)O=p(T,b,C,_[C],w),O!==null&&(t&&O.alternate!==null&&T.delete(O.key===null?C:O.key),g=o(O,g,C),x===null?E=O:x.sibling=O,x=O);return t&&T.forEach(function(D){return e(b,D)}),Jt&&Fa(b,C),E}function v(b,g,_,w){var E=xd(_);if(typeof E!="function")throw Error(ce(150));if(_=E.call(_),_==null)throw Error(ce(151));for(var x=E=null,T=g,C=g=0,O=null,I=_.next();T!==null&&!I.done;C++,I=_.next()){T.index>C?(O=T,T=null):O=T.sibling;var D=h(b,T,I.value,w);if(D===null){T===null&&(T=O);break}t&&T&&D.alternate===null&&e(b,T),g=o(D,g,C),x===null?E=D:x.sibling=D,x=D,T=O}if(I.done)return n(b,T),Jt&&Fa(b,C),E;if(T===null){for(;!I.done;C++,I=_.next())I=d(b,I.value,w),I!==null&&(g=o(I,g,C),x===null?E=I:x.sibling=I,x=I);return Jt&&Fa(b,C),E}for(T=r(b,T);!I.done;C++,I=_.next())I=p(T,b,C,I.value,w),I!==null&&(t&&I.alternate!==null&&T.delete(I.key===null?C:I.key),g=o(I,g,C),x===null?E=I:x.sibling=I,x=I);return t&&T.forEach(function(L){return e(b,L)}),Jt&&Fa(b,C),E}function y(b,g,_,w){if(typeof _=="object"&&_!==null&&_.type===bc&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case vm:e:{for(var E=_.key,x=g;x!==null;){if(x.key===E){if(E=_.type,E===bc){if(x.tag===7){n(b,x.sibling),g=i(x,_.props.children),g.return=b,b=g;break e}}else if(x.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ms&&PP(E)===x.type){n(b,x.sibling),g=i(x,_.props),g.ref=Ad(b,x,_),g.return=b,b=g;break e}n(b,x);break}else e(b,x);x=x.sibling}_.type===bc?(g=dl(_.props.children,b.mode,w,_.key),g.return=b,b=g):(w=Sg(_.type,_.key,_.props,null,b.mode,w),w.ref=Ad(b,g,_),w.return=b,b=w)}return s(b);case _c:e:{for(x=_.key;g!==null;){if(g.key===x)if(g.tag===4&&g.stateNode.containerInfo===_.containerInfo&&g.stateNode.implementation===_.implementation){n(b,g.sibling),g=i(g,_.children||[]),g.return=b,b=g;break e}else{n(b,g);break}else e(b,g);g=g.sibling}g=Cb(_,b.mode,w),g.return=b,b=g}return s(b);case Ms:return x=_._init,y(b,g,x(_._payload),w)}if(of(_))return m(b,g,_,w);if(xd(_))return v(b,g,_,w);Pm(b,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,g!==null&&g.tag===6?(n(b,g.sibling),g=i(g,_),g.return=b,b=g):(n(b,g),g=Tb(_,b.mode,w),g.return=b,b=g),s(b)):n(b,g)}return y}var ou=D2(!0),$2=D2(!1),Np={},Ao=wa(Np),lh=wa(Np),ch=wa(Np);function Ya(t){if(t===Np)throw Error(ce(174));return t}function ZS(t,e){switch(Ft(ch,e),Ft(lh,t),Ft(Ao,Np),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Zw(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Zw(e,t)}Yt(Ao),Ft(Ao,e)}function su(){Yt(Ao),Yt(lh),Yt(ch)}function L2(t){Ya(ch.current);var e=Ya(Ao.current),n=Zw(e,t.type);e!==n&&(Ft(lh,t),Ft(Ao,n))}function eT(t){lh.current===t&&(Yt(Ao),Yt(lh))}var tn=wa(0);function oy(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _b=[];function tT(){for(var t=0;t<_b.length;t++)_b[t]._workInProgressVersionPrimary=null;_b.length=0}var _g=Es.ReactCurrentDispatcher,bb=Es.ReactCurrentBatchConfig,xl=0,nn=null,On=null,Vn=null,sy=!1,Ef=!1,uh=0,vH=0;function cr(){throw Error(ce(321))}function nT(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!oo(t[n],e[n]))return!1;return!0}function rT(t,e,n,r,i,o){if(xl=o,nn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,_g.current=t===null||t.memoizedState===null?xH:EH,t=n(r,i),Ef){o=0;do{if(Ef=!1,uh=0,25<=o)throw Error(ce(301));o+=1,Vn=On=null,e.updateQueue=null,_g.current=SH,t=n(r,i)}while(Ef)}if(_g.current=ay,e=On!==null&&On.next!==null,xl=0,Vn=On=nn=null,sy=!1,e)throw Error(ce(300));return t}function iT(){var t=uh!==0;return uh=0,t}function go(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vn===null?nn.memoizedState=Vn=t:Vn=Vn.next=t,Vn}function Oi(){if(On===null){var t=nn.alternate;t=t!==null?t.memoizedState:null}else t=On.next;var e=Vn===null?nn.memoizedState:Vn.next;if(e!==null)Vn=e,On=t;else{if(t===null)throw Error(ce(310));On=t,t={memoizedState:On.memoizedState,baseState:On.baseState,baseQueue:On.baseQueue,queue:On.queue,next:null},Vn===null?nn.memoizedState=Vn=t:Vn=Vn.next=t}return Vn}function dh(t,e){return typeof e=="function"?e(t):e}function wb(t){var e=Oi(),n=e.queue;if(n===null)throw Error(ce(311));n.lastRenderedReducer=t;var r=On,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((xl&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,nn.lanes|=u,El|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,oo(r,e.memoizedState)||(zr=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,nn.lanes|=o,El|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function xb(t){var e=Oi(),n=e.queue;if(n===null)throw Error(ce(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);oo(o,e.memoizedState)||(zr=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function F2(){}function V2(t,e){var n=nn,r=Oi(),i=e(),o=!oo(r.memoizedState,i);if(o&&(r.memoizedState=i,zr=!0),r=r.queue,oT(z2.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Vn!==null&&Vn.memoizedState.tag&1){if(n.flags|=2048,fh(9,B2.bind(null,n,r,i,e),void 0,null),Hn===null)throw Error(ce(349));xl&30||U2(n,e,i)}return i}function U2(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=nn.updateQueue,e===null?(e={lastEffect:null,stores:null},nn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function B2(t,e,n,r){e.value=n,e.getSnapshot=r,W2(e)&&H2(t)}function z2(t,e,n){return n(function(){W2(e)&&H2(t)})}function W2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!oo(t,n)}catch{return!0}}function H2(t){var e=ps(t,1);e!==null&&eo(e,t,1,-1)}function OP(t){var e=go();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dh,lastRenderedState:t},e.queue=t,t=t.dispatch=wH.bind(null,nn,t),[e.memoizedState,t]}function fh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=nn.updateQueue,e===null?(e={lastEffect:null,stores:null},nn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function q2(){return Oi().memoizedState}function bg(t,e,n,r){var i=go();nn.flags|=t,i.memoizedState=fh(1|e,n,void 0,r===void 0?null:r)}function Zv(t,e,n,r){var i=Oi();r=r===void 0?null:r;var o=void 0;if(On!==null){var s=On.memoizedState;if(o=s.destroy,r!==null&&nT(r,s.deps)){i.memoizedState=fh(e,n,o,r);return}}nn.flags|=t,i.memoizedState=fh(1|e,n,o,r)}function kP(t,e){return bg(8390656,8,t,e)}function oT(t,e){return Zv(2048,8,t,e)}function G2(t,e){return Zv(4,2,t,e)}function K2(t,e){return Zv(4,4,t,e)}function Q2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Y2(t,e,n){return n=n!=null?n.concat([t]):null,Zv(4,4,Q2.bind(null,e,t),n)}function sT(){}function X2(t,e){var n=Oi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&nT(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function J2(t,e){var n=Oi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&nT(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Z2(t,e,n){return xl&21?(oo(n,e)||(n=n2(),nn.lanes|=n,El|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,zr=!0),t.memoizedState=n)}function _H(t,e){var n=Pt;Pt=n!==0&&4>n?n:4,t(!0);var r=bb.transition;bb.transition={};try{t(!1),e()}finally{Pt=n,bb.transition=r}}function eL(){return Oi().memoizedState}function bH(t,e,n){var r=ea(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},tL(t))nL(e,n);else if(n=N2(t,e,n,r),n!==null){var i=Nr();eo(n,t,r,i),rL(n,e,r)}}function wH(t,e,n){var r=ea(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(tL(t))nL(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,oo(a,s)){var l=e.interleaved;l===null?(i.next=i,XS(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=N2(t,e,i,r),n!==null&&(i=Nr(),eo(n,t,r,i),rL(n,e,r))}}function tL(t){var e=t.alternate;return t===nn||e!==null&&e===nn}function nL(t,e){Ef=sy=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function rL(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$S(t,n)}}var ay={readContext:Pi,useCallback:cr,useContext:cr,useEffect:cr,useImperativeHandle:cr,useInsertionEffect:cr,useLayoutEffect:cr,useMemo:cr,useReducer:cr,useRef:cr,useState:cr,useDebugValue:cr,useDeferredValue:cr,useTransition:cr,useMutableSource:cr,useSyncExternalStore:cr,useId:cr,unstable_isNewReconciler:!1},xH={readContext:Pi,useCallback:function(t,e){return go().memoizedState=[t,e===void 0?null:e],t},useContext:Pi,useEffect:kP,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,bg(4194308,4,Q2.bind(null,e,t),n)},useLayoutEffect:function(t,e){return bg(4194308,4,t,e)},useInsertionEffect:function(t,e){return bg(4,2,t,e)},useMemo:function(t,e){var n=go();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=go();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=bH.bind(null,nn,t),[r.memoizedState,t]},useRef:function(t){var e=go();return t={current:t},e.memoizedState=t},useState:OP,useDebugValue:sT,useDeferredValue:function(t){return go().memoizedState=t},useTransition:function(){var t=OP(!1),e=t[0];return t=_H.bind(null,t[1]),go().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=nn,i=go();if(Jt){if(n===void 0)throw Error(ce(407));n=n()}else{if(n=e(),Hn===null)throw Error(ce(349));xl&30||U2(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,kP(z2.bind(null,r,o,t),[t]),r.flags|=2048,fh(9,B2.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=go(),e=Hn.identifierPrefix;if(Jt){var n=Yo,r=Qo;n=(r&~(1<<32-Zi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=uh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=vH++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},EH={readContext:Pi,useCallback:X2,useContext:Pi,useEffect:oT,useImperativeHandle:Y2,useInsertionEffect:G2,useLayoutEffect:K2,useMemo:J2,useReducer:wb,useRef:q2,useState:function(){return wb(dh)},useDebugValue:sT,useDeferredValue:function(t){var e=Oi();return Z2(e,On.memoizedState,t)},useTransition:function(){var t=wb(dh)[0],e=Oi().memoizedState;return[t,e]},useMutableSource:F2,useSyncExternalStore:V2,useId:eL,unstable_isNewReconciler:!1},SH={readContext:Pi,useCallback:X2,useContext:Pi,useEffect:oT,useImperativeHandle:Y2,useInsertionEffect:G2,useLayoutEffect:K2,useMemo:J2,useReducer:xb,useRef:q2,useState:function(){return xb(dh)},useDebugValue:sT,useDeferredValue:function(t){var e=Oi();return On===null?e.memoizedState=t:Z2(e,On.memoizedState,t)},useTransition:function(){var t=xb(dh)[0],e=Oi().memoizedState;return[t,e]},useMutableSource:F2,useSyncExternalStore:V2,useId:eL,unstable_isNewReconciler:!1};function au(t,e){try{var n="",r=e;do n+=J9(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Eb(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function xx(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var TH=typeof WeakMap=="function"?WeakMap:Map;function iL(t,e,n){n=os(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){cy||(cy=!0,Nx=r),xx(t,e)},n}function oL(t,e,n){n=os(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){xx(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){xx(t,e),typeof r!="function"&&(Zs===null?Zs=new Set([this]):Zs.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function NP(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new TH;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=FH.bind(null,t,e,n),e.then(t,t))}function RP(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function jP(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=os(-1,1),e.tag=2,Js(n,e,1))),n.lanes|=1),t)}var CH=Es.ReactCurrentOwner,zr=!1;function Pr(t,e,n,r){e.child=t===null?$2(e,null,n,r):ou(e,t.child,n,r)}function MP(t,e,n,r,i){n=n.render;var o=e.ref;return zc(e,i),r=rT(t,e,n,r,o,i),n=iT(),t!==null&&!zr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ms(t,e,i)):(Jt&&n&&HS(e),e.flags|=1,Pr(t,e,r,i),e.child)}function DP(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!pT(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,sL(t,e,o,r,i)):(t=Sg(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:ih,n(s,r)&&t.ref===e.ref)return ms(t,e,i)}return e.flags|=1,t=ta(o,r),t.ref=e.ref,t.return=e,e.child=t}function sL(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(ih(o,r)&&t.ref===e.ref)if(zr=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(zr=!0);else return e.lanes=t.lanes,ms(t,e,i)}return Ex(t,e,n,r,i)}function aL(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ft(Oc,ei),ei|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ft(Oc,ei),ei|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ft(Oc,ei),ei|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ft(Oc,ei),ei|=r;return Pr(t,e,i,n),e.child}function lL(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ex(t,e,n,r,i){var o=Gr(n)?bl:Sr.current;return o=ru(e,o),zc(e,i),n=rT(t,e,n,r,o,i),r=iT(),t!==null&&!zr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ms(t,e,i)):(Jt&&r&&HS(e),e.flags|=1,Pr(t,e,n,i),e.child)}function $P(t,e,n,r,i){if(Gr(n)){var o=!0;Zg(e)}else o=!1;if(zc(e,i),e.stateNode===null)wg(t,e),M2(e,n,r),wx(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Pi(c):(c=Gr(n)?bl:Sr.current,c=ru(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&IP(e,s,r,c),Ds=!1;var h=e.memoizedState;s.state=h,iy(e,r,s,i),l=e.memoizedState,a!==r||h!==l||qr.current||Ds?(typeof u=="function"&&(bx(e,n,u,r),l=e.memoizedState),(a=Ds||AP(e,n,a,r,h,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,R2(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:zi(e.type,a),s.props=c,d=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Pi(l):(l=Gr(n)?bl:Sr.current,l=ru(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||h!==l)&&IP(e,s,r,l),Ds=!1,h=e.memoizedState,s.state=h,iy(e,r,s,i);var m=e.memoizedState;a!==d||h!==m||qr.current||Ds?(typeof p=="function"&&(bx(e,n,p,r),m=e.memoizedState),(c=Ds||AP(e,n,c,r,h,m,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),s.props=r,s.state=m,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Sx(t,e,n,r,o,i)}function Sx(t,e,n,r,i,o){lL(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&xP(e,n,!1),ms(t,e,o);r=e.stateNode,CH.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=ou(e,t.child,null,o),e.child=ou(e,null,a,o)):Pr(t,e,a,o),e.memoizedState=r.state,i&&xP(e,n,!0),e.child}function cL(t){var e=t.stateNode;e.pendingContext?wP(t,e.pendingContext,e.pendingContext!==e.context):e.context&&wP(t,e.context,!1),ZS(t,e.containerInfo)}function LP(t,e,n,r,i){return iu(),GS(i),e.flags|=256,Pr(t,e,n,r),e.child}var Tx={dehydrated:null,treeContext:null,retryLane:0};function Cx(t){return{baseLanes:t,cachePool:null,transitions:null}}function uL(t,e,n){var r=e.pendingProps,i=tn.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ft(tn,i&1),t===null)return vx(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=n_(s,r,0,null),t=dl(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Cx(n),e.memoizedState=Tx,t):aT(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return AH(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ta(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=ta(a,o):(o=dl(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Cx(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Tx,r}return o=t.child,t=o.sibling,r=ta(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function aT(t,e){return e=n_({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Om(t,e,n,r){return r!==null&&GS(r),ou(e,t.child,null,n),t=aT(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function AH(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Eb(Error(ce(422))),Om(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=n_({mode:"visible",children:r.children},i,0,null),o=dl(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&ou(e,t.child,null,s),e.child.memoizedState=Cx(s),e.memoizedState=Tx,o);if(!(e.mode&1))return Om(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(ce(419)),r=Eb(o,r,void 0),Om(t,e,s,r)}if(a=(s&t.childLanes)!==0,zr||a){if(r=Hn,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ps(t,i),eo(r,t,i,-1))}return hT(),r=Eb(Error(ce(421))),Om(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=VH.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,ri=Xs(i.nextSibling),si=e,Jt=!0,Gi=null,t!==null&&(vi[_i++]=Qo,vi[_i++]=Yo,vi[_i++]=wl,Qo=t.id,Yo=t.overflow,wl=e),e=aT(e,r.children),e.flags|=4096,e)}function FP(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),_x(t.return,e,n)}function Sb(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function dL(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Pr(t,e,r.children,n),r=tn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&FP(t,n,e);else if(t.tag===19)FP(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ft(tn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&oy(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Sb(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&oy(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Sb(e,!0,n,null,o);break;case"together":Sb(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function wg(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ms(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),El|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ce(153));if(e.child!==null){for(t=e.child,n=ta(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ta(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function IH(t,e,n){switch(e.tag){case 3:cL(e),iu();break;case 5:L2(e);break;case 1:Gr(e.type)&&Zg(e);break;case 4:ZS(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ft(ny,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ft(tn,tn.current&1),e.flags|=128,null):n&e.child.childLanes?uL(t,e,n):(Ft(tn,tn.current&1),t=ms(t,e,n),t!==null?t.sibling:null);Ft(tn,tn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return dL(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ft(tn,tn.current),r)break;return null;case 22:case 23:return e.lanes=0,aL(t,e,n)}return ms(t,e,n)}var fL,Ax,hL,pL;fL=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ax=function(){};hL=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ya(Ao.current);var o=null;switch(n){case"input":i=Qw(t,i),r=Qw(t,r),o=[];break;case"select":i=rn({},i,{value:void 0}),r=rn({},r,{value:void 0}),o=[];break;case"textarea":i=Jw(t,i),r=Jw(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Xg)}ex(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Xf.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Xf.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Bt("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};pL=function(t,e,n,r){n!==r&&(e.flags|=4)};function Id(t,e){if(!Jt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ur(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function PH(t,e,n){var r=e.pendingProps;switch(qS(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ur(e),null;case 1:return Gr(e.type)&&Jg(),ur(e),null;case 3:return r=e.stateNode,su(),Yt(qr),Yt(Sr),tT(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Im(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gi!==null&&(Mx(Gi),Gi=null))),Ax(t,e),ur(e),null;case 5:eT(e);var i=Ya(ch.current);if(n=e.type,t!==null&&e.stateNode!=null)hL(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ce(166));return ur(e),null}if(t=Ya(Ao.current),Im(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[_o]=e,r[ah]=o,t=(e.mode&1)!==0,n){case"dialog":Bt("cancel",r),Bt("close",r);break;case"iframe":case"object":case"embed":Bt("load",r);break;case"video":case"audio":for(i=0;i<af.length;i++)Bt(af[i],r);break;case"source":Bt("error",r);break;case"img":case"image":case"link":Bt("error",r),Bt("load",r);break;case"details":Bt("toggle",r);break;case"input":KI(r,o),Bt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Bt("invalid",r);break;case"textarea":YI(r,o),Bt("invalid",r)}ex(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Am(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Am(r.textContent,a,t),i=["children",""+a]):Xf.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Bt("scroll",r)}switch(n){case"input":_m(r),QI(r,o,!0);break;case"textarea":_m(r),XI(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Xg)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=U$(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[_o]=e,t[ah]=r,fL(t,e,!1,!1),e.stateNode=t;e:{switch(s=tx(n,r),n){case"dialog":Bt("cancel",t),Bt("close",t),i=r;break;case"iframe":case"object":case"embed":Bt("load",t),i=r;break;case"video":case"audio":for(i=0;i<af.length;i++)Bt(af[i],t);i=r;break;case"source":Bt("error",t),i=r;break;case"img":case"image":case"link":Bt("error",t),Bt("load",t),i=r;break;case"details":Bt("toggle",t),i=r;break;case"input":KI(t,r),i=Qw(t,r),Bt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=rn({},r,{value:void 0}),Bt("invalid",t);break;case"textarea":YI(t,r),i=Jw(t,r),Bt("invalid",t);break;default:i=r}ex(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?W$(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&B$(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Jf(t,l):typeof l=="number"&&Jf(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Xf.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Bt("scroll",t):l!=null&&kS(t,o,l,s))}switch(n){case"input":_m(t),QI(t,r,!1);break;case"textarea":_m(t),XI(t);break;case"option":r.value!=null&&t.setAttribute("value",""+da(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Fc(t,!!r.multiple,o,!1):r.defaultValue!=null&&Fc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Xg)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ur(e),null;case 6:if(t&&e.stateNode!=null)pL(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ce(166));if(n=Ya(ch.current),Ya(Ao.current),Im(e)){if(r=e.stateNode,n=e.memoizedProps,r[_o]=e,(o=r.nodeValue!==n)&&(t=si,t!==null))switch(t.tag){case 3:Am(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Am(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[_o]=e,e.stateNode=r}return ur(e),null;case 13:if(Yt(tn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Jt&&ri!==null&&e.mode&1&&!(e.flags&128))k2(),iu(),e.flags|=98560,o=!1;else if(o=Im(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(ce(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ce(317));o[_o]=e}else iu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ur(e),o=!1}else Gi!==null&&(Mx(Gi),Gi=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||tn.current&1?kn===0&&(kn=3):hT())),e.updateQueue!==null&&(e.flags|=4),ur(e),null);case 4:return su(),Ax(t,e),t===null&&oh(e.stateNode.containerInfo),ur(e),null;case 10:return YS(e.type._context),ur(e),null;case 17:return Gr(e.type)&&Jg(),ur(e),null;case 19:if(Yt(tn),o=e.memoizedState,o===null)return ur(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Id(o,!1);else{if(kn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=oy(t),s!==null){for(e.flags|=128,Id(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ft(tn,tn.current&1|2),e.child}t=t.sibling}o.tail!==null&&pn()>lu&&(e.flags|=128,r=!0,Id(o,!1),e.lanes=4194304)}else{if(!r)if(t=oy(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Id(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Jt)return ur(e),null}else 2*pn()-o.renderingStartTime>lu&&n!==1073741824&&(e.flags|=128,r=!0,Id(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=pn(),e.sibling=null,n=tn.current,Ft(tn,r?n&1|2:n&1),e):(ur(e),null);case 22:case 23:return fT(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ei&1073741824&&(ur(e),e.subtreeFlags&6&&(e.flags|=8192)):ur(e),null;case 24:return null;case 25:return null}throw Error(ce(156,e.tag))}function OH(t,e){switch(qS(e),e.tag){case 1:return Gr(e.type)&&Jg(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return su(),Yt(qr),Yt(Sr),tT(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return eT(e),null;case 13:if(Yt(tn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ce(340));iu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Yt(tn),null;case 4:return su(),null;case 10:return YS(e.type._context),null;case 22:case 23:return fT(),null;case 24:return null;default:return null}}var km=!1,pr=!1,kH=typeof WeakSet=="function"?WeakSet:Set,xe=null;function Pc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ln(t,e,r)}else n.current=null}function Ix(t,e,n){try{n()}catch(r){ln(t,e,r)}}var VP=!1;function NH(t,e){if(dx=Kg,t=v2(),WS(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===n&&++c===i&&(a=s),h===o&&++u===r&&(l=s),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(fx={focusedElem:t,selectionRange:n},Kg=!1,xe=e;xe!==null;)if(e=xe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,xe=t;else for(;xe!==null;){e=xe;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,y=m.memoizedState,b=e.stateNode,g=b.getSnapshotBeforeUpdate(e.elementType===e.type?v:zi(e.type,v),y);b.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ce(163))}}catch(w){ln(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,xe=t;break}xe=e.return}return m=VP,VP=!1,m}function Sf(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Ix(e,n,o)}i=i.next}while(i!==r)}}function e_(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Px(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function mL(t){var e=t.alternate;e!==null&&(t.alternate=null,mL(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[_o],delete e[ah],delete e[mx],delete e[pH],delete e[mH])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function gL(t){return t.tag===5||t.tag===3||t.tag===4}function UP(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gL(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ox(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Xg));else if(r!==4&&(t=t.child,t!==null))for(Ox(t,e,n),t=t.sibling;t!==null;)Ox(t,e,n),t=t.sibling}function kx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(kx(t,e,n),t=t.sibling;t!==null;)kx(t,e,n),t=t.sibling}var Jn=null,Wi=!1;function ks(t,e,n){for(n=n.child;n!==null;)yL(t,e,n),n=n.sibling}function yL(t,e,n){if(Co&&typeof Co.onCommitFiberUnmount=="function")try{Co.onCommitFiberUnmount(qv,n)}catch{}switch(n.tag){case 5:pr||Pc(n,e);case 6:var r=Jn,i=Wi;Jn=null,ks(t,e,n),Jn=r,Wi=i,Jn!==null&&(Wi?(t=Jn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Jn.removeChild(n.stateNode));break;case 18:Jn!==null&&(Wi?(t=Jn,n=n.stateNode,t.nodeType===8?yb(t.parentNode,n):t.nodeType===1&&yb(t,n),nh(t)):yb(Jn,n.stateNode));break;case 4:r=Jn,i=Wi,Jn=n.stateNode.containerInfo,Wi=!0,ks(t,e,n),Jn=r,Wi=i;break;case 0:case 11:case 14:case 15:if(!pr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Ix(n,e,s),i=i.next}while(i!==r)}ks(t,e,n);break;case 1:if(!pr&&(Pc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ln(n,e,a)}ks(t,e,n);break;case 21:ks(t,e,n);break;case 22:n.mode&1?(pr=(r=pr)||n.memoizedState!==null,ks(t,e,n),pr=r):ks(t,e,n);break;default:ks(t,e,n)}}function BP(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new kH),e.forEach(function(r){var i=UH.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ui(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Jn=a.stateNode,Wi=!1;break e;case 3:Jn=a.stateNode.containerInfo,Wi=!0;break e;case 4:Jn=a.stateNode.containerInfo,Wi=!0;break e}a=a.return}if(Jn===null)throw Error(ce(160));yL(o,s,i),Jn=null,Wi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){ln(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)vL(e,t),e=e.sibling}function vL(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ui(e,t),po(t),r&4){try{Sf(3,t,t.return),e_(3,t)}catch(v){ln(t,t.return,v)}try{Sf(5,t,t.return)}catch(v){ln(t,t.return,v)}}break;case 1:Ui(e,t),po(t),r&512&&n!==null&&Pc(n,n.return);break;case 5:if(Ui(e,t),po(t),r&512&&n!==null&&Pc(n,n.return),t.flags&32){var i=t.stateNode;try{Jf(i,"")}catch(v){ln(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&F$(i,o),tx(a,s);var c=tx(a,o);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?W$(i,d):u==="dangerouslySetInnerHTML"?B$(i,d):u==="children"?Jf(i,d):kS(i,u,d,c)}switch(a){case"input":Yw(i,o);break;case"textarea":V$(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Fc(i,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?Fc(i,!!o.multiple,o.defaultValue,!0):Fc(i,!!o.multiple,o.multiple?[]:"",!1))}i[ah]=o}catch(v){ln(t,t.return,v)}}break;case 6:if(Ui(e,t),po(t),r&4){if(t.stateNode===null)throw Error(ce(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(v){ln(t,t.return,v)}}break;case 3:if(Ui(e,t),po(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{nh(e.containerInfo)}catch(v){ln(t,t.return,v)}break;case 4:Ui(e,t),po(t);break;case 13:Ui(e,t),po(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(uT=pn())),r&4&&BP(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(pr=(c=pr)||u,Ui(e,t),pr=c):Ui(e,t),po(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(xe=t,u=t.child;u!==null;){for(d=xe=u;xe!==null;){switch(h=xe,p=h.child,h.tag){case 0:case 11:case 14:case 15:Sf(4,h,h.return);break;case 1:Pc(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(v){ln(r,n,v)}}break;case 5:Pc(h,h.return);break;case 22:if(h.memoizedState!==null){WP(d);continue}}p!==null?(p.return=h,xe=p):WP(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=z$("display",s))}catch(v){ln(t,t.return,v)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){ln(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ui(e,t),po(t),r&4&&BP(t);break;case 21:break;default:Ui(e,t),po(t)}}function po(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(gL(n)){var r=n;break e}n=n.return}throw Error(ce(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Jf(i,""),r.flags&=-33);var o=UP(t);kx(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=UP(t);Ox(t,a,s);break;default:throw Error(ce(161))}}catch(l){ln(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function RH(t,e,n){xe=t,_L(t)}function _L(t,e,n){for(var r=(t.mode&1)!==0;xe!==null;){var i=xe,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||km;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||pr;a=km;var c=pr;if(km=s,(pr=l)&&!c)for(xe=i;xe!==null;)s=xe,l=s.child,s.tag===22&&s.memoizedState!==null?HP(i):l!==null?(l.return=s,xe=l):HP(i);for(;o!==null;)xe=o,_L(o),o=o.sibling;xe=i,km=a,pr=c}zP(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,xe=o):zP(t)}}function zP(t){for(;xe!==null;){var e=xe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:pr||e_(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!pr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:zi(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&CP(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}CP(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&nh(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ce(163))}pr||e.flags&512&&Px(e)}catch(h){ln(e,e.return,h)}}if(e===t){xe=null;break}if(n=e.sibling,n!==null){n.return=e.return,xe=n;break}xe=e.return}}function WP(t){for(;xe!==null;){var e=xe;if(e===t){xe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,xe=n;break}xe=e.return}}function HP(t){for(;xe!==null;){var e=xe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{e_(4,e)}catch(l){ln(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ln(e,i,l)}}var o=e.return;try{Px(e)}catch(l){ln(e,o,l)}break;case 5:var s=e.return;try{Px(e)}catch(l){ln(e,s,l)}}}catch(l){ln(e,e.return,l)}if(e===t){xe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,xe=a;break}xe=e.return}}var jH=Math.ceil,ly=Es.ReactCurrentDispatcher,lT=Es.ReactCurrentOwner,Ti=Es.ReactCurrentBatchConfig,vt=0,Hn=null,bn=null,rr=0,ei=0,Oc=wa(0),kn=0,hh=null,El=0,t_=0,cT=0,Tf=null,Fr=null,uT=0,lu=1/0,qo=null,cy=!1,Nx=null,Zs=null,Nm=!1,Hs=null,uy=0,Cf=0,Rx=null,xg=-1,Eg=0;function Nr(){return vt&6?pn():xg!==-1?xg:xg=pn()}function ea(t){return t.mode&1?vt&2&&rr!==0?rr&-rr:yH.transition!==null?(Eg===0&&(Eg=n2()),Eg):(t=Pt,t!==0||(t=window.event,t=t===void 0?16:c2(t.type)),t):1}function eo(t,e,n,r){if(50<Cf)throw Cf=0,Rx=null,Error(ce(185));Pp(t,n,r),(!(vt&2)||t!==Hn)&&(t===Hn&&(!(vt&2)&&(t_|=n),kn===4&&Fs(t,rr)),Kr(t,r),n===1&&vt===0&&!(e.mode&1)&&(lu=pn()+500,Xv&&xa()))}function Kr(t,e){var n=t.callbackNode;yW(t,e);var r=Gg(t,t===Hn?rr:0);if(r===0)n!==null&&eP(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&eP(n),e===1)t.tag===0?gH(qP.bind(null,t)):I2(qP.bind(null,t)),fH(function(){!(vt&6)&&xa()}),n=null;else{switch(r2(r)){case 1:n=DS;break;case 4:n=e2;break;case 16:n=qg;break;case 536870912:n=t2;break;default:n=qg}n=AL(n,bL.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function bL(t,e){if(xg=-1,Eg=0,vt&6)throw Error(ce(327));var n=t.callbackNode;if(Wc()&&t.callbackNode!==n)return null;var r=Gg(t,t===Hn?rr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=dy(t,r);else{e=r;var i=vt;vt|=2;var o=xL();(Hn!==t||rr!==e)&&(qo=null,lu=pn()+500,ul(t,e));do try{$H();break}catch(a){wL(t,a)}while(!0);QS(),ly.current=o,vt=i,bn!==null?e=0:(Hn=null,rr=0,e=kn)}if(e!==0){if(e===2&&(i=sx(t),i!==0&&(r=i,e=jx(t,i))),e===1)throw n=hh,ul(t,0),Fs(t,r),Kr(t,pn()),n;if(e===6)Fs(t,r);else{if(i=t.current.alternate,!(r&30)&&!MH(i)&&(e=dy(t,r),e===2&&(o=sx(t),o!==0&&(r=o,e=jx(t,o))),e===1))throw n=hh,ul(t,0),Fs(t,r),Kr(t,pn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ce(345));case 2:Va(t,Fr,qo);break;case 3:if(Fs(t,r),(r&130023424)===r&&(e=uT+500-pn(),10<e)){if(Gg(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Nr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=px(Va.bind(null,t,Fr,qo),e);break}Va(t,Fr,qo);break;case 4:if(Fs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Zi(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=pn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jH(r/1960))-r,10<r){t.timeoutHandle=px(Va.bind(null,t,Fr,qo),r);break}Va(t,Fr,qo);break;case 5:Va(t,Fr,qo);break;default:throw Error(ce(329))}}}return Kr(t,pn()),t.callbackNode===n?bL.bind(null,t):null}function jx(t,e){var n=Tf;return t.current.memoizedState.isDehydrated&&(ul(t,e).flags|=256),t=dy(t,e),t!==2&&(e=Fr,Fr=n,e!==null&&Mx(e)),t}function Mx(t){Fr===null?Fr=t:Fr.push.apply(Fr,t)}function MH(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!oo(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Fs(t,e){for(e&=~cT,e&=~t_,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Zi(e),r=1<<n;t[n]=-1,e&=~r}}function qP(t){if(vt&6)throw Error(ce(327));Wc();var e=Gg(t,0);if(!(e&1))return Kr(t,pn()),null;var n=dy(t,e);if(t.tag!==0&&n===2){var r=sx(t);r!==0&&(e=r,n=jx(t,r))}if(n===1)throw n=hh,ul(t,0),Fs(t,e),Kr(t,pn()),n;if(n===6)throw Error(ce(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Va(t,Fr,qo),Kr(t,pn()),null}function dT(t,e){var n=vt;vt|=1;try{return t(e)}finally{vt=n,vt===0&&(lu=pn()+500,Xv&&xa())}}function Sl(t){Hs!==null&&Hs.tag===0&&!(vt&6)&&Wc();var e=vt;vt|=1;var n=Ti.transition,r=Pt;try{if(Ti.transition=null,Pt=1,t)return t()}finally{Pt=r,Ti.transition=n,vt=e,!(vt&6)&&xa()}}function fT(){ei=Oc.current,Yt(Oc)}function ul(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,dH(n)),bn!==null)for(n=bn.return;n!==null;){var r=n;switch(qS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Jg();break;case 3:su(),Yt(qr),Yt(Sr),tT();break;case 5:eT(r);break;case 4:su();break;case 13:Yt(tn);break;case 19:Yt(tn);break;case 10:YS(r.type._context);break;case 22:case 23:fT()}n=n.return}if(Hn=t,bn=t=ta(t.current,null),rr=ei=e,kn=0,hh=null,cT=t_=El=0,Fr=Tf=null,Qa!==null){for(e=0;e<Qa.length;e++)if(n=Qa[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Qa=null}return t}function wL(t,e){do{var n=bn;try{if(QS(),_g.current=ay,sy){for(var r=nn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}sy=!1}if(xl=0,Vn=On=nn=null,Ef=!1,uh=0,lT.current=null,n===null||n.return===null){kn=1,hh=e,bn=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=rr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=RP(s);if(p!==null){p.flags&=-257,jP(p,s,a,o,e),p.mode&1&&NP(o,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var v=new Set;v.add(l),e.updateQueue=v}else m.add(l);break e}else{if(!(e&1)){NP(o,c,e),hT();break e}l=Error(ce(426))}}else if(Jt&&a.mode&1){var y=RP(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),jP(y,s,a,o,e),GS(au(l,a));break e}}o=l=au(l,a),kn!==4&&(kn=2),Tf===null?Tf=[o]:Tf.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var b=iL(o,l,e);TP(o,b);break e;case 1:a=l;var g=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Zs===null||!Zs.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var w=oL(o,a,e);TP(o,w);break e}}o=o.return}while(o!==null)}SL(n)}catch(E){e=E,bn===n&&n!==null&&(bn=n=n.return);continue}break}while(!0)}function xL(){var t=ly.current;return ly.current=ay,t===null?ay:t}function hT(){(kn===0||kn===3||kn===2)&&(kn=4),Hn===null||!(El&268435455)&&!(t_&268435455)||Fs(Hn,rr)}function dy(t,e){var n=vt;vt|=2;var r=xL();(Hn!==t||rr!==e)&&(qo=null,ul(t,e));do try{DH();break}catch(i){wL(t,i)}while(!0);if(QS(),vt=n,ly.current=r,bn!==null)throw Error(ce(261));return Hn=null,rr=0,kn}function DH(){for(;bn!==null;)EL(bn)}function $H(){for(;bn!==null&&!lW();)EL(bn)}function EL(t){var e=CL(t.alternate,t,ei);t.memoizedProps=t.pendingProps,e===null?SL(t):bn=e,lT.current=null}function SL(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=OH(n,e),n!==null){n.flags&=32767,bn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{kn=6,bn=null;return}}else if(n=PH(n,e,ei),n!==null){bn=n;return}if(e=e.sibling,e!==null){bn=e;return}bn=e=t}while(e!==null);kn===0&&(kn=5)}function Va(t,e,n){var r=Pt,i=Ti.transition;try{Ti.transition=null,Pt=1,LH(t,e,n,r)}finally{Ti.transition=i,Pt=r}return null}function LH(t,e,n,r){do Wc();while(Hs!==null);if(vt&6)throw Error(ce(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ce(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(vW(t,o),t===Hn&&(bn=Hn=null,rr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Nm||(Nm=!0,AL(qg,function(){return Wc(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Ti.transition,Ti.transition=null;var s=Pt;Pt=1;var a=vt;vt|=4,lT.current=null,NH(t,n),vL(n,t),iH(fx),Kg=!!dx,fx=dx=null,t.current=n,RH(n),cW(),vt=a,Pt=s,Ti.transition=o}else t.current=n;if(Nm&&(Nm=!1,Hs=t,uy=i),o=t.pendingLanes,o===0&&(Zs=null),fW(n.stateNode),Kr(t,pn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(cy)throw cy=!1,t=Nx,Nx=null,t;return uy&1&&t.tag!==0&&Wc(),o=t.pendingLanes,o&1?t===Rx?Cf++:(Cf=0,Rx=t):Cf=0,xa(),null}function Wc(){if(Hs!==null){var t=r2(uy),e=Ti.transition,n=Pt;try{if(Ti.transition=null,Pt=16>t?16:t,Hs===null)var r=!1;else{if(t=Hs,Hs=null,uy=0,vt&6)throw Error(ce(331));var i=vt;for(vt|=4,xe=t.current;xe!==null;){var o=xe,s=o.child;if(xe.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(xe=c;xe!==null;){var u=xe;switch(u.tag){case 0:case 11:case 15:Sf(8,u,o)}var d=u.child;if(d!==null)d.return=u,xe=d;else for(;xe!==null;){u=xe;var h=u.sibling,p=u.return;if(mL(u),u===c){xe=null;break}if(h!==null){h.return=p,xe=h;break}xe=p}}}var m=o.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}xe=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,xe=s;else e:for(;xe!==null;){if(o=xe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Sf(9,o,o.return)}var b=o.sibling;if(b!==null){b.return=o.return,xe=b;break e}xe=o.return}}var g=t.current;for(xe=g;xe!==null;){s=xe;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,xe=_;else e:for(s=g;xe!==null;){if(a=xe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:e_(9,a)}}catch(E){ln(a,a.return,E)}if(a===s){xe=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,xe=w;break e}xe=a.return}}if(vt=i,xa(),Co&&typeof Co.onPostCommitFiberRoot=="function")try{Co.onPostCommitFiberRoot(qv,t)}catch{}r=!0}return r}finally{Pt=n,Ti.transition=e}}return!1}function GP(t,e,n){e=au(n,e),e=iL(t,e,1),t=Js(t,e,1),e=Nr(),t!==null&&(Pp(t,1,e),Kr(t,e))}function ln(t,e,n){if(t.tag===3)GP(t,t,n);else for(;e!==null;){if(e.tag===3){GP(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zs===null||!Zs.has(r))){t=au(n,t),t=oL(e,t,1),e=Js(e,t,1),t=Nr(),e!==null&&(Pp(e,1,t),Kr(e,t));break}}e=e.return}}function FH(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Nr(),t.pingedLanes|=t.suspendedLanes&n,Hn===t&&(rr&n)===n&&(kn===4||kn===3&&(rr&130023424)===rr&&500>pn()-uT?ul(t,0):cT|=n),Kr(t,e)}function TL(t,e){e===0&&(t.mode&1?(e=xm,xm<<=1,!(xm&130023424)&&(xm=4194304)):e=1);var n=Nr();t=ps(t,e),t!==null&&(Pp(t,e,n),Kr(t,n))}function VH(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),TL(t,n)}function UH(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ce(314))}r!==null&&r.delete(e),TL(t,n)}var CL;CL=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||qr.current)zr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return zr=!1,IH(t,e,n);zr=!!(t.flags&131072)}else zr=!1,Jt&&e.flags&1048576&&P2(e,ty,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;wg(t,e),t=e.pendingProps;var i=ru(e,Sr.current);zc(e,n),i=rT(null,e,r,t,i,n);var o=iT();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Gr(r)?(o=!0,Zg(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,JS(e),i.updater=Jv,e.stateNode=i,i._reactInternals=e,wx(e,r,t,n),e=Sx(null,e,r,!0,o,n)):(e.tag=0,Jt&&o&&HS(e),Pr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(wg(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=zH(r),t=zi(r,t),i){case 0:e=Ex(null,e,r,t,n);break e;case 1:e=$P(null,e,r,t,n);break e;case 11:e=MP(null,e,r,t,n);break e;case 14:e=DP(null,e,r,zi(r.type,t),n);break e}throw Error(ce(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zi(r,i),Ex(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zi(r,i),$P(t,e,r,i,n);case 3:e:{if(cL(e),t===null)throw Error(ce(387));r=e.pendingProps,o=e.memoizedState,i=o.element,R2(t,e),iy(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=au(Error(ce(423)),e),e=LP(t,e,r,n,i);break e}else if(r!==i){i=au(Error(ce(424)),e),e=LP(t,e,r,n,i);break e}else for(ri=Xs(e.stateNode.containerInfo.firstChild),si=e,Jt=!0,Gi=null,n=$2(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(iu(),r===i){e=ms(t,e,n);break e}Pr(t,e,r,n)}e=e.child}return e;case 5:return L2(e),t===null&&vx(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,hx(r,i)?s=null:o!==null&&hx(r,o)&&(e.flags|=32),lL(t,e),Pr(t,e,s,n),e.child;case 6:return t===null&&vx(e),null;case 13:return uL(t,e,n);case 4:return ZS(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ou(e,null,r,n):Pr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zi(r,i),MP(t,e,r,i,n);case 7:return Pr(t,e,e.pendingProps,n),e.child;case 8:return Pr(t,e,e.pendingProps.children,n),e.child;case 12:return Pr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Ft(ny,r._currentValue),r._currentValue=s,o!==null)if(oo(o.value,s)){if(o.children===i.children&&!qr.current){e=ms(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=os(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),_x(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ce(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),_x(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Pr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,zc(e,n),i=Pi(i),r=r(i),e.flags|=1,Pr(t,e,r,n),e.child;case 14:return r=e.type,i=zi(r,e.pendingProps),i=zi(r.type,i),DP(t,e,r,i,n);case 15:return sL(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zi(r,i),wg(t,e),e.tag=1,Gr(r)?(t=!0,Zg(e)):t=!1,zc(e,n),M2(e,r,i),wx(e,r,i,n),Sx(null,e,r,!0,t,n);case 19:return dL(t,e,n);case 22:return aL(t,e,n)}throw Error(ce(156,e.tag))};function AL(t,e){return Z$(t,e)}function BH(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xi(t,e,n,r){return new BH(t,e,n,r)}function pT(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zH(t){if(typeof t=="function")return pT(t)?1:0;if(t!=null){if(t=t.$$typeof,t===RS)return 11;if(t===jS)return 14}return 2}function ta(t,e){var n=t.alternate;return n===null?(n=xi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Sg(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")pT(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case bc:return dl(n.children,i,o,e);case NS:s=8,i|=8;break;case Hw:return t=xi(12,n,e,i|2),t.elementType=Hw,t.lanes=o,t;case qw:return t=xi(13,n,e,i),t.elementType=qw,t.lanes=o,t;case Gw:return t=xi(19,n,e,i),t.elementType=Gw,t.lanes=o,t;case D$:return n_(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case j$:s=10;break e;case M$:s=9;break e;case RS:s=11;break e;case jS:s=14;break e;case Ms:s=16,r=null;break e}throw Error(ce(130,t==null?t:typeof t,""))}return e=xi(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function dl(t,e,n,r){return t=xi(7,t,r,e),t.lanes=n,t}function n_(t,e,n,r){return t=xi(22,t,r,e),t.elementType=D$,t.lanes=n,t.stateNode={isHidden:!1},t}function Tb(t,e,n){return t=xi(6,t,null,e),t.lanes=n,t}function Cb(t,e,n){return e=xi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function WH(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sb(0),this.expirationTimes=sb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sb(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function mT(t,e,n,r,i,o,s,a,l){return t=new WH(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=xi(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},JS(o),t}function HH(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_c,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function IL(t){if(!t)return fa;t=t._reactInternals;e:{if(ql(t)!==t||t.tag!==1)throw Error(ce(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Gr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ce(171))}if(t.tag===1){var n=t.type;if(Gr(n))return A2(t,n,e)}return e}function PL(t,e,n,r,i,o,s,a,l){return t=mT(n,r,!0,t,i,o,s,a,l),t.context=IL(null),n=t.current,r=Nr(),i=ea(n),o=os(r,i),o.callback=e??null,Js(n,o,i),t.current.lanes=i,Pp(t,i,r),Kr(t,r),t}function r_(t,e,n,r){var i=e.current,o=Nr(),s=ea(i);return n=IL(n),e.context===null?e.context=n:e.pendingContext=n,e=os(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Js(i,e,s),t!==null&&(eo(t,i,s,o),vg(t,i,s)),s}function fy(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function KP(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function gT(t,e){KP(t,e),(t=t.alternate)&&KP(t,e)}function qH(){return null}var OL=typeof reportError=="function"?reportError:function(t){console.error(t)};function yT(t){this._internalRoot=t}i_.prototype.render=yT.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ce(409));r_(t,e,null,null)};i_.prototype.unmount=yT.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Sl(function(){r_(null,t,null,null)}),e[hs]=null}};function i_(t){this._internalRoot=t}i_.prototype.unstable_scheduleHydration=function(t){if(t){var e=s2();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ls.length&&e!==0&&e<Ls[n].priority;n++);Ls.splice(n,0,t),n===0&&l2(t)}};function vT(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function o_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function QP(){}function GH(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=fy(s);o.call(c)}}var s=PL(e,r,t,0,null,!1,!1,"",QP);return t._reactRootContainer=s,t[hs]=s.current,oh(t.nodeType===8?t.parentNode:t),Sl(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=fy(l);a.call(c)}}var l=mT(t,0,!1,null,null,!1,!1,"",QP);return t._reactRootContainer=l,t[hs]=l.current,oh(t.nodeType===8?t.parentNode:t),Sl(function(){r_(e,l,n,r)}),l}function s_(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=fy(s);a.call(l)}}r_(e,s,t,i)}else s=GH(n,e,t,i,r);return fy(s)}i2=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=sf(e.pendingLanes);n!==0&&($S(e,n|1),Kr(e,pn()),!(vt&6)&&(lu=pn()+500,xa()))}break;case 13:Sl(function(){var r=ps(t,1);if(r!==null){var i=Nr();eo(r,t,1,i)}}),gT(t,1)}};LS=function(t){if(t.tag===13){var e=ps(t,134217728);if(e!==null){var n=Nr();eo(e,t,134217728,n)}gT(t,134217728)}};o2=function(t){if(t.tag===13){var e=ea(t),n=ps(t,e);if(n!==null){var r=Nr();eo(n,t,e,r)}gT(t,e)}};s2=function(){return Pt};a2=function(t,e){var n=Pt;try{return Pt=t,e()}finally{Pt=n}};rx=function(t,e,n){switch(e){case"input":if(Yw(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Yv(r);if(!i)throw Error(ce(90));L$(r),Yw(r,i)}}}break;case"textarea":V$(t,n);break;case"select":e=n.value,e!=null&&Fc(t,!!n.multiple,e,!1)}};G$=dT;K$=Sl;var KH={usingClientEntryPoint:!1,Events:[kp,Sc,Yv,H$,q$,dT]},Pd={findFiberByHostInstance:Ka,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},QH={bundleType:Pd.bundleType,version:Pd.version,rendererPackageName:Pd.rendererPackageName,rendererConfig:Pd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Es.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=X$(t),t===null?null:t.stateNode},findFiberByHostInstance:Pd.findFiberByHostInstance||qH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rm.isDisabled&&Rm.supportsFiber)try{qv=Rm.inject(QH),Co=Rm}catch{}}ui.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KH;ui.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vT(e))throw Error(ce(200));return HH(t,e,null,n)};ui.createRoot=function(t,e){if(!vT(t))throw Error(ce(299));var n=!1,r="",i=OL;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=mT(t,1,!1,null,null,n,!1,r,i),t[hs]=e.current,oh(t.nodeType===8?t.parentNode:t),new yT(e)};ui.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ce(188)):(t=Object.keys(t).join(","),Error(ce(268,t)));return t=X$(e),t=t===null?null:t.stateNode,t};ui.flushSync=function(t){return Sl(t)};ui.hydrate=function(t,e,n){if(!o_(e))throw Error(ce(200));return s_(null,t,e,!0,n)};ui.hydrateRoot=function(t,e,n){if(!vT(t))throw Error(ce(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=OL;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=PL(e,null,t,1,n??null,i,!1,o,s),t[hs]=e.current,oh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new i_(e)};ui.render=function(t,e,n){if(!o_(e))throw Error(ce(200));return s_(null,t,e,!1,n)};ui.unmountComponentAtNode=function(t){if(!o_(t))throw Error(ce(40));return t._reactRootContainer?(Sl(function(){s_(null,null,t,!1,function(){t._reactRootContainer=null,t[hs]=null})}),!0):!1};ui.unstable_batchedUpdates=dT;ui.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!o_(n))throw Error(ce(200));if(t==null||t._reactInternals===void 0)throw Error(ce(38));return s_(t,e,n,!1,r)};ui.version="18.2.0-next-9e3b772b8-20220608";function kL(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kL)}catch(t){console.error(t)}}kL(),P$.exports=ui;var _T=P$.exports;const YH=kt(_T),XH=v$({__proto__:null,default:YH},[_T]);var YP=_T;zw.createRoot=YP.createRoot,zw.hydrateRoot=YP.hydrateRoot;/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cn(){return cn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cn.apply(this,arguments)}var hn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(hn||(hn={}));const XP="popstate";function JH(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return ph("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Tl(i)}return eq(e,n,null,t)}function it(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function cu(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ZH(){return Math.random().toString(36).substr(2,8)}function JP(t,e){return{usr:t.state,key:t.key,idx:e}}function ph(t,e,n,r){return n===void 0&&(n=null),cn({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ss(e):e,{state:n,key:e&&e.key||r||ZH()})}function Tl(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ss(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function eq(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=hn.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(cn({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function d(){a=hn.Pop;let y=u(),b=y==null?null:y-c;c=y,l&&l({action:a,location:v.location,delta:b})}function h(y,b){a=hn.Push;let g=ph(v.location,y,b);n&&n(g,y),c=u()+1;let _=JP(g,c),w=v.createHref(g);try{s.pushState(_,"",w)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(w)}o&&l&&l({action:a,location:v.location,delta:1})}function p(y,b){a=hn.Replace;let g=ph(v.location,y,b);n&&n(g,y),c=u();let _=JP(g,c),w=v.createHref(g);s.replaceState(_,"",w),o&&l&&l({action:a,location:v.location,delta:0})}function m(y){let b=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof y=="string"?y:Tl(y);return g=g.replace(/ $/,"%20"),it(b,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,b)}let v={get action(){return a},get location(){return t(i,s)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(XP,d),l=y,()=>{i.removeEventListener(XP,d),l=null}},createHref(y){return e(i,y)},createURL:m,encodeLocation(y){let b=m(y);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:p,go(y){return s.go(y)}};return v}var an;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(an||(an={}));const tq=new Set(["lazy","caseSensitive","path","id","index","children"]);function nq(t){return t.index===!0}function Dx(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,o)=>{let s=[...n,o],a=typeof i.id=="string"?i.id:s.join("-");if(it(i.index!==!0||!i.children,"Cannot specify children on an index route"),it(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),nq(i)){let l=cn({},i,e(i),{id:a});return r[a]=l,l}else{let l=cn({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=Dx(i.children,e,s,r)),l}})}function kc(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Ss(e):e,i=Hu(r.pathname||"/",n);if(i==null)return null;let o=NL(t);iq(o);let s=null;for(let a=0;s==null&&a<o.length;++a){let l=gq(i);s=hq(o[a],l)}return s}function rq(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function NL(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(it(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ss([r,l.relativePath]),u=n.concat(l);o.children&&o.children.length>0&&(it(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),NL(o.children,e,u,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:dq(c,o.index),routesMeta:u})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of RL(o.path))i(o,s,l)}),e}function RL(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=RL(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function iq(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:fq(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const oq=/^:[\w-]+$/,sq=3,aq=2,lq=1,cq=10,uq=-2,ZP=t=>t==="*";function dq(t,e){let n=t.split("/"),r=n.length;return n.some(ZP)&&(r+=uq),e&&(r+=aq),n.filter(i=>!ZP(i)).reduce((i,o)=>i+(oq.test(o)?sq:o===""?lq:cq),r)}function fq(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function hq(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",u=pq({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let d=a.route;o.push({params:r,pathname:ss([i,u.pathname]),pathnameBase:_q(ss([i,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(i=ss([i,u.pathnameBase]))}return o}function pq(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=mq(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let v=a[d]||"";s=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const m=a[d];return p&&!m?c[h]=void 0:c[h]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function mq(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),cu(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function gq(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return cu(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Hu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function yq(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ss(t):t;return{pathname:n?n.startsWith("/")?n:vq(n,e):e,search:bq(r),hash:wq(i)}}function vq(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ab(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function jL(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function a_(t,e){let n=jL(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function l_(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ss(t):(i=cn({},t),it(!i.pathname||!i.pathname.includes("?"),Ab("?","pathname","search",i)),it(!i.pathname||!i.pathname.includes("#"),Ab("#","pathname","hash",i)),it(!i.search||!i.search.includes("#"),Ab("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let d=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=yq(i,a),c=s&&s!=="/"&&s.endsWith("/"),u=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const ss=t=>t.join("/").replace(/\/\/+/g,"/"),_q=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),bq=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,wq=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class bT{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function ML(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const DL=["post","put","patch","delete"],xq=new Set(DL),Eq=["get",...DL],Sq=new Set(Eq),Tq=new Set([301,302,303,307,308]),Cq=new Set([307,308]),Ib={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Aq={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Od={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},$L=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Iq=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),LL="remix-router-transitions";function Pq(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;it(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let z=t.detectErrorBoundary;i=K=>({hasErrorBoundary:z(K)})}else i=Iq;let o={},s=Dx(t.routes,i,void 0,o),a,l=t.basename||"/",c=cn({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},t.future),u=null,d=new Set,h=null,p=null,m=null,v=t.hydrationData!=null,y=kc(s,t.history.location,l),b=null;if(y==null){let z=yi(404,{pathname:t.history.location.pathname}),{matches:K,route:te}=aO(s);y=K,b={[te.id]:z}}let g,_=y.some(z=>z.route.lazy),w=y.some(z=>z.route.loader);if(_)g=!1;else if(!w)g=!0;else if(c.v7_partialHydration){let z=t.hydrationData?t.hydrationData.loaderData:null,K=t.hydrationData?t.hydrationData.errors:null,te=fe=>fe.route.loader?fe.route.loader.hydrate===!0?!1:z&&z[fe.route.id]!==void 0||K&&K[fe.route.id]!==void 0:!0;if(K){let fe=y.findIndex(we=>K[we.route.id]!==void 0);g=y.slice(0,fe+1).every(te)}else g=y.every(te)}else g=t.hydrationData!=null;let E,x={historyAction:t.history.action,location:t.history.location,matches:y,initialized:g,navigation:Ib,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||b,fetchers:new Map,blockers:new Map},T=hn.Pop,C=!1,O,I=!1,D=new Map,L=null,j=!1,B=!1,Y=[],X=[],U=new Map,M=0,q=-1,N=new Map,P=new Set,W=new Map,Z=new Map,se=new Set,Q=new Map,ee=new Map,J=!1;function k(){if(u=t.history.listen(z=>{let{action:K,location:te,delta:fe}=z;if(J){J=!1;return}cu(ee.size===0||fe!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let we=Wo({currentLocation:x.location,nextLocation:te,historyAction:K});if(we&&fe!=null){J=!0,t.history.go(fe*-1),fo(we,{state:"blocked",location:te,proceed(){fo(we,{state:"proceeding",proceed:void 0,reset:void 0,location:te}),t.history.go(fe)},reset(){let Ke=new Map(x.blockers);Ke.set(we,Od),R({blockers:Ke})}});return}return ae(K,te)}),n){Vq(e,D);let z=()=>Uq(e,D);e.addEventListener("pagehide",z),L=()=>e.removeEventListener("pagehide",z)}return x.initialized||ae(hn.Pop,x.location,{initialHydration:!0}),E}function A(){u&&u(),L&&L(),d.clear(),O&&O.abort(),x.fetchers.forEach((z,K)=>Dr(K)),x.blockers.forEach((z,K)=>zo(K))}function $(z){return d.add(z),()=>d.delete(z)}function R(z,K){K===void 0&&(K={}),x=cn({},x,z);let te=[],fe=[];c.v7_fetcherPersist&&x.fetchers.forEach((we,Ke)=>{we.state==="idle"&&(se.has(Ke)?fe.push(Ke):te.push(Ke))}),[...d].forEach(we=>we(x,{deletedFetchers:fe,unstable_viewTransitionOpts:K.viewTransitionOpts,unstable_flushSync:K.flushSync===!0})),c.v7_fetcherPersist&&(te.forEach(we=>x.fetchers.delete(we)),fe.forEach(we=>Dr(we)))}function F(z,K,te){var fe,we;let{flushSync:Ke}=te===void 0?{}:te,Oe=x.actionData!=null&&x.navigation.formMethod!=null&&Hi(x.navigation.formMethod)&&x.navigation.state==="loading"&&((fe=z.state)==null?void 0:fe._isRedirect)!==!0,ke;K.actionData?Object.keys(K.actionData).length>0?ke=K.actionData:ke=null:Oe?ke=x.actionData:ke=null;let Ie=K.loaderData?sO(x.loaderData,K.loaderData,K.matches||[],K.errors):x.loaderData,Je=x.blockers;Je.size>0&&(Je=new Map(Je),Je.forEach((at,wt)=>Je.set(wt,Od)));let sn=C===!0||x.navigation.formMethod!=null&&Hi(x.navigation.formMethod)&&((we=z.state)==null?void 0:we._isRedirect)!==!0;a&&(s=a,a=void 0),j||T===hn.Pop||(T===hn.Push?t.history.push(z,z.state):T===hn.Replace&&t.history.replace(z,z.state));let Qe;if(T===hn.Pop){let at=D.get(x.location.pathname);at&&at.has(z.pathname)?Qe={currentLocation:x.location,nextLocation:z}:D.has(z.pathname)&&(Qe={currentLocation:z,nextLocation:x.location})}else if(I){let at=D.get(x.location.pathname);at?at.add(z.pathname):(at=new Set([z.pathname]),D.set(x.location.pathname,at)),Qe={currentLocation:x.location,nextLocation:z}}R(cn({},K,{actionData:ke,loaderData:Ie,historyAction:T,location:z,initialized:!0,navigation:Ib,revalidation:"idle",restoreScrollPosition:Ps(z,K.matches||x.matches),preventScrollReset:sn,blockers:Je}),{viewTransitionOpts:Qe,flushSync:Ke===!0}),T=hn.Pop,C=!1,I=!1,j=!1,B=!1,Y=[],X=[]}async function G(z,K){if(typeof z=="number"){t.history.go(z);return}let te=$x(x.location,x.matches,l,c.v7_prependBasename,z,c.v7_relativeSplatPath,K==null?void 0:K.fromRouteId,K==null?void 0:K.relative),{path:fe,submission:we,error:Ke}=eO(c.v7_normalizeFormMethod,!1,te,K),Oe=x.location,ke=ph(x.location,fe,K&&K.state);ke=cn({},ke,t.history.encodeLocation(ke));let Ie=K&&K.replace!=null?K.replace:void 0,Je=hn.Push;Ie===!0?Je=hn.Replace:Ie===!1||we!=null&&Hi(we.formMethod)&&we.formAction===x.location.pathname+x.location.search&&(Je=hn.Replace);let sn=K&&"preventScrollReset"in K?K.preventScrollReset===!0:void 0,Qe=(K&&K.unstable_flushSync)===!0,at=Wo({currentLocation:Oe,nextLocation:ke,historyAction:Je});if(at){fo(at,{state:"blocked",location:ke,proceed(){fo(at,{state:"proceeding",proceed:void 0,reset:void 0,location:ke}),G(z,K)},reset(){let wt=new Map(x.blockers);wt.set(at,Od),R({blockers:wt})}});return}return await ae(Je,ke,{submission:we,pendingError:Ke,preventScrollReset:sn,replace:K&&K.replace,enableViewTransition:K&&K.unstable_viewTransition,flushSync:Qe})}function H(){if(Tn(),R({revalidation:"loading"}),x.navigation.state!=="submitting"){if(x.navigation.state==="idle"){ae(x.historyAction,x.location,{startUninterruptedRevalidation:!0});return}ae(T||x.historyAction,x.navigation.location,{overrideNavigation:x.navigation})}}async function ae(z,K,te){O&&O.abort(),O=null,T=z,j=(te&&te.startUninterruptedRevalidation)===!0,wd(x.location,x.matches),C=(te&&te.preventScrollReset)===!0,I=(te&&te.enableViewTransition)===!0;let fe=a||s,we=te&&te.overrideNavigation,Ke=kc(fe,K,l),Oe=(te&&te.flushSync)===!0;if(!Ke){let wt=yi(404,{pathname:K.pathname}),{matches:An,route:en}=aO(fe);Da(),F(K,{matches:An,loaderData:{},errors:{[en.id]:wt}},{flushSync:Oe});return}if(x.initialized&&!B&&jq(x.location,K)&&!(te&&te.submission&&Hi(te.submission.formMethod))){F(K,{matches:Ke},{flushSync:Oe});return}O=new AbortController;let ke=Nd(t.history,K,O.signal,te&&te.submission),Ie,Je;if(te&&te.pendingError)Je={[Af(Ke).route.id]:te.pendingError};else if(te&&te.submission&&Hi(te.submission.formMethod)){let wt=await de(ke,K,te.submission,Ke,{replace:te.replace,flushSync:Oe});if(wt.shortCircuited)return;Ie=wt.pendingActionData,Je=wt.pendingActionError,we=Pb(K,te.submission),Oe=!1,ke=new Request(ke.url,{signal:ke.signal})}let{shortCircuited:sn,loaderData:Qe,errors:at}=await pe(ke,K,Ke,we,te&&te.submission,te&&te.fetcherSubmission,te&&te.replace,te&&te.initialHydration===!0,Oe,Ie,Je);sn||(O=null,F(K,cn({matches:Ke},Ie?{actionData:Ie}:{},{loaderData:Qe,errors:at})))}async function de(z,K,te,fe,we){we===void 0&&(we={}),Tn();let Ke=Lq(K,te);R({navigation:Ke},{flushSync:we.flushSync===!0});let Oe,ke=Fx(fe,K);if(!ke.route.action&&!ke.route.lazy)Oe={type:an.error,error:yi(405,{method:z.method,pathname:K.pathname,routeId:ke.route.id})};else if(Oe=await kd("action",z,ke,fe,o,i,l,c.v7_relativeSplatPath),z.signal.aborted)return{shortCircuited:!0};if(Ja(Oe)){let Ie;return we&&we.replace!=null?Ie=we.replace:Ie=Oe.location===x.location.pathname+x.location.search,await Rt(x,Oe,{submission:te,replace:Ie}),{shortCircuited:!0}}if(Nc(Oe)){let Ie=Af(fe,ke.route.id);return(we&&we.replace)!==!0&&(T=hn.Push),{pendingActionData:{},pendingActionError:{[Ie.route.id]:Oe.error}}}if(Xa(Oe))throw yi(400,{type:"defer-action"});return{pendingActionData:{[ke.route.id]:Oe.data}}}async function pe(z,K,te,fe,we,Ke,Oe,ke,Ie,Je,sn){let Qe=fe||Pb(K,we),at=we||Ke||uO(Qe),wt=a||s,[An,en]=tO(t.history,x,te,at,K,c.v7_partialHydration&&ke===!0,B,Y,X,se,W,P,wt,l,Je,sn);if(Da(_e=>!(te&&te.some(Ce=>Ce.route.id===_e))||An&&An.some(Ce=>Ce.route.id===_e)),q=++M,An.length===0&&en.length===0){let _e=Cn();return F(K,cn({matches:te,loaderData:{},errors:sn||null},Je?{actionData:Je}:{},_e?{fetchers:new Map(x.fetchers)}:{}),{flushSync:Ie}),{shortCircuited:!0}}if(!j&&(!c.v7_partialHydration||!ke)){en.forEach(Ce=>{let qe=x.fetchers.get(Ce.key),$t=Rd(void 0,qe?qe.data:void 0);x.fetchers.set(Ce.key,$t)});let _e=Je||x.actionData;R(cn({navigation:Qe},_e?Object.keys(_e).length===0?{actionData:null}:{actionData:_e}:{},en.length>0?{fetchers:new Map(x.fetchers)}:{}),{flushSync:Ie})}en.forEach(_e=>{U.has(_e.key)&&gn(_e.key),_e.controller&&U.set(_e.key,_e.controller)});let Li=()=>en.forEach(_e=>gn(_e.key));O&&O.signal.addEventListener("abort",Li);let{results:Yn,loaderResults:lr,fetcherResults:Yr}=await mn(x.matches,te,An,en,z);if(z.signal.aborted)return{shortCircuited:!0};O&&O.signal.removeEventListener("abort",Li),en.forEach(_e=>U.delete(_e.key));let ne=lO(Yn);if(ne){if(ne.idx>=An.length){let _e=en[ne.idx-An.length].key;P.add(_e)}return await Rt(x,ne.result,{replace:Oe}),{shortCircuited:!0}}let{loaderData:Ve,errors:Te}=oO(x,te,An,lr,sn,en,Yr,Q);Q.forEach((_e,Ce)=>{_e.subscribe(qe=>{(qe||_e.done)&&Q.delete(Ce)})}),c.v7_partialHydration&&ke&&x.errors&&Object.entries(x.errors).filter(_e=>{let[Ce]=_e;return!An.some(qe=>qe.route.id===Ce)}).forEach(_e=>{let[Ce,qe]=_e;Te=Object.assign(Te||{},{[Ce]:qe})});let Me=Cn(),$e=Lr(q),Be=Me||$e||en.length>0;return cn({loaderData:Ve,errors:Te},Be?{fetchers:new Map(x.fetchers)}:{})}function Se(z,K,te,fe){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");U.has(z)&&gn(z);let we=(fe&&fe.unstable_flushSync)===!0,Ke=a||s,Oe=$x(x.location,x.matches,l,c.v7_prependBasename,te,c.v7_relativeSplatPath,K,fe==null?void 0:fe.relative),ke=kc(Ke,Oe,l);if(!ke){Ut(z,K,yi(404,{pathname:Oe}),{flushSync:we});return}let{path:Ie,submission:Je,error:sn}=eO(c.v7_normalizeFormMethod,!0,Oe,fe);if(sn){Ut(z,K,sn,{flushSync:we});return}let Qe=Fx(ke,Ie);if(C=(fe&&fe.preventScrollReset)===!0,Je&&Hi(Je.formMethod)){gt(z,K,Ie,Qe,ke,we,Je);return}W.set(z,{routeId:K,path:Ie}),je(z,K,Ie,Qe,ke,we,Je)}async function gt(z,K,te,fe,we,Ke,Oe){if(Tn(),W.delete(z),!fe.route.action&&!fe.route.lazy){let Ce=yi(405,{method:Oe.formMethod,pathname:te,routeId:K});Ut(z,K,Ce,{flushSync:Ke});return}let ke=x.fetchers.get(z);_t(z,Fq(Oe,ke),{flushSync:Ke});let Ie=new AbortController,Je=Nd(t.history,te,Ie.signal,Oe);U.set(z,Ie);let sn=M,Qe=await kd("action",Je,fe,we,o,i,l,c.v7_relativeSplatPath);if(Je.signal.aborted){U.get(z)===Ie&&U.delete(z);return}if(c.v7_fetcherPersist&&se.has(z)){if(Ja(Qe)||Nc(Qe)){_t(z,Rs(void 0));return}}else{if(Ja(Qe))if(U.delete(z),q>sn){_t(z,Rs(void 0));return}else return P.add(z),_t(z,Rd(Oe)),Rt(x,Qe,{fetcherSubmission:Oe});if(Nc(Qe)){Ut(z,K,Qe.error);return}}if(Xa(Qe))throw yi(400,{type:"defer-action"});let at=x.navigation.location||x.location,wt=Nd(t.history,at,Ie.signal),An=a||s,en=x.navigation.state!=="idle"?kc(An,x.navigation.location,l):x.matches;it(en,"Didn't find any matches after fetcher action");let Li=++M;N.set(z,Li);let Yn=Rd(Oe,Qe.data);x.fetchers.set(z,Yn);let[lr,Yr]=tO(t.history,x,en,Oe,at,!1,B,Y,X,se,W,P,An,l,{[fe.route.id]:Qe.data},void 0);Yr.filter(Ce=>Ce.key!==z).forEach(Ce=>{let qe=Ce.key,$t=x.fetchers.get(qe),Xr=Rd(void 0,$t?$t.data:void 0);x.fetchers.set(qe,Xr),U.has(qe)&&gn(qe),Ce.controller&&U.set(qe,Ce.controller)}),R({fetchers:new Map(x.fetchers)});let ne=()=>Yr.forEach(Ce=>gn(Ce.key));Ie.signal.addEventListener("abort",ne);let{results:Ve,loaderResults:Te,fetcherResults:Me}=await mn(x.matches,en,lr,Yr,wt);if(Ie.signal.aborted)return;Ie.signal.removeEventListener("abort",ne),N.delete(z),U.delete(z),Yr.forEach(Ce=>U.delete(Ce.key));let $e=lO(Ve);if($e){if($e.idx>=lr.length){let Ce=Yr[$e.idx-lr.length].key;P.add(Ce)}return Rt(x,$e.result)}let{loaderData:Be,errors:_e}=oO(x,x.matches,lr,Te,void 0,Yr,Me,Q);if(x.fetchers.has(z)){let Ce=Rs(Qe.data);x.fetchers.set(z,Ce)}Lr(Li),x.navigation.state==="loading"&&Li>q?(it(T,"Expected pending action"),O&&O.abort(),F(x.navigation.location,{matches:en,loaderData:Be,errors:_e,fetchers:new Map(x.fetchers)})):(R({errors:_e,loaderData:sO(x.loaderData,Be,en,_e),fetchers:new Map(x.fetchers)}),B=!1)}async function je(z,K,te,fe,we,Ke,Oe){let ke=x.fetchers.get(z);_t(z,Rd(Oe,ke?ke.data:void 0),{flushSync:Ke});let Ie=new AbortController,Je=Nd(t.history,te,Ie.signal);U.set(z,Ie);let sn=M,Qe=await kd("loader",Je,fe,we,o,i,l,c.v7_relativeSplatPath);if(Xa(Qe)&&(Qe=await UL(Qe,Je.signal,!0)||Qe),U.get(z)===Ie&&U.delete(z),!Je.signal.aborted){if(se.has(z)){_t(z,Rs(void 0));return}if(Ja(Qe))if(q>sn){_t(z,Rs(void 0));return}else{P.add(z),await Rt(x,Qe);return}if(Nc(Qe)){Ut(z,K,Qe.error);return}it(!Xa(Qe),"Unhandled fetcher deferred data"),_t(z,Rs(Qe.data))}}async function Rt(z,K,te){let{submission:fe,fetcherSubmission:we,replace:Ke}=te===void 0?{}:te;K.revalidate&&(B=!0);let Oe=ph(z.location,K.location,{_isRedirect:!0});if(it(Oe,"Expected a location on the redirect navigation"),n){let at=!1;if(K.reloadDocument)at=!0;else if($L.test(K.location)){const wt=t.history.createURL(K.location);at=wt.origin!==e.location.origin||Hu(wt.pathname,l)==null}if(at){Ke?e.location.replace(K.location):e.location.assign(K.location);return}}O=null;let ke=Ke===!0?hn.Replace:hn.Push,{formMethod:Ie,formAction:Je,formEncType:sn}=z.navigation;!fe&&!we&&Ie&&Je&&sn&&(fe=uO(z.navigation));let Qe=fe||we;if(Cq.has(K.status)&&Qe&&Hi(Qe.formMethod))await ae(ke,Oe,{submission:cn({},Qe,{formAction:K.location}),preventScrollReset:C});else{let at=Pb(Oe,fe);await ae(ke,Oe,{overrideNavigation:at,fetcherSubmission:we,preventScrollReset:C})}}async function mn(z,K,te,fe,we){let Ke=await Promise.all([...te.map(Ie=>kd("loader",we,Ie,K,o,i,l,c.v7_relativeSplatPath)),...fe.map(Ie=>Ie.matches&&Ie.match&&Ie.controller?kd("loader",Nd(t.history,Ie.path,Ie.controller.signal),Ie.match,Ie.matches,o,i,l,c.v7_relativeSplatPath):{type:an.error,error:yi(404,{pathname:Ie.path})})]),Oe=Ke.slice(0,te.length),ke=Ke.slice(te.length);return await Promise.all([cO(z,te,Oe,Oe.map(()=>we.signal),!1,x.loaderData),cO(z,fe.map(Ie=>Ie.match),ke,fe.map(Ie=>Ie.controller?Ie.controller.signal:null),!0)]),{results:Ke,loaderResults:Oe,fetcherResults:ke}}function Tn(){B=!0,Y.push(...Da()),W.forEach((z,K)=>{U.has(K)&&(X.push(K),gn(K))})}function _t(z,K,te){te===void 0&&(te={}),x.fetchers.set(z,K),R({fetchers:new Map(x.fetchers)},{flushSync:(te&&te.flushSync)===!0})}function Ut(z,K,te,fe){fe===void 0&&(fe={});let we=Af(x.matches,K);Dr(z),R({errors:{[we.route.id]:te},fetchers:new Map(x.fetchers)},{flushSync:(fe&&fe.flushSync)===!0})}function ar(z){return c.v7_fetcherPersist&&(Z.set(z,(Z.get(z)||0)+1),se.has(z)&&se.delete(z)),x.fetchers.get(z)||Aq}function Dr(z){let K=x.fetchers.get(z);U.has(z)&&!(K&&K.state==="loading"&&N.has(z))&&gn(z),W.delete(z),N.delete(z),P.delete(z),se.delete(z),x.fetchers.delete(z)}function $r(z){if(c.v7_fetcherPersist){let K=(Z.get(z)||0)-1;K<=0?(Z.delete(z),se.add(z)):Z.set(z,K)}else Dr(z);R({fetchers:new Map(x.fetchers)})}function gn(z){let K=U.get(z);it(K,"Expected fetch controller: "+z),K.abort(),U.delete(z)}function hi(z){for(let K of z){let te=ar(K),fe=Rs(te.data);x.fetchers.set(K,fe)}}function Cn(){let z=[],K=!1;for(let te of P){let fe=x.fetchers.get(te);it(fe,"Expected fetcher: "+te),fe.state==="loading"&&(P.delete(te),z.push(te),K=!0)}return hi(z),K}function Lr(z){let K=[];for(let[te,fe]of N)if(fe<z){let we=x.fetchers.get(te);it(we,"Expected fetcher: "+te),we.state==="loading"&&(gn(te),N.delete(te),K.push(te))}return hi(K),K.length>0}function Bo(z,K){let te=x.blockers.get(z)||Od;return ee.get(z)!==K&&ee.set(z,K),te}function zo(z){x.blockers.delete(z),ee.delete(z)}function fo(z,K){let te=x.blockers.get(z)||Od;it(te.state==="unblocked"&&K.state==="blocked"||te.state==="blocked"&&K.state==="blocked"||te.state==="blocked"&&K.state==="proceeding"||te.state==="blocked"&&K.state==="unblocked"||te.state==="proceeding"&&K.state==="unblocked","Invalid blocker state transition: "+te.state+" -> "+K.state);let fe=new Map(x.blockers);fe.set(z,K),R({blockers:fe})}function Wo(z){let{currentLocation:K,nextLocation:te,historyAction:fe}=z;if(ee.size===0)return;ee.size>1&&cu(!1,"A router only supports one blocker at a time");let we=Array.from(ee.entries()),[Ke,Oe]=we[we.length-1],ke=x.blockers.get(Ke);if(!(ke&&ke.state==="proceeding")&&Oe({currentLocation:K,nextLocation:te,historyAction:fe}))return Ke}function Da(z){let K=[];return Q.forEach((te,fe)=>{(!z||z(fe))&&(te.cancel(),K.push(fe),Q.delete(fe))}),K}function ic(z,K,te){if(h=z,m=K,p=te||null,!v&&x.navigation===Ib){v=!0;let fe=Ps(x.location,x.matches);fe!=null&&R({restoreScrollPosition:fe})}return()=>{h=null,m=null,p=null}}function $a(z,K){return p&&p(z,K.map(fe=>rq(fe,x.loaderData)))||z.key}function wd(z,K){if(h&&m){let te=$a(z,K);h[te]=m()}}function Ps(z,K){if(h){let te=$a(z,K),fe=h[te];if(typeof fe=="number")return fe}return null}function oc(z){o={},a=Dx(z,i,void 0,o)}return E={get basename(){return l},get future(){return c},get state(){return x},get routes(){return s},get window(){return e},initialize:k,subscribe:$,enableScrollRestoration:ic,navigate:G,fetch:Se,revalidate:H,createHref:z=>t.history.createHref(z),encodeLocation:z=>t.history.encodeLocation(z),getFetcher:ar,deleteFetcher:$r,dispose:A,getBlocker:Bo,deleteBlocker:zo,_internalFetchControllers:U,_internalActiveDeferreds:Q,_internalSetRoutes:oc},E}function Oq(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function $x(t,e,n,r,i,o,s,a){let l,c;if(s){l=[];for(let d of e)if(l.push(d),d.route.id===s){c=d;break}}else l=e,c=e[e.length-1];let u=l_(i||".",a_(l,o),Hu(t.pathname,n)||t.pathname,a==="path");return i==null&&(u.search=t.search,u.hash=t.hash),(i==null||i===""||i===".")&&c&&c.route.index&&!wT(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:ss([n,u.pathname])),Tl(u)}function eO(t,e,n,r){if(!r||!Oq(r))return{path:n};if(r.formMethod&&!$q(r.formMethod))return{path:n,error:yi(405,{method:r.formMethod})};let i=()=>({path:n,error:yi(400,{type:"invalid-body"})}),o=r.formMethod||"get",s=t?o.toUpperCase():o.toLowerCase(),a=VL(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Hi(s))return i();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,m)=>{let[v,y]=m;return""+p+v+"="+y+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!Hi(s))return i();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return i()}}}it(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=Lx(r.formData),c=r.formData;else if(r.body instanceof FormData)l=Lx(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=iO(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=iO(l)}catch{return i()}let u={formMethod:s,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Hi(u.formMethod))return{path:n,submission:u};let d=Ss(n);return e&&d.search&&wT(d.search)&&l.append("index",""),d.search="?"+l,{path:Tl(d),submission:u}}function kq(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function tO(t,e,n,r,i,o,s,a,l,c,u,d,h,p,m,v){let y=v?Object.values(v)[0]:m?Object.values(m)[0]:void 0,b=t.createURL(e.location),g=t.createURL(i),_=v?Object.keys(v)[0]:void 0,E=kq(n,_).filter((T,C)=>{let{route:O}=T;if(O.lazy)return!0;if(O.loader==null)return!1;if(o)return O.loader.hydrate?!0:e.loaderData[O.id]===void 0&&(!e.errors||e.errors[O.id]===void 0);if(Nq(e.loaderData,e.matches[C],T)||a.some(L=>L===T.route.id))return!0;let I=e.matches[C],D=T;return nO(T,cn({currentUrl:b,currentParams:I.params,nextUrl:g,nextParams:D.params},r,{actionResult:y,defaultShouldRevalidate:s||b.pathname+b.search===g.pathname+g.search||b.search!==g.search||FL(I,D)}))}),x=[];return u.forEach((T,C)=>{if(o||!n.some(j=>j.route.id===T.routeId)||c.has(C))return;let O=kc(h,T.path,p);if(!O){x.push({key:C,routeId:T.routeId,path:T.path,matches:null,match:null,controller:null});return}let I=e.fetchers.get(C),D=Fx(O,T.path),L=!1;d.has(C)?L=!1:l.includes(C)?L=!0:I&&I.state!=="idle"&&I.data===void 0?L=s:L=nO(D,cn({currentUrl:b,currentParams:e.matches[e.matches.length-1].params,nextUrl:g,nextParams:n[n.length-1].params},r,{actionResult:y,defaultShouldRevalidate:s})),L&&x.push({key:C,routeId:T.routeId,path:T.path,matches:O,match:D,controller:new AbortController})}),[E,x]}function Nq(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function FL(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function nO(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function rO(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];it(i,"No route found in manifest");let o={};for(let s in r){let l=i[s]!==void 0&&s!=="hasErrorBoundary";cu(!l,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!l&&!tq.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,cn({},e(i),{lazy:void 0}))}async function kd(t,e,n,r,i,o,s,a,l){l===void 0&&(l={});let c,u,d,h=v=>{let y,b=new Promise((g,_)=>y=_);return d=()=>y(),e.signal.addEventListener("abort",d),Promise.race([v({request:e,params:n.params,context:l.requestContext}),b])};try{let v=n.route[t];if(n.route.lazy)if(v){let y,b=await Promise.all([h(v).catch(g=>{y=g}),rO(n.route,o,i)]);if(y)throw y;u=b[0]}else if(await rO(n.route,o,i),v=n.route[t],v)u=await h(v);else if(t==="action"){let y=new URL(e.url),b=y.pathname+y.search;throw yi(405,{method:e.method,pathname:b,routeId:n.route.id})}else return{type:an.data,data:void 0};else if(v)u=await h(v);else{let y=new URL(e.url),b=y.pathname+y.search;throw yi(404,{pathname:b})}it(u!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(v){c=an.error,u=v}finally{d&&e.signal.removeEventListener("abort",d)}if(Dq(u)){let v=u.status;if(Tq.has(v)){let b=u.headers.get("Location");if(it(b,"Redirects returned/thrown from loaders/actions must have a Location header"),!$L.test(b))b=$x(new URL(e.url),r.slice(0,r.indexOf(n)+1),s,!0,b,a);else if(!l.isStaticRequest){let g=new URL(e.url),_=b.startsWith("//")?new URL(g.protocol+b):new URL(b),w=Hu(_.pathname,s)!=null;_.origin===g.origin&&w&&(b=_.pathname+_.search+_.hash)}if(l.isStaticRequest)throw u.headers.set("Location",b),u;return{type:an.redirect,status:v,location:b,revalidate:u.headers.get("X-Remix-Revalidate")!==null,reloadDocument:u.headers.get("X-Remix-Reload-Document")!==null}}if(l.isRouteRequest)throw{type:c===an.error?an.error:an.data,response:u};let y;try{let b=u.headers.get("Content-Type");b&&/\bapplication\/json\b/.test(b)?u.body==null?y=null:y=await u.json():y=await u.text()}catch(b){return{type:an.error,error:b}}return c===an.error?{type:c,error:new bT(v,u.statusText,y),headers:u.headers}:{type:an.data,data:y,statusCode:u.status,headers:u.headers}}if(c===an.error)return{type:c,error:u};if(Mq(u)){var p,m;return{type:an.deferred,deferredData:u,statusCode:(p=u.init)==null?void 0:p.status,headers:((m=u.init)==null?void 0:m.headers)&&new Headers(u.init.headers)}}return{type:an.data,data:u}}function Nd(t,e,n,r){let i=t.createURL(VL(e)).toString(),o={signal:n};if(r&&Hi(r.formMethod)){let{formMethod:s,formEncType:a}=r;o.method=s.toUpperCase(),a==="application/json"?(o.headers=new Headers({"Content-Type":a}),o.body=JSON.stringify(r.json)):a==="text/plain"?o.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?o.body=Lx(r.formData):o.body=r.formData}return new Request(i,o)}function Lx(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function iO(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function Rq(t,e,n,r,i){let o={},s=null,a,l=!1,c={};return n.forEach((u,d)=>{let h=e[d].route.id;if(it(!Ja(u),"Cannot handle redirect results in processLoaderData"),Nc(u)){let p=Af(t,h),m=u.error;r&&(m=Object.values(r)[0],r=void 0),s=s||{},s[p.route.id]==null&&(s[p.route.id]=m),o[h]=void 0,l||(l=!0,a=ML(u.error)?u.error.status:500),u.headers&&(c[h]=u.headers)}else Xa(u)?(i.set(h,u.deferredData),o[h]=u.deferredData.data):o[h]=u.data,u.statusCode!=null&&u.statusCode!==200&&!l&&(a=u.statusCode),u.headers&&(c[h]=u.headers)}),r&&(s=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:c}}function oO(t,e,n,r,i,o,s,a){let{loaderData:l,errors:c}=Rq(e,n,r,i,a);for(let u=0;u<o.length;u++){let{key:d,match:h,controller:p}=o[u];it(s!==void 0&&s[u]!==void 0,"Did not find corresponding fetcher result");let m=s[u];if(!(p&&p.signal.aborted))if(Nc(m)){let v=Af(t.matches,h==null?void 0:h.route.id);c&&c[v.route.id]||(c=cn({},c,{[v.route.id]:m.error})),t.fetchers.delete(d)}else if(Ja(m))it(!1,"Unhandled fetcher revalidation redirect");else if(Xa(m))it(!1,"Unhandled fetcher deferred data");else{let v=Rs(m.data);t.fetchers.set(d,v)}}return{loaderData:l,errors:c}}function sO(t,e,n,r){let i=cn({},e);for(let o of n){let s=o.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&o.route.loader&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function Af(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function aO(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function yi(t,e){let{pathname:n,routeId:r,method:i,type:o}=e===void 0?{}:e,s="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(s="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?a="defer() is not supported in actions":o==="invalid-body"&&(a="Unable to encode submission body")):t===403?(s="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(s="Not Found",a='No route matches URL "'+n+'"'):t===405&&(s="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new bT(t||500,s,new Error(a),!0)}function lO(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Ja(n))return{result:n,idx:e}}}function VL(t){let e=typeof t=="string"?Ss(t):t;return Tl(cn({},e,{hash:""}))}function jq(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Xa(t){return t.type===an.deferred}function Nc(t){return t.type===an.error}function Ja(t){return(t&&t.type)===an.redirect}function Mq(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function Dq(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function $q(t){return Sq.has(t.toLowerCase())}function Hi(t){return xq.has(t.toLowerCase())}async function cO(t,e,n,r,i,o){for(let s=0;s<n.length;s++){let a=n[s],l=e[s];if(!l)continue;let c=t.find(d=>d.route.id===l.route.id),u=c!=null&&!FL(c,l)&&(o&&o[l.route.id])!==void 0;if(Xa(a)&&(i||u)){let d=r[s];it(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await UL(a,d,i).then(h=>{h&&(n[s]=h||n[s])})}}}async function UL(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:an.data,data:t.deferredData.unwrappedData}}catch(i){return{type:an.error,error:i}}return{type:an.data,data:t.deferredData.data}}}function wT(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Fx(t,e){let n=typeof e=="string"?Ss(e).search:e.search;if(t[t.length-1].route.index&&wT(n||""))return t[t.length-1];let r=jL(t);return r[r.length-1]}function uO(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:s}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function Pb(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Lq(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Rd(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Fq(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Rs(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Vq(t,e){try{let n=t.sessionStorage.getItem(LL);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function Uq(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(LL,JSON.stringify(n))}catch(r){cu(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mh(){return mh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mh.apply(this,arguments)}const c_=S.createContext(null),BL=S.createContext(null),Ea=S.createContext(null),u_=S.createContext(null),Fo=S.createContext({outlet:null,matches:[],isDataRoute:!1}),zL=S.createContext(null);function Bq(t,e){let{relative:n}=e===void 0?{}:e;qu()||it(!1);let{basename:r,navigator:i}=S.useContext(Ea),{hash:o,pathname:s,search:a}=HL(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:ss([r,s])),i.createHref({pathname:l,search:a,hash:o})}function qu(){return S.useContext(u_)!=null}function Gl(){return qu()||it(!1),S.useContext(u_).location}function WL(t){S.useContext(Ea).static||S.useLayoutEffect(t)}function co(){let{isDataRoute:t}=S.useContext(Fo);return t?n8():zq()}function zq(){qu()||it(!1);let t=S.useContext(c_),{basename:e,future:n,navigator:r}=S.useContext(Ea),{matches:i}=S.useContext(Fo),{pathname:o}=Gl(),s=JSON.stringify(a_(i,n.v7_relativeSplatPath)),a=S.useRef(!1);return WL(()=>{a.current=!0}),S.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=l_(c,JSON.parse(s),o,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:ss([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,s,o,t])}const Wq=S.createContext(null);function Hq(t){let e=S.useContext(Fo).outlet;return e&&S.createElement(Wq.Provider,{value:t},e)}function Rp(){let{matches:t}=S.useContext(Fo),e=t[t.length-1];return e?e.params:{}}function HL(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=S.useContext(Ea),{matches:i}=S.useContext(Fo),{pathname:o}=Gl(),s=JSON.stringify(a_(i,r.v7_relativeSplatPath));return S.useMemo(()=>l_(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function qq(t,e,n,r){qu()||it(!1);let{navigator:i}=S.useContext(Ea),{matches:o}=S.useContext(Fo),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=Gl(),u;if(e){var d;let y=typeof e=="string"?Ss(e):e;l==="/"||(d=y.pathname)!=null&&d.startsWith(l)||it(!1),u=y}else u=c;let h=u.pathname||"/",p=h;if(l!=="/"){let y=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=kc(t,{pathname:p}),v=Xq(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:ss([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:ss([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,n,r);return e&&v?S.createElement(u_.Provider,{value:{location:mh({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:hn.Pop}},v):v}function Gq(){let t=t8(),e=ML(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:i},n):null,null)}const Kq=S.createElement(Gq,null);class Qq extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?S.createElement(Fo.Provider,{value:this.props.routeContext},S.createElement(zL.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Yq(t){let{routeContext:e,match:n,children:r}=t,i=S.useContext(c_);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(Fo.Provider,{value:e},r)}function Xq(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=s.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id]));u>=0||it(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<s.length;u++){let d=s[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:p}=n,m=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||m){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,d,h)=>{let p,m=!1,v=null,y=null;n&&(p=a&&d.route.id?a[d.route.id]:void 0,v=d.route.errorElement||Kq,l&&(c<0&&h===0?(r8("route-fallback",!1),m=!0,y=null):c===h&&(m=!0,y=d.route.hydrateFallbackElement||null)));let b=e.concat(s.slice(0,h+1)),g=()=>{let _;return p?_=v:m?_=y:d.route.Component?_=S.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=u,S.createElement(Yq,{match:d,routeContext:{outlet:u,matches:b,isDataRoute:n!=null},children:_})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?S.createElement(Qq,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:g(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):g()},null)}var qL=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(qL||{}),hy=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(hy||{});function Jq(t){let e=S.useContext(c_);return e||it(!1),e}function Zq(t){let e=S.useContext(BL);return e||it(!1),e}function e8(t){let e=S.useContext(Fo);return e||it(!1),e}function GL(t){let e=e8(),n=e.matches[e.matches.length-1];return n.route.id||it(!1),n.route.id}function t8(){var t;let e=S.useContext(zL),n=Zq(hy.UseRouteError),r=GL(hy.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function n8(){let{router:t}=Jq(qL.UseNavigateStable),e=GL(hy.UseNavigateStable),n=S.useRef(!1);return WL(()=>{n.current=!0}),S.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,mh({fromRouteId:e},o)))},[t,e])}const dO={};function r8(t,e,n){!e&&!dO[t]&&(dO[t]=!0)}function xT(t){let{to:e,replace:n,state:r,relative:i}=t;qu()||it(!1);let{future:o,static:s}=S.useContext(Ea),{matches:a}=S.useContext(Fo),{pathname:l}=Gl(),c=co(),u=l_(e,a_(a,o.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(u);return S.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:i}),[c,d,i,n,r]),null}function i8(t){return Hq(t.context)}function o8(t){let{basename:e="/",children:n=null,location:r,navigationType:i=hn.Pop,navigator:o,static:s=!1,future:a}=t;qu()&&it(!1);let l=e.replace(/^\/*/,"/"),c=S.useMemo(()=>({basename:l,navigator:o,static:s,future:mh({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=Ss(r));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:m="default"}=r,v=S.useMemo(()=>{let y=Hu(u,l);return y==null?null:{location:{pathname:y,search:d,hash:h,state:p,key:m},navigationType:i}},[l,u,d,h,p,m,i]);return v==null?null:S.createElement(Ea.Provider,{value:c},S.createElement(u_.Provider,{children:n,value:v}))}new Promise(()=>{});function s8(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:S.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:S.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:S.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gh(){return gh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gh.apply(this,arguments)}function a8(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function l8(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function c8(t,e){return t.button===0&&(!e||e==="_self")&&!l8(t)}const u8=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],d8="6";try{window.__reactRouterVersion=d8}catch{}function f8(t,e){return Pq({basename:e==null?void 0:e.basename,future:gh({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:JH({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||h8(),routes:t,mapRouteProperties:s8,window:e==null?void 0:e.window}).initialize()}function h8(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=gh({},e,{errors:p8(e.errors)})),e}function p8(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new bT(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const m8=S.createContext({isTransitioning:!1}),g8=S.createContext(new Map),y8="startTransition",fO=V9[y8],v8="flushSync",hO=XH[v8];function _8(t){fO?fO(t):t()}function jd(t){hO?hO(t):t()}let b8=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function w8(t){let{fallbackElement:e,router:n,future:r}=t,[i,o]=S.useState(n.state),[s,a]=S.useState(),[l,c]=S.useState({isTransitioning:!1}),[u,d]=S.useState(),[h,p]=S.useState(),[m,v]=S.useState(),y=S.useRef(new Map),{v7_startTransition:b}=r||{},g=S.useCallback(T=>{b?_8(T):T()},[b]),_=S.useCallback((T,C)=>{let{deletedFetchers:O,unstable_flushSync:I,unstable_viewTransitionOpts:D}=C;O.forEach(j=>y.current.delete(j)),T.fetchers.forEach((j,B)=>{j.data!==void 0&&y.current.set(B,j.data)});let L=n.window==null||typeof n.window.document.startViewTransition!="function";if(!D||L){I?jd(()=>o(T)):g(()=>o(T));return}if(I){jd(()=>{h&&(u&&u.resolve(),h.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:D.currentLocation,nextLocation:D.nextLocation})});let j=n.window.document.startViewTransition(()=>{jd(()=>o(T))});j.finished.finally(()=>{jd(()=>{d(void 0),p(void 0),a(void 0),c({isTransitioning:!1})})}),jd(()=>p(j));return}h?(u&&u.resolve(),h.skipTransition(),v({state:T,currentLocation:D.currentLocation,nextLocation:D.nextLocation})):(a(T),c({isTransitioning:!0,flushSync:!1,currentLocation:D.currentLocation,nextLocation:D.nextLocation}))},[n.window,h,u,y,g]);S.useLayoutEffect(()=>n.subscribe(_),[n,_]),S.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new b8)},[l]),S.useEffect(()=>{if(u&&s&&n.window){let T=s,C=u.promise,O=n.window.document.startViewTransition(async()=>{g(()=>o(T)),await C});O.finished.finally(()=>{d(void 0),p(void 0),a(void 0),c({isTransitioning:!1})}),p(O)}},[g,s,u,n.window]),S.useEffect(()=>{u&&s&&i.location.key===s.location.key&&u.resolve()},[u,h,i.location,s]),S.useEffect(()=>{!l.isTransitioning&&m&&(a(m.state),c({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),v(void 0))},[l.isTransitioning,m]),S.useEffect(()=>{},[]);let w=S.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:T=>n.navigate(T),push:(T,C,O)=>n.navigate(T,{state:C,preventScrollReset:O==null?void 0:O.preventScrollReset}),replace:(T,C,O)=>n.navigate(T,{replace:!0,state:C,preventScrollReset:O==null?void 0:O.preventScrollReset})}),[n]),E=n.basename||"/",x=S.useMemo(()=>({router:n,navigator:w,static:!1,basename:E}),[n,w,E]);return S.createElement(S.Fragment,null,S.createElement(c_.Provider,{value:x},S.createElement(BL.Provider,{value:i},S.createElement(g8.Provider,{value:y.current},S.createElement(m8.Provider,{value:l},S.createElement(o8,{basename:E,location:i.location,navigationType:i.historyAction,navigator:w,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?S.createElement(x8,{routes:n.routes,future:n.future,state:i}):e))))),null)}function x8(t){let{routes:e,future:n,state:r}=t;return qq(e,void 0,r,n)}const E8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",S8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ne=S.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:d}=e,h=a8(e,u8),{basename:p}=S.useContext(Ea),m,v=!1;if(typeof c=="string"&&S8.test(c)&&(m=c,E8))try{let _=new URL(window.location.href),w=c.startsWith("//")?new URL(_.protocol+c):new URL(c),E=Hu(w.pathname,p);w.origin===_.origin&&E!=null?c=E+w.search+w.hash:v=!0}catch{}let y=Bq(c,{relative:i}),b=T8(c,{replace:s,state:a,target:l,preventScrollReset:u,relative:i,unstable_viewTransition:d});function g(_){r&&r(_),_.defaultPrevented||b(_)}return S.createElement("a",gh({},h,{href:m||y,onClick:v||o?r:g,ref:n,target:l}))});var pO;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(pO||(pO={}));var mO;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(mO||(mO={}));function T8(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a}=e===void 0?{}:e,l=co(),c=Gl(),u=HL(t,{relative:s});return S.useCallback(d=>{if(c8(d,n)){d.preventDefault();let h=r!==void 0?r:Tl(c)===Tl(u);l(t,{replace:h,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a})}},[c,l,u,r,i,n,t,o,s,a])}const If=/^[a-z0-9]+(-[a-z0-9]+)*$/,d_=(t,e,n,r="")=>{const i=t.split(":");if(t.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;r=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const a=i.pop(),l=i.pop(),c={provider:i.length>0?i[0]:r,prefix:l,name:a};return e&&!Tg(c)?null:c}const o=i[0],s=o.split("-");if(s.length>1){const a={provider:r,prefix:s.shift(),name:s.join("-")};return e&&!Tg(a)?null:a}if(n&&r===""){const a={provider:r,prefix:"",name:o};return e&&!Tg(a,n)?null:a}return null},Tg=(t,e)=>t?!!((t.provider===""||t.provider.match(If))&&(e&&t.prefix===""||t.prefix.match(If))&&t.name.match(If)):!1,KL=Object.freeze({left:0,top:0,width:16,height:16}),py=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),ET=Object.freeze({...KL,...py}),Vx=Object.freeze({...ET,body:"",hidden:!1});function C8(t,e){const n={};!t.hFlip!=!e.hFlip&&(n.hFlip=!0),!t.vFlip!=!e.vFlip&&(n.vFlip=!0);const r=((t.rotate||0)+(e.rotate||0))%4;return r&&(n.rotate=r),n}function gO(t,e){const n=C8(t,e);for(const r in Vx)r in py?r in t&&!(r in n)&&(n[r]=py[r]):r in e?n[r]=e[r]:r in t&&(n[r]=t[r]);return n}function A8(t,e){const n=t.icons,r=t.aliases||Object.create(null),i=Object.create(null);function o(s){if(n[s])return i[s]=[];if(!(s in i)){i[s]=null;const a=r[s]&&r[s].parent,l=a&&o(a);l&&(i[s]=[a].concat(l))}return i[s]}return(e||Object.keys(n).concat(Object.keys(r))).forEach(o),i}function I8(t,e,n){const r=t.icons,i=t.aliases||Object.create(null);let o={};function s(a){o=gO(r[a]||i[a],o)}return s(e),n.forEach(s),gO(t,o)}function QL(t,e){const n=[];if(typeof t!="object"||typeof t.icons!="object")return n;t.not_found instanceof Array&&t.not_found.forEach(i=>{e(i,null),n.push(i)});const r=A8(t);for(const i in r){const o=r[i];o&&(e(i,I8(t,i,o)),n.push(i))}return n}const P8={provider:"",aliases:{},not_found:{},...KL};function Ob(t,e){for(const n in e)if(n in t&&typeof t[n]!=typeof e[n])return!1;return!0}function YL(t){if(typeof t!="object"||t===null)return null;const e=t;if(typeof e.prefix!="string"||!t.icons||typeof t.icons!="object"||!Ob(t,P8))return null;const n=e.icons;for(const i in n){const o=n[i];if(!i.match(If)||typeof o.body!="string"||!Ob(o,Vx))return null}const r=e.aliases||Object.create(null);for(const i in r){const o=r[i],s=o.parent;if(!i.match(If)||typeof s!="string"||!n[s]&&!r[s]||!Ob(o,Vx))return null}return e}const yO=Object.create(null);function O8(t,e){return{provider:t,prefix:e,icons:Object.create(null),missing:new Set}}function Cl(t,e){const n=yO[t]||(yO[t]=Object.create(null));return n[e]||(n[e]=O8(t,e))}function ST(t,e){return YL(e)?QL(e,(n,r)=>{r?t.icons[n]=r:t.missing.add(n)}):[]}function k8(t,e,n){try{if(typeof n.body=="string")return t.icons[e]={...n},!0}catch{}return!1}let yh=!1;function XL(t){return typeof t=="boolean"&&(yh=t),yh}function N8(t){const e=typeof t=="string"?d_(t,!0,yh):t;if(e){const n=Cl(e.provider,e.prefix),r=e.name;return n.icons[r]||(n.missing.has(r)?null:void 0)}}function R8(t,e){const n=d_(t,!0,yh);if(!n)return!1;const r=Cl(n.provider,n.prefix);return k8(r,n.name,e)}function j8(t,e){if(typeof t!="object")return!1;if(typeof e!="string"&&(e=t.provider||""),yh&&!e&&!t.prefix){let i=!1;return YL(t)&&(t.prefix="",QL(t,(o,s)=>{s&&R8(o,s)&&(i=!0)})),i}const n=t.prefix;if(!Tg({provider:e,prefix:n,name:"a"}))return!1;const r=Cl(e,n);return!!ST(r,t)}const JL=Object.freeze({width:null,height:null}),ZL=Object.freeze({...JL,...py}),M8=/(-?[0-9.]*[0-9]+[0-9.]*)/g,D8=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function vO(t,e,n){if(e===1)return t;if(n=n||100,typeof t=="number")return Math.ceil(t*e*n)/n;if(typeof t!="string")return t;const r=t.split(M8);if(r===null||!r.length)return t;const i=[];let o=r.shift(),s=D8.test(o);for(;;){if(s){const a=parseFloat(o);isNaN(a)?i.push(o):i.push(Math.ceil(a*e*n)/n)}else i.push(o);if(o=r.shift(),o===void 0)return i.join("");s=!s}}const $8=t=>t==="unset"||t==="undefined"||t==="none";function L8(t,e){const n={...ET,...t},r={...ZL,...e},i={left:n.left,top:n.top,width:n.width,height:n.height};let o=n.body;[n,r].forEach(m=>{const v=[],y=m.hFlip,b=m.vFlip;let g=m.rotate;y?b?g+=2:(v.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),v.push("scale(-1 1)"),i.top=i.left=0):b&&(v.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),v.push("scale(1 -1)"),i.top=i.left=0);let _;switch(g<0&&(g-=Math.floor(g/4)*4),g=g%4,g){case 1:_=i.height/2+i.top,v.unshift("rotate(90 "+_.toString()+" "+_.toString()+")");break;case 2:v.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:_=i.width/2+i.left,v.unshift("rotate(-90 "+_.toString()+" "+_.toString()+")");break}g%2===1&&(i.left!==i.top&&(_=i.left,i.left=i.top,i.top=_),i.width!==i.height&&(_=i.width,i.width=i.height,i.height=_)),v.length&&(o='<g transform="'+v.join(" ")+'">'+o+"</g>")});const s=r.width,a=r.height,l=i.width,c=i.height;let u,d;s===null?(d=a===null?"1em":a==="auto"?c:a,u=vO(d,l/c)):(u=s==="auto"?l:s,d=a===null?vO(u,c/l):a==="auto"?c:a);const h={},p=(m,v)=>{$8(v)||(h[m]=v.toString())};return p("width",u),p("height",d),h.viewBox=i.left.toString()+" "+i.top.toString()+" "+l.toString()+" "+c.toString(),{attributes:h,body:o}}const F8=/\sid="(\S+)"/g,V8="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let U8=0;function B8(t,e=V8){const n=[];let r;for(;r=F8.exec(t);)n.push(r[1]);if(!n.length)return t;const i="suffix"+(Math.random()*16777216|Date.now()).toString(16);return n.forEach(o=>{const s=typeof e=="function"?e(o):e+(U8++).toString(),a=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+a+')([")]|\\.[a-z])',"g"),"$1"+s+i+"$3")}),t=t.replace(new RegExp(i,"g"),""),t}const Ux=Object.create(null);function z8(t,e){Ux[t]=e}function Bx(t){return Ux[t]||Ux[""]}function TT(t){let e;if(typeof t.resources=="string")e=[t.resources];else if(e=t.resources,!(e instanceof Array)||!e.length)return null;return{resources:e,path:t.path||"/",maxURL:t.maxURL||500,rotate:t.rotate||750,timeout:t.timeout||5e3,random:t.random===!0,index:t.index||0,dataAfterTimeout:t.dataAfterTimeout!==!1}}const CT=Object.create(null),Md=["https://api.simplesvg.com","https://api.unisvg.com"],Cg=[];for(;Md.length>0;)Md.length===1||Math.random()>.5?Cg.push(Md.shift()):Cg.push(Md.pop());CT[""]=TT({resources:["https://api.iconify.design"].concat(Cg)});function W8(t,e){const n=TT(e);return n===null?!1:(CT[t]=n,!0)}function AT(t){return CT[t]}const H8=()=>{let t;try{if(t=fetch,typeof t=="function")return t}catch{}};let _O=H8();function q8(t,e){const n=AT(t);if(!n)return 0;let r;if(!n.maxURL)r=0;else{let i=0;n.resources.forEach(s=>{i=Math.max(i,s.length)});const o=e+".json?icons=";r=n.maxURL-i-n.path.length-o.length}return r}function G8(t){return t===404}const K8=(t,e,n)=>{const r=[],i=q8(t,e),o="icons";let s={type:o,provider:t,prefix:e,icons:[]},a=0;return n.forEach((l,c)=>{a+=l.length+1,a>=i&&c>0&&(r.push(s),s={type:o,provider:t,prefix:e,icons:[]},a=l.length),s.icons.push(l)}),r.push(s),r};function Q8(t){if(typeof t=="string"){const e=AT(t);if(e)return e.path}return"/"}const Y8=(t,e,n)=>{if(!_O){n("abort",424);return}let r=Q8(e.provider);switch(e.type){case"icons":{const o=e.prefix,a=e.icons.join(","),l=new URLSearchParams({icons:a});r+=o+".json?"+l.toString();break}case"custom":{const o=e.uri;r+=o.slice(0,1)==="/"?o.slice(1):o;break}default:n("abort",400);return}let i=503;_O(t+r).then(o=>{const s=o.status;if(s!==200){setTimeout(()=>{n(G8(s)?"abort":"next",s)});return}return i=501,o.json()}).then(o=>{if(typeof o!="object"||o===null){setTimeout(()=>{o===404?n("abort",o):n("next",i)});return}setTimeout(()=>{n("success",o)})}).catch(()=>{n("next",i)})},X8={prepare:K8,send:Y8};function J8(t){const e={loaded:[],missing:[],pending:[]},n=Object.create(null);t.sort((i,o)=>i.provider!==o.provider?i.provider.localeCompare(o.provider):i.prefix!==o.prefix?i.prefix.localeCompare(o.prefix):i.name.localeCompare(o.name));let r={provider:"",prefix:"",name:""};return t.forEach(i=>{if(r.name===i.name&&r.prefix===i.prefix&&r.provider===i.provider)return;r=i;const o=i.provider,s=i.prefix,a=i.name,l=n[o]||(n[o]=Object.create(null)),c=l[s]||(l[s]=Cl(o,s));let u;a in c.icons?u=e.loaded:s===""||c.missing.has(a)?u=e.missing:u=e.pending;const d={provider:o,prefix:s,name:a};u.push(d)}),e}function eF(t,e){t.forEach(n=>{const r=n.loaderCallbacks;r&&(n.loaderCallbacks=r.filter(i=>i.id!==e))})}function Z8(t){t.pendingCallbacksFlag||(t.pendingCallbacksFlag=!0,setTimeout(()=>{t.pendingCallbacksFlag=!1;const e=t.loaderCallbacks?t.loaderCallbacks.slice(0):[];if(!e.length)return;let n=!1;const r=t.provider,i=t.prefix;e.forEach(o=>{const s=o.icons,a=s.pending.length;s.pending=s.pending.filter(l=>{if(l.prefix!==i)return!0;const c=l.name;if(t.icons[c])s.loaded.push({provider:r,prefix:i,name:c});else if(t.missing.has(c))s.missing.push({provider:r,prefix:i,name:c});else return n=!0,!0;return!1}),s.pending.length!==a&&(n||eF([t],o.id),o.callback(s.loaded.slice(0),s.missing.slice(0),s.pending.slice(0),o.abort))})}))}let eG=0;function tG(t,e,n){const r=eG++,i=eF.bind(null,n,r);if(!e.pending.length)return i;const o={id:r,icons:e,callback:t,abort:i};return n.forEach(s=>{(s.loaderCallbacks||(s.loaderCallbacks=[])).push(o)}),i}function nG(t,e=!0,n=!1){const r=[];return t.forEach(i=>{const o=typeof i=="string"?d_(i,e,n):i;o&&r.push(o)}),r}var rG={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function iG(t,e,n,r){const i=t.resources.length,o=t.random?Math.floor(Math.random()*i):t.index;let s;if(t.random){let x=t.resources.slice(0);for(s=[];x.length>1;){const T=Math.floor(Math.random()*x.length);s.push(x[T]),x=x.slice(0,T).concat(x.slice(T+1))}s=s.concat(x)}else s=t.resources.slice(o).concat(t.resources.slice(0,o));const a=Date.now();let l="pending",c=0,u,d=null,h=[],p=[];typeof r=="function"&&p.push(r);function m(){d&&(clearTimeout(d),d=null)}function v(){l==="pending"&&(l="aborted"),m(),h.forEach(x=>{x.status==="pending"&&(x.status="aborted")}),h=[]}function y(x,T){T&&(p=[]),typeof x=="function"&&p.push(x)}function b(){return{startTime:a,payload:e,status:l,queriesSent:c,queriesPending:h.length,subscribe:y,abort:v}}function g(){l="failed",p.forEach(x=>{x(void 0,u)})}function _(){h.forEach(x=>{x.status==="pending"&&(x.status="aborted")}),h=[]}function w(x,T,C){const O=T!=="success";switch(h=h.filter(I=>I!==x),l){case"pending":break;case"failed":if(O||!t.dataAfterTimeout)return;break;default:return}if(T==="abort"){u=C,g();return}if(O){u=C,h.length||(s.length?E():g());return}if(m(),_(),!t.random){const I=t.resources.indexOf(x.resource);I!==-1&&I!==t.index&&(t.index=I)}l="completed",p.forEach(I=>{I(C)})}function E(){if(l!=="pending")return;m();const x=s.shift();if(x===void 0){if(h.length){d=setTimeout(()=>{m(),l==="pending"&&(_(),g())},t.timeout);return}g();return}const T={status:"pending",resource:x,callback:(C,O)=>{w(T,C,O)}};h.push(T),c++,d=setTimeout(E,t.rotate),n(x,e,T.callback)}return setTimeout(E),b}function tF(t){const e={...rG,...t};let n=[];function r(){n=n.filter(a=>a().status==="pending")}function i(a,l,c){const u=iG(e,a,l,(d,h)=>{r(),c&&c(d,h)});return n.push(u),u}function o(a){return n.find(l=>a(l))||null}return{query:i,find:o,setIndex:a=>{e.index=a},getIndex:()=>e.index,cleanup:r}}function bO(){}const kb=Object.create(null);function oG(t){if(!kb[t]){const e=AT(t);if(!e)return;const n=tF(e),r={config:e,redundancy:n};kb[t]=r}return kb[t]}function sG(t,e,n){let r,i;if(typeof t=="string"){const o=Bx(t);if(!o)return n(void 0,424),bO;i=o.send;const s=oG(t);s&&(r=s.redundancy)}else{const o=TT(t);if(o){r=tF(o);const s=t.resources?t.resources[0]:"",a=Bx(s);a&&(i=a.send)}}return!r||!i?(n(void 0,424),bO):r.query(e,i,n)().abort}const wO="iconify2",vh="iconify",nF=vh+"-count",xO=vh+"-version",rF=36e5,aG=168;function zx(t,e){try{return t.getItem(e)}catch{}}function IT(t,e,n){try{return t.setItem(e,n),!0}catch{}}function EO(t,e){try{t.removeItem(e)}catch{}}function Wx(t,e){return IT(t,nF,e.toString())}function Hx(t){return parseInt(zx(t,nF))||0}const f_={local:!0,session:!0},iF={local:new Set,session:new Set};let PT=!1;function lG(t){PT=t}let jm=typeof window>"u"?{}:window;function oF(t){const e=t+"Storage";try{if(jm&&jm[e]&&typeof jm[e].length=="number")return jm[e]}catch{}f_[t]=!1}function sF(t,e){const n=oF(t);if(!n)return;const r=zx(n,xO);if(r!==wO){if(r){const a=Hx(n);for(let l=0;l<a;l++)EO(n,vh+l.toString())}IT(n,xO,wO),Wx(n,0);return}const i=Math.floor(Date.now()/rF)-aG,o=a=>{const l=vh+a.toString(),c=zx(n,l);if(typeof c=="string"){try{const u=JSON.parse(c);if(typeof u=="object"&&typeof u.cached=="number"&&u.cached>i&&typeof u.provider=="string"&&typeof u.data=="object"&&typeof u.data.prefix=="string"&&e(u,a))return!0}catch{}EO(n,l)}};let s=Hx(n);for(let a=s-1;a>=0;a--)o(a)||(a===s-1?(s--,Wx(n,s)):iF[t].add(a))}function aF(){if(!PT){lG(!0);for(const t in f_)sF(t,e=>{const n=e.data,r=e.provider,i=n.prefix,o=Cl(r,i);if(!ST(o,n).length)return!1;const s=n.lastModified||-1;return o.lastModifiedCached=o.lastModifiedCached?Math.min(o.lastModifiedCached,s):s,!0})}}function cG(t,e){const n=t.lastModifiedCached;if(n&&n>=e)return n===e;if(t.lastModifiedCached=e,n)for(const r in f_)sF(r,i=>{const o=i.data;return i.provider!==t.provider||o.prefix!==t.prefix||o.lastModified===e});return!0}function uG(t,e){PT||aF();function n(r){let i;if(!f_[r]||!(i=oF(r)))return;const o=iF[r];let s;if(o.size)o.delete(s=Array.from(o).shift());else if(s=Hx(i),!Wx(i,s+1))return;const a={cached:Math.floor(Date.now()/rF),provider:t.provider,data:e};return IT(i,vh+s.toString(),JSON.stringify(a))}e.lastModified&&!cG(t,e.lastModified)||Object.keys(e.icons).length&&(e.not_found&&(e=Object.assign({},e),delete e.not_found),n("local")||n("session"))}function SO(){}function dG(t){t.iconsLoaderFlag||(t.iconsLoaderFlag=!0,setTimeout(()=>{t.iconsLoaderFlag=!1,Z8(t)}))}function fG(t,e){t.iconsToLoad?t.iconsToLoad=t.iconsToLoad.concat(e).sort():t.iconsToLoad=e,t.iconsQueueFlag||(t.iconsQueueFlag=!0,setTimeout(()=>{t.iconsQueueFlag=!1;const{provider:n,prefix:r}=t,i=t.iconsToLoad;delete t.iconsToLoad;let o;if(!i||!(o=Bx(n)))return;o.prepare(n,r,i).forEach(a=>{sG(n,a,l=>{if(typeof l!="object")a.icons.forEach(c=>{t.missing.add(c)});else try{const c=ST(t,l);if(!c.length)return;const u=t.pendingIcons;u&&c.forEach(d=>{u.delete(d)}),uG(t,l)}catch(c){console.error(c)}dG(t)})})}))}const hG=(t,e)=>{const n=nG(t,!0,XL()),r=J8(n);if(!r.pending.length){let l=!0;return e&&setTimeout(()=>{l&&e(r.loaded,r.missing,r.pending,SO)}),()=>{l=!1}}const i=Object.create(null),o=[];let s,a;return r.pending.forEach(l=>{const{provider:c,prefix:u}=l;if(u===a&&c===s)return;s=c,a=u,o.push(Cl(c,u));const d=i[c]||(i[c]=Object.create(null));d[u]||(d[u]=[])}),r.pending.forEach(l=>{const{provider:c,prefix:u,name:d}=l,h=Cl(c,u),p=h.pendingIcons||(h.pendingIcons=new Set);p.has(d)||(p.add(d),i[c][u].push(d))}),o.forEach(l=>{const{provider:c,prefix:u}=l;i[c][u].length&&fG(l,i[c][u])}),e?tG(e,r,o):SO};function pG(t,e){const n={...t};for(const r in e){const i=e[r],o=typeof i;r in JL?(i===null||i&&(o==="string"||o==="number"))&&(n[r]=i):o===typeof n[r]&&(n[r]=r==="rotate"?i%4:i)}return n}const mG=/[\s,]+/;function gG(t,e){e.split(mG).forEach(n=>{switch(n.trim()){case"horizontal":t.hFlip=!0;break;case"vertical":t.vFlip=!0;break}})}function yG(t,e=0){const n=t.replace(/^-?[0-9.]*/,"");function r(i){for(;i<0;)i+=4;return i%4}if(n===""){const i=parseInt(t);return isNaN(i)?0:r(i)}else if(n!==t){let i=0;switch(n){case"%":i=25;break;case"deg":i=90}if(i){let o=parseFloat(t.slice(0,t.length-n.length));return isNaN(o)?0:(o=o/i,o%1===0?r(o):0)}}return e}function vG(t,e){let n=t.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const r in e)n+=" "+r+'="'+e[r]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+t+"</svg>"}function _G(t){return t.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function bG(t){return"data:image/svg+xml,"+_G(t)}function wG(t){return'url("'+bG(t)+'")'}let Pf;function xG(){try{Pf=window.trustedTypes.createPolicy("iconify",{createHTML:t=>t})}catch{Pf=null}}function EG(t){return Pf===void 0&&xG(),Pf?Pf.createHTML(t):t}const lF={...ZL,inline:!1},SG={xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},TG={display:"inline-block"},qx={backgroundColor:"currentColor"},cF={backgroundColor:"transparent"},TO={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},CO={WebkitMask:qx,mask:qx,background:cF};for(const t in CO){const e=CO[t];for(const n in TO)e[t+n]=TO[n]}const CG={...lF,inline:!0};function AO(t){return t+(t.match(/^[-0-9.]+$/)?"px":"")}const AG=(t,e,n,r)=>{const i=n?CG:lF,o=pG(i,e),s=e.mode||"svg",a={},l=e.style||{},c={...s==="svg"?SG:{},ref:r};for(let b in e){const g=e[b];if(g!==void 0)switch(b){case"icon":case"style":case"children":case"onLoad":case"mode":case"_ref":case"_inline":break;case"inline":case"hFlip":case"vFlip":o[b]=g===!0||g==="true"||g===1;break;case"flip":typeof g=="string"&&gG(o,g);break;case"color":a.color=g;break;case"rotate":typeof g=="string"?o[b]=yG(g):typeof g=="number"&&(o[b]=g);break;case"ariaHidden":case"aria-hidden":g!==!0&&g!=="true"&&delete c["aria-hidden"];break;default:i[b]===void 0&&(c[b]=g)}}const u=L8(t,o),d=u.attributes;if(o.inline&&(a.verticalAlign="-0.125em"),s==="svg"){c.style={...a,...l},Object.assign(c,d);let b=0,g=e.id;return typeof g=="string"&&(g=g.replace(/-/g,"_")),c.dangerouslySetInnerHTML={__html:EG(B8(u.body,g?()=>g+"ID"+b++:"iconifyReact"))},V.createElement("svg",c)}const{body:h,width:p,height:m}=t,v=s==="mask"||(s==="bg"?!1:h.indexOf("currentColor")!==-1),y=vG(h,{...d,width:p+"",height:m+""});return c.style={...a,"--svg":wG(y),width:AO(d.width),height:AO(d.height),...TG,...v?qx:cF,...l},V.createElement("span",c)};XL(!0);z8("",X8);if(typeof document<"u"&&typeof window<"u"){aF();const t=window;if(t.IconifyPreload!==void 0){const e=t.IconifyPreload,n="Invalid IconifyPreload syntax.";typeof e=="object"&&e!==null&&(e instanceof Array?e:[e]).forEach(r=>{try{(typeof r!="object"||r===null||r instanceof Array||typeof r.icons!="object"||typeof r.prefix!="string"||!j8(r))&&console.error(n)}catch{console.error(n)}})}if(t.IconifyProviders!==void 0){const e=t.IconifyProviders;if(typeof e=="object"&&e!==null)for(let n in e){const r="IconifyProviders["+n+"] is invalid.";try{const i=e[n];if(typeof i!="object"||!i||i.resources===void 0)continue;W8(n,i)||console.error(r)}catch{console.error(r)}}}}let uF=class extends V.Component{constructor(e){super(e),this.state={icon:null}}_abortLoading(){this._loading&&(this._loading.abort(),this._loading=null)}_setData(e){this.state.icon!==e&&this.setState({icon:e})}_checkIcon(e){const n=this.state,r=this.props.icon;if(typeof r=="object"&&r!==null&&typeof r.body=="string"){this._icon="",this._abortLoading(),(e||n.icon===null)&&this._setData({data:r});return}let i;if(typeof r!="string"||(i=d_(r,!1,!0))===null){this._abortLoading(),this._setData(null);return}const o=N8(i);if(!o){(!this._loading||this._loading.name!==r)&&(this._abortLoading(),this._icon="",this._setData(null),o!==null&&(this._loading={name:r,abort:hG([i],this._checkIcon.bind(this,!1))}));return}if(this._icon!==r||n.icon===null){this._abortLoading(),this._icon=r;const s=["iconify"];i.prefix!==""&&s.push("iconify--"+i.prefix),i.provider!==""&&s.push("iconify--"+i.provider),this._setData({data:o,classes:s}),this.props.onLoad&&this.props.onLoad(r)}}componentDidMount(){this._checkIcon(!1)}componentDidUpdate(e){e.icon!==this.props.icon&&this._checkIcon(!0)}componentWillUnmount(){this._abortLoading()}render(){const e=this.props,n=this.state.icon;if(n===null)return e.children?e.children:V.createElement("span",{});let r=e;return n.classes&&(r={...e,className:(typeof e.className=="string"?e.className+" ":"")+n.classes.join(" ")}),AG({...ET,...n.data},r,e._inline,e._ref)}};const tt=V.forwardRef(function(e,n){const r={...e,_ref:n,_inline:!1};return V.createElement(uF,r)});V.forwardRef(function(e,n){const r={...e,_ref:n,_inline:!0};return V.createElement(uF,r)});var IO={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dF={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ye=function(t,e){if(!t)throw Gu(e)},Gu=function(t){return new Error("Firebase Database ("+dF.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fF=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},IG=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},OT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4;let h=(a&15)<<2|c>>6,p=c&63;l||(p=64,s||(h=64)),r.push(n[u],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fF(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):IG(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||d==null)throw new PG;const h=o<<2|a>>4;if(r.push(h),c!==64){const p=a<<4&240|c>>2;if(r.push(p),d!==64){const m=c<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class PG extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hF=function(t){const e=fF(t);return OT.encodeByteArray(e,!0)},my=function(t){return hF(t).replace(/\./g,"")},gy=function(t){try{return OT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OG(t){return pF(void 0,t)}function pF(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!kG(n)||(t[n]=pF(t[n],e[n]));return t}function kG(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NG(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RG=()=>NG().__FIREBASE_DEFAULTS__,jG=()=>{if(typeof process>"u"||typeof IO>"u")return;const t=IO.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},MG=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&gy(t[1]);return e&&JSON.parse(e)},h_=()=>{try{return RG()||jG()||MG()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mF=t=>{var e,n;return(n=(e=h_())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},gF=t=>{const e=mF(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},yF=()=>{var t;return(t=h_())===null||t===void 0?void 0:t.config},vF=t=>{var e;return(e=h_())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _F(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[my(JSON.stringify(n)),my(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function DG(){var t;const e=(t=h_())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $G(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function bF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LG(){const t=En();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function wF(){return dF.NODE_ADMIN===!0}function FG(){return!DG()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xF(){try{return typeof indexedDB=="object"}catch{return!1}}function VG(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UG="FirebaseError";class Vo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=UG,Object.setPrototypeOf(this,Vo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jp.prototype.create)}}class jp{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?BG(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Vo(i,a,r)}}function BG(t,e){return t.replace(zG,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const zG=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(t){return JSON.parse(t)}function er(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EF=function(t){let e={},n={},r={},i="";try{const o=t.split(".");e=_h(gy(o[0])||""),n=_h(gy(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},WG=function(t){const e=EF(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},HG=function(t){const e=EF(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function uu(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Gx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function yy(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function vy(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(PO(o)&&PO(s)){if(!vy(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function PO(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function lf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function cf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qG{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^o&(s^a),u=1518500249):(c=o^s^a,u=1859775393):d<60?(c=o&s|a&(o|s),u=2400959708):(c=o^s^a,u=3395469782);const h=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const o=this.buf_;let s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}}function GG(t,e){const n=new KG(t,e);return n.subscribe.bind(n)}class KG{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");QG(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Nb),i.error===void 0&&(i.error=Nb),i.complete===void 0&&(i.complete=Nb);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function QG(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Nb(){}function YG(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XG=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,ye(r<t.length,"Surrogate pair missing trail surrogate.");const s=t.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},p_=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(t){return t&&t._delegate?t._delegate:t}class gs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JG{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new kT;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(e7(e))try{this.getOrInitializeService({instanceIdentifier:Ua})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ua){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ua){return this.instances.has(e)}getOptions(e=Ua){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ZG(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ua){return this.component?this.component.multipleInstances?e:Ua:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZG(t){return t===Ua?void 0:t}function e7(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t7{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new JG(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(lt||(lt={}));const n7={debug:lt.DEBUG,verbose:lt.VERBOSE,info:lt.INFO,warn:lt.WARN,error:lt.ERROR,silent:lt.SILENT},r7=lt.INFO,i7={[lt.DEBUG]:"log",[lt.VERBOSE]:"log",[lt.INFO]:"info",[lt.WARN]:"warn",[lt.ERROR]:"error"},o7=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=i7[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class m_{constructor(e){this.name=e,this._logLevel=r7,this._logHandler=o7,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?n7[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,lt.DEBUG,...e),this._logHandler(this,lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,lt.VERBOSE,...e),this._logHandler(this,lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,lt.INFO,...e),this._logHandler(this,lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,lt.WARN,...e),this._logHandler(this,lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,lt.ERROR,...e),this._logHandler(this,lt.ERROR,...e)}}const s7=(t,e)=>e.some(n=>t instanceof n);let OO,kO;function a7(){return OO||(OO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function l7(){return kO||(kO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const SF=new WeakMap,Kx=new WeakMap,TF=new WeakMap,Rb=new WeakMap,RT=new WeakMap;function c7(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(na(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&SF.set(n,t)}).catch(()=>{}),RT.set(e,t),e}function u7(t){if(Kx.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Kx.set(t,e)}let Qx={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Kx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||TF.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return na(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function d7(t){Qx=t(Qx)}function f7(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(jb(this),e,...n);return TF.set(r,e.sort?e.sort():[e]),na(r)}:l7().includes(t)?function(...e){return t.apply(jb(this),e),na(SF.get(this))}:function(...e){return na(t.apply(jb(this),e))}}function h7(t){return typeof t=="function"?f7(t):(t instanceof IDBTransaction&&u7(t),s7(t,a7())?new Proxy(t,Qx):t)}function na(t){if(t instanceof IDBRequest)return c7(t);if(Rb.has(t))return Rb.get(t);const e=h7(t);return e!==t&&(Rb.set(t,e),RT.set(e,t)),e}const jb=t=>RT.get(t);function p7(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=na(s);return r&&s.addEventListener("upgradeneeded",l=>{r(na(s.result),l.oldVersion,l.newVersion,na(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const m7=["get","getKey","getAll","getAllKeys","count"],g7=["put","add","delete","clear"],Mb=new Map;function NO(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Mb.get(e))return Mb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=g7.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||m7.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Mb.set(e,o),o}d7(t=>({...t,get:(e,n,r)=>NO(e,n)||t.get(e,n,r),has:(e,n)=>!!NO(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(v7(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function v7(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Yx="@firebase/app",RO="0.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al=new m_("@firebase/app"),_7="@firebase/app-compat",b7="@firebase/analytics-compat",w7="@firebase/analytics",x7="@firebase/app-check-compat",E7="@firebase/app-check",S7="@firebase/auth",T7="@firebase/auth-compat",C7="@firebase/database",A7="@firebase/database-compat",I7="@firebase/functions",P7="@firebase/functions-compat",O7="@firebase/installations",k7="@firebase/installations-compat",N7="@firebase/messaging",R7="@firebase/messaging-compat",j7="@firebase/performance",M7="@firebase/performance-compat",D7="@firebase/remote-config",$7="@firebase/remote-config-compat",L7="@firebase/storage",F7="@firebase/storage-compat",V7="@firebase/firestore",U7="@firebase/firestore-compat",B7="firebase",z7="10.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx="[DEFAULT]",W7={[Yx]:"fire-core",[_7]:"fire-core-compat",[w7]:"fire-analytics",[b7]:"fire-analytics-compat",[E7]:"fire-app-check",[x7]:"fire-app-check-compat",[S7]:"fire-auth",[T7]:"fire-auth-compat",[C7]:"fire-rtdb",[A7]:"fire-rtdb-compat",[I7]:"fire-fn",[P7]:"fire-fn-compat",[O7]:"fire-iid",[k7]:"fire-iid-compat",[N7]:"fire-fcm",[R7]:"fire-fcm-compat",[j7]:"fire-perf",[M7]:"fire-perf-compat",[D7]:"fire-rc",[$7]:"fire-rc-compat",[L7]:"fire-gcs",[F7]:"fire-gcs-compat",[V7]:"fire-fst",[U7]:"fire-fst-compat","fire-js":"fire-js",[B7]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y=new Map,H7=new Map,Jx=new Map;function jO(t,e){try{t.container.addComponent(e)}catch(n){Al.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ha(t){const e=t.name;if(Jx.has(e))return Al.debug(`There were multiple attempts to register component ${e}.`),!1;Jx.set(e,t);for(const n of _y.values())jO(n,t);for(const n of H7.values())jO(n,t);return!0}function g_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Yi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q7={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ra=new jp("app","Firebase",q7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G7{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ra.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa=z7;function CF(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Xx,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ra.create("bad-app-name",{appName:String(i)});if(n||(n=yF()),!n)throw ra.create("no-options");const o=_y.get(i);if(o){if(vy(n,o.options)&&vy(r,o.config))return o;throw ra.create("duplicate-app",{appName:i})}const s=new t7(i);for(const l of Jx.values())s.addComponent(l);const a=new G7(n,r,s);return _y.set(i,a),a}function jT(t=Xx){const e=_y.get(t);if(!e&&t===Xx&&yF())return CF();if(!e)throw ra.create("no-app",{appName:t});return e}function Ci(t,e,n){var r;let i=(r=W7[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Al.warn(a.join(" "));return}ha(new gs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K7="firebase-heartbeat-database",Q7=1,bh="firebase-heartbeat-store";let Db=null;function AF(){return Db||(Db=p7(K7,Q7,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(bh)}catch(n){console.warn(n)}}}}).catch(t=>{throw ra.create("idb-open",{originalErrorMessage:t.message})})),Db}async function Y7(t){try{const n=(await AF()).transaction(bh),r=await n.objectStore(bh).get(IF(t));return await n.done,r}catch(e){if(e instanceof Vo)Al.warn(e.message);else{const n=ra.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Al.warn(n.message)}}}async function MO(t,e){try{const r=(await AF()).transaction(bh,"readwrite");await r.objectStore(bh).put(e,IF(t)),await r.done}catch(n){if(n instanceof Vo)Al.warn(n.message);else{const r=ra.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Al.warn(r.message)}}}function IF(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X7=1024,J7=30*24*60*60*1e3;class Z7{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new tK(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=DO();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=J7}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=DO(),{heartbeatsToSend:r,unsentEntries:i}=eK(this._heartbeatsCache.heartbeats),o=my(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function DO(){return new Date().toISOString().substring(0,10)}function eK(t,e=X7){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),$O(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),$O(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class tK{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xF()?VG().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Y7(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return MO(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return MO(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function $O(t){return my(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nK(t){ha(new gs("platform-logger",e=>new y7(e),"PRIVATE")),ha(new gs("heartbeat",e=>new Z7(e),"PRIVATE")),Ci(Yx,RO,t),Ci(Yx,RO,"esm2017"),Ci("fire-js","")}nK("");var br=function(){return br=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},br.apply(this,arguments)};function MT(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function by(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function PF(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rK=PF,OF=new jp("auth","Firebase",PF());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy=new m_("@firebase/auth");function iK(t,...e){wy.logLevel<=lt.WARN&&wy.warn(`Auth (${Sa}): ${t}`,...e)}function Ag(t,...e){wy.logLevel<=lt.ERROR&&wy.error(`Auth (${Sa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(t,...e){throw $T(t,...e)}function to(t,...e){return $T(t,...e)}function DT(t,e,n){const r=Object.assign(Object.assign({},rK()),{[e]:n});return new jp("auth","Firebase",r).create(e,{appName:t.name})}function as(t){return DT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function oK(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ki(t,"argument-error"),DT(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $T(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return OF.create(t,...e)}function Fe(t,e,...n){if(!t)throw $T(e,...n)}function Xo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ag(e),new Error(e)}function ys(t,e){t||Xo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function sK(){return LO()==="http:"||LO()==="https:"}function LO(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aK(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sK()||$G()||"connection"in navigator)?navigator.onLine:!0}function lK(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,n){this.shortDelay=e,this.longDelay=n,ys(n>e,"Short delay should be less than long delay!"),this.isMobile=NT()||bF()}get(){return aK()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(t,e){ys(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cK={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uK=new Mp(3e4,6e4);function Ta(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ca(t,e,n,r,i={}){return NF(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Ku(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),kF.fetch()(RF(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))})}async function NF(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},cK),e);try{const i=new fK(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Mm(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mm(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Mm(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Mm(t,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw DT(t,u,c);ki(t,u)}}catch(i){if(i instanceof Vo)throw i;ki(t,"network-request-failed",{message:String(i)})}}async function Dp(t,e,n,r,i={}){const o=await Ca(t,e,n,r,i);return"mfaPendingCredential"in o&&ki(t,"multi-factor-auth-required",{_serverResponse:o}),o}function RF(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?LT(t.config,i):`${t.config.apiScheme}://${i}`}function dK(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class fK{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(to(this.auth,"network-request-failed")),uK.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=to(t,e,r);return i.customData._tokenResponse=n,i}function FO(t){return t!==void 0&&t.enterprise!==void 0}class hK{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return dK(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function pK(t,e){return Ca(t,"GET","/v2/recaptchaConfig",Ta(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mK(t,e){return Ca(t,"POST","/v1/accounts:delete",e)}async function jF(t,e){return Ca(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Of(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gK(t,e=!1){const n=on(t),r=await n.getIdToken(e),i=FT(r);Fe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Of($b(i.auth_time)),issuedAtTime:Of($b(i.iat)),expirationTime:Of($b(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function $b(t){return Number(t)*1e3}function FT(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ag("JWT malformed, contained fewer than 3 sections"),null;try{const i=gy(n);return i?JSON.parse(i):(Ag("Failed to decode base64 JWT payload"),null)}catch(i){return Ag("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function VO(t){const e=FT(t);return Fe(e,"internal-error"),Fe(typeof e.exp<"u","internal-error"),Fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Vo&&yK(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function yK({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vK{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Of(this.lastLoginAt),this.creationTime=Of(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xy(t){var e;const n=t.auth,r=await t.getIdToken(),i=await wh(t,jF(n,{idToken:r}));Fe(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?MF(o.providerUserInfo):[],a=bK(t.providerData,s),l=t.isAnonymous,c=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new e1(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function _K(t){const e=on(t);await xy(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function bK(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function MF(t){return t.map(e=>{var{providerId:n}=e,r=MT(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wK(t,e){const n=await NF(t,{},async()=>{const r=Ku({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=RF(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",kF.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function xK(t,e){return Ca(t,"POST","/v2/accounts:revokeToken",Ta(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Fe(e.idToken,"internal-error"),Fe(typeof e.idToken<"u","internal-error"),Fe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):VO(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Fe(e.length!==0,"internal-error");const n=VO(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await wK(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Hc;return r&&(Fe(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Fe(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Fe(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Hc,this.toJSON())}_performRefresh(){return Xo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(t,e){Fe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Jo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=MT(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vK(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new e1(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await wh(this,this.stsTokenManager.getToken(this.auth,e));return Fe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return gK(this,e)}reload(){return _K(this)}_assign(e){this!==e&&(Fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Jo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await xy(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yi(this.auth.app))return Promise.reject(as(this.auth));const e=await this.getIdToken();return await wh(this,mK(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,m=(s=n.photoURL)!==null&&s!==void 0?s:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(c=n.createdAt)!==null&&c!==void 0?c:void 0,g=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:_,emailVerified:w,isAnonymous:E,providerData:x,stsTokenManager:T}=n;Fe(_&&T,e,"internal-error");const C=Hc.fromJSON(this.name,T);Fe(typeof _=="string",e,"internal-error"),Ns(d,e.name),Ns(h,e.name),Fe(typeof w=="boolean",e,"internal-error"),Fe(typeof E=="boolean",e,"internal-error"),Ns(p,e.name),Ns(m,e.name),Ns(v,e.name),Ns(y,e.name),Ns(b,e.name),Ns(g,e.name);const O=new Jo({uid:_,auth:e,email:h,emailVerified:w,displayName:d,isAnonymous:E,photoURL:m,phoneNumber:p,tenantId:v,stsTokenManager:C,createdAt:b,lastLoginAt:g});return x&&Array.isArray(x)&&(O.providerData=x.map(I=>Object.assign({},I))),y&&(O._redirectEventId=y),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new Hc;i.updateFromServerResponse(n);const o=new Jo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await xy(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Fe(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?MF(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new Hc;a.updateFromIdToken(r);const l=new Jo({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new e1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO=new Map;function Zo(t){ys(t instanceof Function,"Expected a class definition");let e=UO.get(t);return e?(ys(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,UO.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}DF.type="NONE";const BO=DF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(t,e,n){return`firebase:${t}:${e}:${n}`}class qc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Ig(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ig("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Jo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new qc(Zo(BO),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let o=i[0]||Zo(BO);const s=Ig(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(s);if(u){const d=Jo._fromJSON(e,u);c!==o&&(a=d),o=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new qc(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==o)try{await c._remove(s)}catch{}})),new qc(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(FF(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($F(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(UF(e))return"Blackberry";if(BF(e))return"Webos";if(VT(e))return"Safari";if((e.includes("chrome/")||LF(e))&&!e.includes("edge/"))return"Chrome";if(VF(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function $F(t=En()){return/firefox\//i.test(t)}function VT(t=En()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function LF(t=En()){return/crios\//i.test(t)}function FF(t=En()){return/iemobile/i.test(t)}function VF(t=En()){return/android/i.test(t)}function UF(t=En()){return/blackberry/i.test(t)}function BF(t=En()){return/webos/i.test(t)}function y_(t=En()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function EK(t=En()){var e;return y_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function SK(){return LG()&&document.documentMode===10}function zF(t=En()){return y_(t)||VF(t)||BF(t)||UF(t)||/windows phone/i.test(t)||FF(t)}function TK(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WF(t,e=[]){let n;switch(t){case"Browser":n=zO(En());break;case"Worker":n=`${zO(En())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Sa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CK{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AK(t,e={}){return Ca(t,"GET","/v2/passwordPolicy",Ta(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IK=6;class PK{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:IK,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OK{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new WO(this),this.idTokenSubscription=new WO(this),this.beforeStateQueue=new CK(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OF,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Zo(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await qc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await jF(this,{idToken:e}),r=await Jo._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Yi(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await xy(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=lK()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yi(this.app))return Promise.reject(as(this));const n=e?on(e):null;return n&&Fe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Yi(this.app)?Promise.reject(as(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yi(this.app)?Promise.reject(as(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await AK(this),n=new PK(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new jp("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await xK(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Zo(e)||this._popupRedirectResolver;Fe(n,this,"argument-error"),this.redirectPersistenceManager=await qc.create(this,[Zo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Fe(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=WF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&iK(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Aa(t){return on(t)}class WO{constructor(e){this.auth=e,this.observer=null,this.addObserver=GG(n=>this.observer=n)}get next(){return Fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let v_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kK(t){v_=t}function HF(t){return v_.loadJS(t)}function NK(){return v_.recaptchaEnterpriseScript}function RK(){return v_.gapiScript}function jK(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const MK="recaptcha-enterprise",DK="NO_RECAPTCHA";class $K{constructor(e){this.type=MK,this.auth=Aa(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{pK(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new hK(l);return o.tenantId==null?o._agentRecaptchaConfig=c:o._tenantRecaptchaConfigs[o.tenantId]=c,s(c.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;FO(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(c=>{s(c)}).catch(()=>{s(DK)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&FO(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=NK();l.length!==0&&(l+=a),HF(l).then(()=>{i(a,o,s)}).catch(c=>{s(c)})}}).catch(a=>{s(a)})})}}async function HO(t,e,n,r=!1){const i=new $K(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function t1(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await HO(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await HO(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LK(t,e){const n=g_(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(vy(o,e??{}))return i;ki(i,"already-initialized")}return n.initialize({options:e})}function FK(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Zo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function VK(t,e,n){const r=Aa(t);Fe(r._canInitEmulator,r,"emulator-config-failed"),Fe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=qF(e),{host:s,port:a}=UK(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||BK()}function qF(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function UK(t){const e=qF(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:qO(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:qO(s)}}}function qO(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function BK(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Xo("not implemented")}_getIdTokenResponse(e){return Xo("not implemented")}_linkToIdToken(e,n){return Xo("not implemented")}_getReauthenticationResolver(e){return Xo("not implemented")}}async function zK(t,e){return Ca(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WK(t,e){return Dp(t,"POST","/v1/accounts:signInWithPassword",Ta(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HK(t,e){return Dp(t,"POST","/v1/accounts:signInWithEmailLink",Ta(t,e))}async function qK(t,e){return Dp(t,"POST","/v1/accounts:signInWithEmailLink",Ta(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh extends UT{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new xh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new xh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return t1(e,n,"signInWithPassword",WK);case"emailLink":return HK(e,{email:this._email,oobCode:this._password});default:ki(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return t1(e,r,"signUpPassword",zK);case"emailLink":return qK(e,{idToken:n,email:this._email,oobCode:this._password});default:ki(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gc(t,e){return Dp(t,"POST","/v1/accounts:signInWithIdp",Ta(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GK="http://localhost";class Il extends UT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Il(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ki("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=MT(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Il(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Gc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Gc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Gc(e,n)}buildRequest(){const e={requestUri:GK,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ku(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KK(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function QK(t){const e=lf(cf(t)).link,n=e?lf(cf(e)).deep_link_id:null,r=lf(cf(t)).deep_link_id;return(r?lf(cf(r)).link:null)||r||n||e||t}class BT{constructor(e){var n,r,i,o,s,a;const l=lf(cf(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=KK((i=l.mode)!==null&&i!==void 0?i:null);Fe(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=QK(e);try{return new BT(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(){this.providerId=Qu.PROVIDER_ID}static credential(e,n){return xh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=BT.parseLink(n);return Fe(r,"argument-error"),xh._fromEmailAndCode(e,r.code,r.tenantId)}}Qu.PROVIDER_ID="password";Qu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Qu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p extends zT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends $p{constructor(){super("facebook.com")}static credential(e){return Il._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vr.credential(e.oauthAccessToken)}catch{return null}}}Vr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends $p{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Il._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ur.credential(n,r)}catch{return null}}}Ur.GOOGLE_SIGN_IN_METHOD="google.com";Ur.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends $p{constructor(){super("github.com")}static credential(e){return Il._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vs.credential(e.oauthAccessToken)}catch{return null}}}Vs.GITHUB_SIGN_IN_METHOD="github.com";Vs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us extends $p{constructor(){super("twitter.com")}static credential(e,n){return Il._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Us.credentialFromTaggedObject(e)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Us.credential(n,r)}catch{return null}}}Us.TWITTER_SIGN_IN_METHOD="twitter.com";Us.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YK(t,e){return Dp(t,"POST","/v1/accounts:signUp",Ta(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Jo._fromIdTokenResponse(e,r,i),s=GO(r);return new Pl({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=GO(r);return new Pl({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function GO(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey extends Vo{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ey.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ey(e,n,r,i)}}function GF(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Ey._fromErrorAndOperation(t,o,e,r):o})}async function XK(t,e,n=!1){const r=await wh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Pl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JK(t,e,n=!1){const{auth:r}=t;if(Yi(r.app))return Promise.reject(as(r));const i="reauthenticate";try{const o=await wh(t,GF(r,i,e,t),n);Fe(o.idToken,r,"internal-error");const s=FT(o.idToken);Fe(s,r,"internal-error");const{sub:a}=s;return Fe(t.uid===a,r,"user-mismatch"),Pl._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ki(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KF(t,e,n=!1){if(Yi(t.app))return Promise.reject(as(t));const r="signIn",i=await GF(t,r,e),o=await Pl._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function ZK(t,e){return KF(Aa(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QF(t){const e=Aa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function eQ(t,e,n){if(Yi(t.app))return Promise.reject(as(t));const r=Aa(t),s=await t1(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",YK).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&QF(t),l}),a=await Pl._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function tQ(t,e,n){return Yi(t.app)?Promise.reject(as(t)):ZK(on(t),Qu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&QF(t),r})}function nQ(t,e,n,r){return on(t).onIdTokenChanged(e,n,r)}function rQ(t,e,n){return on(t).beforeAuthStateChanged(e,n)}function Di(t,e,n,r){return on(t).onAuthStateChanged(e,n,r)}function iQ(t){return on(t).signOut()}const Sy="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sy,"1"),this.storage.removeItem(Sy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oQ(){const t=En();return VT(t)||y_(t)}const sQ=1e3,aQ=10;class XF extends YF{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=oQ()&&TK(),this.fallbackToPolling=zF(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);SK()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,aQ):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},sQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}XF.type="LOCAL";const lQ=XF;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF extends YF{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}JF.type="SESSION";const ZF=JF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cQ(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new __(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async c=>c(n.origin,o)),l=await cQ(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}__.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uQ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const c=WT("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(u),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(){return window}function dQ(t){Io().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4(){return typeof Io().WorkerGlobalScope<"u"&&typeof Io().importScripts=="function"}async function fQ(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hQ(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function pQ(){return e4()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4="firebaseLocalStorageDb",mQ=1,Ty="firebaseLocalStorage",n4="fbase_key";class Lp{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function b_(t,e){return t.transaction([Ty],e?"readwrite":"readonly").objectStore(Ty)}function gQ(){const t=indexedDB.deleteDatabase(t4);return new Lp(t).toPromise()}function n1(){const t=indexedDB.open(t4,mQ);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ty,{keyPath:n4})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ty)?e(r):(r.close(),await gQ(),e(await n1()))})})}async function KO(t,e,n){const r=b_(t,!0).put({[n4]:e,value:n});return new Lp(r).toPromise()}async function yQ(t,e){const n=b_(t,!1).get(e),r=await new Lp(n).toPromise();return r===void 0?null:r.value}function QO(t,e){const n=b_(t,!0).delete(e);return new Lp(n).toPromise()}const vQ=800,_Q=3;class r4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await n1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>_Q)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return e4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=__._getInstance(pQ()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await fQ(),!this.activeServiceWorker)return;this.sender=new uQ(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hQ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await n1();return await KO(e,Sy,"1"),await QO(e,Sy),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>KO(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>yQ(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>QO(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=b_(i,!1).getAll();return new Lp(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}r4.type="LOCAL";const bQ=r4;new Mp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(t,e){return e?Zo(e):(Fe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT extends UT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Gc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Gc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Gc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function wQ(t){return KF(t.auth,new HT(t),t.bypassAuthState)}function xQ(t){const{auth:e,user:n}=t;return Fe(n,e,"internal-error"),JK(n,new HT(t),t.bypassAuthState)}async function EQ(t){const{auth:e,user:n}=t;return Fe(n,e,"internal-error"),XK(n,new HT(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wQ;case"linkViaPopup":case"linkViaRedirect":return EQ;case"reauthViaPopup":case"reauthViaRedirect":return xQ;default:ki(this.auth,"internal-error")}}resolve(e){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SQ=new Mp(2e3,1e4);async function Cy(t,e,n){if(Yi(t.app))return Promise.reject(to(t,"operation-not-supported-in-this-environment"));const r=Aa(t);oK(t,e,zT);const i=i4(r,n);return new Za(r,"signInViaPopup",e,i).executeNotNull()}class Za extends o4{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Za.currentPopupAction&&Za.currentPopupAction.cancel(),Za.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Fe(e,this.auth,"internal-error"),e}async onExecution(){ys(this.filter.length===1,"Popup operations only handle one event");const e=WT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(to(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(to(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Za.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(to(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,SQ.get())};e()}}Za.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TQ="pendingRedirect",Pg=new Map;class CQ extends o4{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Pg.get(this.auth._key());if(!e){try{const r=await AQ(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Pg.set(this.auth._key(),e)}return this.bypassAuthState||Pg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AQ(t,e){const n=OQ(e),r=PQ(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function IQ(t,e){Pg.set(t._key(),e)}function PQ(t){return Zo(t._redirectPersistence)}function OQ(t){return Ig(TQ,t.config.apiKey,t.name)}async function kQ(t,e,n=!1){if(Yi(t.app))return Promise.reject(as(t));const r=Aa(t),i=i4(r,e),s=await new CQ(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NQ=10*60*1e3;class RQ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jQ(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!s4(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(to(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=NQ&&this.cachedEventUids.clear(),this.cachedEventUids.has(YO(e))}saveEventToCache(e){this.cachedEventUids.add(YO(e)),this.lastProcessedEventTime=Date.now()}}function YO(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function s4({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function jQ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return s4(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MQ(t,e={}){return Ca(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DQ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$Q=/^https?/;async function LQ(t){if(t.config.emulator)return;const{authorizedDomains:e}=await MQ(t);for(const n of e)try{if(FQ(n))return}catch{}ki(t,"unauthorized-domain")}function FQ(t){const e=Zx(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!$Q.test(n))return!1;if(DQ.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VQ=new Mp(3e4,6e4);function XO(){const t=Io().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function UQ(t){return new Promise((e,n)=>{var r,i,o;function s(){XO(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{XO(),n(to(t,"network-request-failed"))},timeout:VQ.get()})}if(!((i=(r=Io().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Io().gapi)===null||o===void 0)&&o.load)s();else{const a=jK("iframefcb");return Io()[a]=()=>{gapi.load?s():n(to(t,"network-request-failed"))},HF(`${RK()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Og=null,e})}let Og=null;function BQ(t){return Og=Og||UQ(t),Og}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zQ=new Mp(5e3,15e3),WQ="__/auth/iframe",HQ="emulator/auth/iframe",qQ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GQ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function KQ(t){const e=t.config;Fe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?LT(e,HQ):`https://${t.config.authDomain}/${WQ}`,r={apiKey:e.apiKey,appName:t.name,v:Sa},i=GQ.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Ku(r).slice(1)}`}async function QQ(t){const e=await BQ(t),n=Io().gapi;return Fe(n,t,"internal-error"),e.open({where:document.body,url:KQ(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qQ,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=to(t,"network-request-failed"),a=Io().setTimeout(()=>{o(s)},zQ.get());function l(){Io().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YQ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},XQ=500,JQ=600,ZQ="_blank",eY="http://localhost";class JO{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tY(t,e,n,r=XQ,i=JQ){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},YQ),{width:r.toString(),height:i.toString(),top:o,left:s}),c=En().toLowerCase();n&&(a=LF(c)?ZQ:n),$F(c)&&(e=e||eY,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,m])=>`${h}${p}=${m},`,"");if(EK(c)&&a!=="_self")return nY(e||"",a),new JO(null);const d=window.open(e||"",a,u);Fe(d,t,"popup-blocked");try{d.focus()}catch{}return new JO(d)}function nY(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rY="__/auth/handler",iY="emulator/auth/handler",oY=encodeURIComponent("fac");async function ZO(t,e,n,r,i,o){Fe(t.config.authDomain,t,"auth-domain-config-required"),Fe(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Sa,eventId:i};if(e instanceof zT){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",Gx(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(o||{}))s[u]=d}if(e instanceof $p){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${oY}=${encodeURIComponent(l)}`:"";return`${sY(t)}?${Ku(a).slice(1)}${c}`}function sY({config:t}){return t.emulator?LT(t,iY):`https://${t.authDomain}/${rY}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb="webStorageSupport";class aY{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZF,this._completeRedirectFn=kQ,this._overrideRedirectResult=IQ}async _openPopup(e,n,r,i){var o;ys((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await ZO(e,n,r,Zx(),i);return tY(e,s,WT())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await ZO(e,n,r,Zx(),i);return dQ(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(ys(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await QQ(e),r=new RQ(e);return n.register("authEvent",i=>(Fe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Lb,{type:Lb},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Lb];s!==void 0&&n(!!s),ki(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=LQ(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zF()||VT()||y_()}}const lY=aY;var ek="@firebase/auth",tk="1.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cY{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uY(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dY(t){ha(new gs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Fe(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WF(t)},c=new OK(r,i,o,l);return FK(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ha(new gs("auth-internal",e=>{const n=Aa(e.getProvider("auth").getImmediate());return(r=>new cY(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ci(ek,tk,uY(t)),Ci(ek,tk,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fY=5*60,hY=vF("authIdTokenMaxAge")||fY;let nk=null;const pY=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>hY)return;const i=n==null?void 0:n.token;nk!==i&&(nk=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Ni(t=jT()){const e=g_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=LK(t,{popupRedirectResolver:lY,persistence:[bQ,lQ,ZF]}),r=vF("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=pY(o.toString());rQ(n,s,()=>s(n.currentUser)),nQ(n,a=>s(a))}}const i=mF("auth");return i&&VK(n,`http://${i}`),n}function mY(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}kK({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=to("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",mY().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dY("Browser");var gY=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ve,qT=qT||{},Ge=gY||self;function w_(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Fp(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function yY(t){return Object.prototype.hasOwnProperty.call(t,Fb)&&t[Fb]||(t[Fb]=++vY)}var Fb="closure_uid_"+(1e9*Math.random()>>>0),vY=0;function _Y(t,e,n){return t.call.apply(t.bind,arguments)}function bY(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function xr(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?xr=_Y:xr=bY,xr.apply(null,arguments)}function Dm(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Gn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Ia(){this.s=this.s,this.o=this.o}var wY=0;Ia.prototype.s=!1;Ia.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),wY!=0)&&yY(this)};Ia.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const a4=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function GT(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function rk(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(w_(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function Er(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Er.prototype.h=function(){this.defaultPrevented=!0};var xY=function(){if(!Ge.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};Ge.addEventListener("test",n,e),Ge.removeEventListener("test",n,e)}catch{}return t}();function Eh(t){return/^[\s\xa0]*$/.test(t)}function x_(){var t=Ge.navigator;return t&&(t=t.userAgent)?t:""}function bo(t){return x_().indexOf(t)!=-1}function KT(t){return KT[" "](t),t}KT[" "]=function(){};function EY(t,e){var n=mX;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var SY=bo("Opera"),du=bo("Trident")||bo("MSIE"),l4=bo("Edge"),r1=l4||du,c4=bo("Gecko")&&!(x_().toLowerCase().indexOf("webkit")!=-1&&!bo("Edge"))&&!(bo("Trident")||bo("MSIE"))&&!bo("Edge"),TY=x_().toLowerCase().indexOf("webkit")!=-1&&!bo("Edge");function u4(){var t=Ge.document;return t?t.documentMode:void 0}var i1;e:{var Vb="",Ub=function(){var t=x_();if(c4)return/rv:([^\);]+)(\)|;)/.exec(t);if(l4)return/Edge\/([\d\.]+)/.exec(t);if(du)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(TY)return/WebKit\/(\S+)/.exec(t);if(SY)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Ub&&(Vb=Ub?Ub[1]:""),du){var Bb=u4();if(Bb!=null&&Bb>parseFloat(Vb)){i1=String(Bb);break e}}i1=Vb}var o1;if(Ge.document&&du){var ik=u4();o1=ik||parseInt(i1,10)||void 0}else o1=void 0;var CY=o1;function Sh(t,e){if(Er.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(c4){e:{try{KT(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:AY[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Sh.$.h.call(this)}}Gn(Sh,Er);var AY={2:"touch",3:"pen",4:"mouse"};Sh.prototype.h=function(){Sh.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Vp="closure_listenable_"+(1e6*Math.random()|0),IY=0;function PY(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++IY,this.fa=this.ia=!1}function E_(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function QT(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function OY(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function d4(t){const e={};for(const n in t)e[n]=t[n];return e}const ok="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function f4(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<ok.length;o++)n=ok[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function S_(t){this.src=t,this.g={},this.h=0}S_.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=a1(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new PY(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function s1(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=a4(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(E_(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function a1(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var YT="closure_lm_"+(1e6*Math.random()|0),zb={};function h4(t,e,n,r,i){if(r&&r.once)return m4(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)h4(t,e[o],n,r,i);return null}return n=ZT(n),t&&t[Vp]?t.O(e,n,Fp(r)?!!r.capture:!!r,i):p4(t,e,n,!1,r,i)}function p4(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Fp(i)?!!i.capture:!!i,a=JT(t);if(a||(t[YT]=a=new S_(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=kY(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)xY||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(y4(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function kY(){function t(n){return e.call(t.src,t.listener,n)}const e=NY;return t}function m4(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)m4(t,e[o],n,r,i);return null}return n=ZT(n),t&&t[Vp]?t.P(e,n,Fp(r)?!!r.capture:!!r,i):p4(t,e,n,!0,r,i)}function g4(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)g4(t,e[o],n,r,i);else r=Fp(r)?!!r.capture:!!r,n=ZT(n),t&&t[Vp]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=a1(o,n,r,i),-1<n&&(E_(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=JT(t))&&(e=t.g[e.toString()],t=-1,e&&(t=a1(e,n,r,i)),(n=-1<t?e[t]:null)&&XT(n))}function XT(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Vp])s1(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(y4(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=JT(e))?(s1(n,t),n.h==0&&(n.src=null,e[YT]=null)):E_(t)}}}function y4(t){return t in zb?zb[t]:zb[t]="on"+t}function NY(t,e){if(t.fa)t=!0;else{e=new Sh(e,this);var n=t.listener,r=t.la||t.src;t.ia&&XT(t),t=n.call(r,e)}return t}function JT(t){return t=t[YT],t instanceof S_?t:null}var Wb="__closure_events_fn_"+(1e9*Math.random()>>>0);function ZT(t){return typeof t=="function"?t:(t[Wb]||(t[Wb]=function(e){return t.handleEvent(e)}),t[Wb])}function qn(){Ia.call(this),this.i=new S_(this),this.S=this,this.J=null}Gn(qn,Ia);qn.prototype[Vp]=!0;qn.prototype.removeEventListener=function(t,e,n,r){g4(this,t,e,n,r)};function ir(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Er(e,t);else if(e instanceof Er)e.target=e.target||t;else{var i=e;e=new Er(r,t),f4(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=$m(s,r,!0,e)&&i}if(s=e.g=t,i=$m(s,r,!0,e)&&i,i=$m(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=$m(s,r,!1,e)&&i}qn.prototype.N=function(){if(qn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)E_(n[r]);delete t.g[e],t.h--}}this.J=null};qn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};qn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function $m(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&s1(t.i,s),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var eC=Ge.JSON.stringify;class RY{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function jY(){var t=tC;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class MY{constructor(){this.h=this.g=null}add(e,n){const r=v4.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var v4=new RY(()=>new DY,t=>t.reset());class DY{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function $Y(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function LY(t){Ge.setTimeout(()=>{throw t},0)}let Th,Ch=!1,tC=new MY,_4=()=>{const t=Ge.Promise.resolve(void 0);Th=()=>{t.then(FY)}};var FY=()=>{for(var t;t=jY();){try{t.h.call(t.g)}catch(n){LY(n)}var e=v4;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ch=!1};function T_(t,e){qn.call(this),this.h=t||1,this.g=e||Ge,this.j=xr(this.qb,this),this.l=Date.now()}Gn(T_,qn);ve=T_.prototype;ve.ga=!1;ve.T=null;ve.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ir(this,"tick"),this.ga&&(nC(this),this.start()))}};ve.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function nC(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}ve.N=function(){T_.$.N.call(this),nC(this),delete this.g};function rC(t,e,n){if(typeof t=="function")n&&(t=xr(t,n));else if(t&&typeof t.handleEvent=="function")t=xr(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Ge.setTimeout(t,e||0)}function b4(t){t.g=rC(()=>{t.g=null,t.i&&(t.i=!1,b4(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class VY extends Ia{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:b4(this)}N(){super.N(),this.g&&(Ge.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ah(t){Ia.call(this),this.h=t,this.g={}}Gn(Ah,Ia);var sk=[];function w4(t,e,n,r){Array.isArray(n)||(n&&(sk[0]=n.toString()),n=sk);for(var i=0;i<n.length;i++){var o=h4(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function x4(t){QT(t.g,function(e,n){this.g.hasOwnProperty(n)&&XT(e)},t),t.g={}}Ah.prototype.N=function(){Ah.$.N.call(this),x4(this)};Ah.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function C_(){this.g=!0}C_.prototype.Ea=function(){this.g=!1};function UY(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");s=2<=d.length&&d[1]=="type"?s+(u+"="+c+"&"):s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function BY(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function Rc(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+WY(t,n)+(r?" "+r:"")})}function zY(t,e){t.info(function(){return"TIMEOUT: "+e})}C_.prototype.info=function(){};function WY(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return eC(n)}catch{return e}}var Kl={},ak=null;function A_(){return ak=ak||new qn}Kl.Ta="serverreachability";function E4(t){Er.call(this,Kl.Ta,t)}Gn(E4,Er);function Ih(t){const e=A_();ir(e,new E4(e))}Kl.STAT_EVENT="statevent";function S4(t,e){Er.call(this,Kl.STAT_EVENT,t),this.stat=e}Gn(S4,Er);function Or(t){const e=A_();ir(e,new S4(e,t))}Kl.Ua="timingevent";function T4(t,e){Er.call(this,Kl.Ua,t),this.size=e}Gn(T4,Er);function Up(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Ge.setTimeout(function(){t()},e)}var I_={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},C4={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function iC(){}iC.prototype.h=null;function lk(t){return t.h||(t.h=t.i())}function A4(){}var Bp={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function oC(){Er.call(this,"d")}Gn(oC,Er);function sC(){Er.call(this,"c")}Gn(sC,Er);var l1;function P_(){}Gn(P_,iC);P_.prototype.g=function(){return new XMLHttpRequest};P_.prototype.i=function(){return{}};l1=new P_;function zp(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Ah(this),this.P=HY,t=r1?125:void 0,this.V=new T_(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new I4}function I4(){this.i=null,this.g="",this.h=!1}var HY=45e3,P4={},c1={};ve=zp.prototype;ve.setTimeout=function(t){this.P=t};function u1(t,e,n){t.L=1,t.A=k_(vs(e)),t.u=n,t.S=!0,O4(t,null)}function O4(t,e){t.G=Date.now(),Wp(t),t.B=vs(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),L4(n.i,"t",r),t.o=0,n=t.l.J,t.h=new I4,t.g=oV(t.l,n?e:null,!t.u),0<t.O&&(t.M=new VY(xr(t.Pa,t,t.g),t.O)),w4(t.U,t.g,"readystatechange",t.nb),e=t.I?d4(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Ih(),UY(t.j,t.v,t.B,t.m,t.W,t.u)}ve.nb=function(t){t=t.target;const e=this.M;e&&wo(t)==3?e.l():this.Pa(t)};ve.Pa=function(t){try{if(t==this.g)e:{const u=wo(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>u)&&(u!=3||r1||this.g&&(this.h.h||this.g.ja()||fk(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?Ih(3):Ih(2)),O_(this);var n=this.g.da();this.ca=n;t:if(k4(this)){var r=fk(this.g);t="";var i=r.length,o=wo(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){el(this),kf(this);var s="";break t}this.h.i=new Ge.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,BY(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Eh(a)){var c=a;break t}}c=null}if(n=c)Rc(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,d1(this,n);else{this.i=!1,this.s=3,Or(12),el(this),kf(this);break e}}this.S?(N4(this,u,s),r1&&this.i&&u==3&&(w4(this.U,this.V,"tick",this.mb),this.V.start())):(Rc(this.j,this.m,s,null),d1(this,s)),u==4&&el(this),this.i&&!this.J&&(u==4?tV(this.l,this):(this.i=!1,Wp(this)))}else fX(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,Or(12)):(this.s=0,Or(13)),el(this),kf(this)}}}catch{}finally{}};function k4(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function N4(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=qY(t,n),i==c1){e==4&&(t.s=4,Or(14),r=!1),Rc(t.j,t.m,null,"[Incomplete Response]");break}else if(i==P4){t.s=4,Or(15),Rc(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Rc(t.j,t.m,i,null),d1(t,i);k4(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Or(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),fC(e),e.M=!0,Or(11))):(Rc(t.j,t.m,n,"[Invalid Chunked Response]"),el(t),kf(t))}ve.mb=function(){if(this.g){var t=wo(this.g),e=this.g.ja();this.o<e.length&&(O_(this),N4(this,t,e),this.i&&t!=4&&Wp(this))}};function qY(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?c1:(n=Number(e.substring(n,r)),isNaN(n)?P4:(r+=1,r+n>e.length?c1:(e=e.slice(r,r+n),t.o=r+n,e)))}ve.cancel=function(){this.J=!0,el(this)};function Wp(t){t.Y=Date.now()+t.P,R4(t,t.P)}function R4(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Up(xr(t.lb,t),e)}function O_(t){t.C&&(Ge.clearTimeout(t.C),t.C=null)}ve.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(zY(this.j,this.B),this.L!=2&&(Ih(),Or(17)),el(this),this.s=2,kf(this)):R4(this,this.Y-t)};function kf(t){t.l.H==0||t.J||tV(t.l,t)}function el(t){O_(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,nC(t.V),x4(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function d1(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||f1(n.i,t))){if(!t.K&&f1(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Py(n),M_(n);else break e;dC(n),Or(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Up(xr(n.ib,n),6e3));if(1>=U4(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else tl(n,11)}else if((t.K||n.g==t)&&Py(n),!Eh(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const d=c[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const m=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var o=r.i;o.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(aC(o,o.h),o.h=null))}if(r.F){const v=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.Da=v,Kt(r.I,r.F,v))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=iV(r,r.J?r.pa:null,r.Y),s.K){B4(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.C&&(O_(a),Wp(a)),r.g=s}else Z4(r);0<n.j.length&&D_(n)}else c[0]!="stop"&&c[0]!="close"||tl(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?tl(n,7):uC(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}Ih(4)}catch{}}function GY(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(w_(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function KY(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(w_(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function j4(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(w_(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=KY(t),r=GY(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var M4=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function QY(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function fl(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof fl){this.h=t.h,Ay(this,t.j),this.s=t.s,this.g=t.g,Iy(this,t.m),this.l=t.l;var e=t.i,n=new Ph;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),ck(this,n),this.o=t.o}else t&&(e=String(t).match(M4))?(this.h=!1,Ay(this,e[1]||"",!0),this.s=uf(e[2]||""),this.g=uf(e[3]||"",!0),Iy(this,e[4]),this.l=uf(e[5]||"",!0),ck(this,e[6]||"",!0),this.o=uf(e[7]||"")):(this.h=!1,this.i=new Ph(null,this.h))}fl.prototype.toString=function(){var t=[],e=this.j;e&&t.push(df(e,uk,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(df(e,uk,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(df(n,n.charAt(0)=="/"?JY:XY,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",df(n,eX)),t.join("")};function vs(t){return new fl(t)}function Ay(t,e,n){t.j=n?uf(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Iy(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function ck(t,e,n){e instanceof Ph?(t.i=e,tX(t.i,t.h)):(n||(e=df(e,ZY)),t.i=new Ph(e,t.h))}function Kt(t,e,n){t.i.set(e,n)}function k_(t){return Kt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function uf(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function df(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,YY),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function YY(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var uk=/[#\/\?@]/g,XY=/[#\?:]/g,JY=/[#\?]/g,ZY=/[#\?@]/g,eX=/#/g;function Ph(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Pa(t){t.g||(t.g=new Map,t.h=0,t.i&&QY(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ve=Ph.prototype;ve.add=function(t,e){Pa(this),this.i=null,t=Yu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function D4(t,e){Pa(t),e=Yu(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function $4(t,e){return Pa(t),e=Yu(t,e),t.g.has(e)}ve.forEach=function(t,e){Pa(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};ve.ta=function(){Pa(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};ve.Z=function(t){Pa(this);let e=[];if(typeof t=="string")$4(this,t)&&(e=e.concat(this.g.get(Yu(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ve.set=function(t,e){return Pa(this),this.i=null,t=Yu(this,t),$4(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ve.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function L4(t,e,n){D4(t,e),0<n.length&&(t.i=null,t.g.set(Yu(t,e),GT(n)),t.h+=n.length)}ve.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function Yu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function tX(t,e){e&&!t.j&&(Pa(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(D4(this,r),L4(this,i,n))},t)),t.j=e}var nX=class{constructor(t,e){this.g=t,this.map=e}};function F4(t){this.l=t||rX,Ge.PerformanceNavigationTiming?(t=Ge.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Ge.g&&Ge.g.Ka&&Ge.g.Ka()&&Ge.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var rX=10;function V4(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function U4(t){return t.h?1:t.g?t.g.size:0}function f1(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function aC(t,e){t.g?t.g.add(e):t.h=e}function B4(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}F4.prototype.cancel=function(){if(this.i=z4(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function z4(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return GT(t.i)}var iX=class{stringify(t){return Ge.JSON.stringify(t,void 0)}parse(t){return Ge.JSON.parse(t,void 0)}};function oX(){this.g=new iX}function sX(t,e,n){const r=n||"";try{j4(t,function(i,o){let s=i;Fp(i)&&(s=eC(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function aX(t,e){const n=new C_;if(Ge.Image){const r=new Image;r.onload=Dm(Lm,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Dm(Lm,n,r,"TestLoadImage: error",!1,e),r.onabort=Dm(Lm,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Dm(Lm,n,r,"TestLoadImage: timeout",!1,e),Ge.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Lm(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function N_(t){this.l=t.ec||null,this.j=t.ob||!1}Gn(N_,iC);N_.prototype.g=function(){return new R_(this.l,this.j)};N_.prototype.i=function(t){return function(){return t}}({});function R_(t,e){qn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=lC,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Gn(R_,qn);var lC=0;ve=R_.prototype;ve.open=function(t,e){if(this.readyState!=lC)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Oh(this)};ve.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Ge).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};ve.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hp(this)),this.readyState=lC};ve.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Oh(this)),this.g&&(this.readyState=3,Oh(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ge.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;W4(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function W4(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}ve.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Hp(this):Oh(this),this.readyState==3&&W4(this)}};ve.Za=function(t){this.g&&(this.response=this.responseText=t,Hp(this))};ve.Ya=function(t){this.g&&(this.response=t,Hp(this))};ve.ka=function(){this.g&&Hp(this)};function Hp(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Oh(t)}ve.setRequestHeader=function(t,e){this.v.append(t,e)};ve.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ve.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Oh(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(R_.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var lX=Ge.JSON.parse;function un(t){qn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=H4,this.L=this.M=!1}Gn(un,qn);var H4="",cX=/^https?$/i,uX=["POST","PUT"];ve=un.prototype;ve.Oa=function(t){this.M=t};ve.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():l1.g(),this.C=this.u?lk(this.u):lk(l1),this.g.onreadystatechange=xr(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){dk(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=Ge.FormData&&t instanceof Ge.FormData,!(0<=a4(uX,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{K4(this),0<this.B&&((this.L=dX(this.g))?(this.g.timeout=this.B,this.g.ontimeout=xr(this.ua,this)):this.A=rC(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){dk(this,o)}};function dX(t){return du&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ve.ua=function(){typeof qT<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ir(this,"timeout"),this.abort(8))};function dk(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,q4(t),j_(t)}function q4(t){t.F||(t.F=!0,ir(t,"complete"),ir(t,"error"))}ve.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ir(this,"complete"),ir(this,"abort"),j_(this))};ve.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),j_(this,!0)),un.$.N.call(this)};ve.La=function(){this.s||(this.G||this.v||this.l?G4(this):this.kb())};ve.kb=function(){G4(this)};function G4(t){if(t.h&&typeof qT<"u"&&(!t.C[1]||wo(t)!=4||t.da()!=2)){if(t.v&&wo(t)==4)rC(t.La,0,t);else if(ir(t,"readystatechange"),wo(t)==4){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(M4)[1]||null;!i&&Ge.self&&Ge.self.location&&(i=Ge.self.location.protocol.slice(0,-1)),r=!cX.test(i?i.toLowerCase():"")}n=r}if(n)ir(t,"complete"),ir(t,"success");else{t.m=6;try{var o=2<wo(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",q4(t)}}finally{j_(t)}}}}function j_(t,e){if(t.g){K4(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||ir(t,"ready");try{n.onreadystatechange=r}catch{}}}function K4(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Ge.clearTimeout(t.A),t.A=null)}ve.isActive=function(){return!!this.g};function wo(t){return t.g?t.g.readyState:0}ve.da=function(){try{return 2<wo(this)?this.g.status:-1}catch{return-1}};ve.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};ve.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),lX(e)}};function fk(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case H4:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function fX(t){const e={};t=(t.g&&2<=wo(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Eh(t[r]))continue;var n=$Y(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}OY(e,function(r){return r.join(", ")})}ve.Ia=function(){return this.m};ve.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Q4(t){let e="";return QT(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function cC(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Q4(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Kt(t,e,n))}function Dd(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Y4(t){this.Ga=0,this.j=[],this.l=new C_,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Dd("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Dd("baseRetryDelayMs",5e3,t),this.hb=Dd("retryDelaySeedMs",1e4,t),this.eb=Dd("forwardChannelMaxRetries",2,t),this.xa=Dd("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new F4(t&&t.concurrentRequestLimit),this.Ja=new oX,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}ve=Y4.prototype;ve.ra=8;ve.H=1;function uC(t){if(X4(t),t.H==3){var e=t.W++,n=vs(t.I);if(Kt(n,"SID",t.K),Kt(n,"RID",e),Kt(n,"TYPE","terminate"),qp(t,n),e=new zp(t,t.l,e),e.L=2,e.A=k_(vs(n)),n=!1,Ge.navigator&&Ge.navigator.sendBeacon)try{n=Ge.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Ge.Image&&(new Image().src=e.A,n=!0),n||(e.g=oV(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Wp(e)}rV(t)}function M_(t){t.g&&(fC(t),t.g.cancel(),t.g=null)}function X4(t){M_(t),t.u&&(Ge.clearTimeout(t.u),t.u=null),Py(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Ge.clearTimeout(t.m),t.m=null)}function D_(t){if(!V4(t.i)&&!t.m){t.m=!0;var e=t.Na;Th||_4(),Ch||(Th(),Ch=!0),tC.add(e,t),t.C=0}}function hX(t,e){return U4(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Up(xr(t.Na,t,e),nV(t,t.C)),t.C++,!0)}ve.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new zp(this,this.l,t);let o=this.s;if(this.U&&(o?(o=d4(o),f4(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=J4(this,i,e),n=vs(this.I),Kt(n,"RID",t),Kt(n,"CVER",22),this.F&&Kt(n,"X-HTTP-Session-Id",this.F),qp(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(Q4(o)))+"&"+e:this.o&&cC(n,this.o,o)),aC(this.i,i),this.bb&&Kt(n,"TYPE","init"),this.P?(Kt(n,"$req",e),Kt(n,"SID","null"),i.aa=!0,u1(i,n,null)):u1(i,n,e),this.H=2}}else this.H==3&&(t?hk(this,t):this.j.length==0||V4(this.i)||hk(this))};function hk(t,e){var n;e?n=e.m:n=t.W++;const r=vs(t.I);Kt(r,"SID",t.K),Kt(r,"RID",n),Kt(r,"AID",t.V),qp(t,r),t.o&&t.s&&cC(r,t.o,t.s),n=new zp(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=J4(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),aC(t.i,n),u1(n,r,e)}function qp(t,e){t.na&&QT(t.na,function(n,r){Kt(e,r,n)}),t.h&&j4({},function(n,r){Kt(e,r,n)})}function J4(t,e,n){n=Math.min(t.j.length,n);var r=t.h?xr(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let c=i[l].g;const u=i[l].map;if(c-=o,0>c)o=Math.max(0,i[l].g-100),a=!1;else try{sX(u,s,"req"+c+"_")}catch{r&&r(u)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function Z4(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Th||_4(),Ch||(Th(),Ch=!0),tC.add(e,t),t.A=0}}function dC(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Up(xr(t.Ma,t),nV(t,t.A)),t.A++,!0)}ve.Ma=function(){if(this.u=null,eV(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Up(xr(this.jb,this),t)}};ve.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Or(10),M_(this),eV(this))};function fC(t){t.B!=null&&(Ge.clearTimeout(t.B),t.B=null)}function eV(t){t.g=new zp(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=vs(t.wa);Kt(e,"RID","rpc"),Kt(e,"SID",t.K),Kt(e,"AID",t.V),Kt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Kt(e,"TO",t.qa),Kt(e,"TYPE","xmlhttp"),qp(t,e),t.o&&t.s&&cC(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=k_(vs(e)),n.u=null,n.S=!0,O4(n,t)}ve.ib=function(){this.v!=null&&(this.v=null,M_(this),dC(this),Or(19))};function Py(t){t.v!=null&&(Ge.clearTimeout(t.v),t.v=null)}function tV(t,e){var n=null;if(t.g==e){Py(t),fC(t),t.g=null;var r=2}else if(f1(t.i,e))n=e.F,B4(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=A_(),ir(r,new T4(r,n)),D_(t)}else Z4(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&hX(t,e)||r==2&&dC(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:tl(t,5);break;case 4:tl(t,10);break;case 3:tl(t,6);break;default:tl(t,2)}}}function nV(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function tl(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=xr(t.pb,t);n||(n=new fl("//www.google.com/images/cleardot.gif"),Ge.location&&Ge.location.protocol=="http"||Ay(n,"https"),k_(n)),aX(n.toString(),r)}else Or(2);t.H=0,t.h&&t.h.za(e),rV(t),X4(t)}ve.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Or(2)):(this.l.info("Failed to ping google.com"),Or(1))};function rV(t){if(t.H=0,t.ma=[],t.h){const e=z4(t.i);(e.length!=0||t.j.length!=0)&&(rk(t.ma,e),rk(t.ma,t.j),t.i.i.length=0,GT(t.j),t.j.length=0),t.h.ya()}}function iV(t,e,n){var r=n instanceof fl?vs(n):new fl(n);if(r.g!="")e&&(r.g=e+"."+r.g),Iy(r,r.m);else{var i=Ge.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new fl(null);r&&Ay(o,r),e&&(o.g=e),i&&Iy(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&Kt(r,n,e),Kt(r,"VER",t.ra),qp(t,r),r}function oV(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new un(new N_({ob:n})):new un(t.va),e.Oa(t.J),e}ve.isActive=function(){return!!this.h&&this.h.isActive(this)};function sV(){}ve=sV.prototype;ve.Ba=function(){};ve.Aa=function(){};ve.za=function(){};ve.ya=function(){};ve.isActive=function(){return!0};ve.Va=function(){};function Oy(){if(du&&!(10<=Number(CY)))throw Error("Environmental error: no available transport.")}Oy.prototype.g=function(t,e){return new ci(t,e)};function ci(t,e){qn.call(this),this.g=new Y4(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Eh(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Eh(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Xu(this)}Gn(ci,qn);ci.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Or(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=iV(t,null,t.Y),D_(t)};ci.prototype.close=function(){uC(this.g)};ci.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=eC(t),t=n);e.j.push(new nX(e.fb++,t)),e.H==3&&D_(e)};ci.prototype.N=function(){this.g.h=null,delete this.j,uC(this.g),delete this.g,ci.$.N.call(this)};function aV(t){oC.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Gn(aV,oC);function lV(){sC.call(this),this.status=1}Gn(lV,sC);function Xu(t){this.g=t}Gn(Xu,sV);Xu.prototype.Ba=function(){ir(this.g,"a")};Xu.prototype.Aa=function(t){ir(this.g,new aV(t))};Xu.prototype.za=function(t){ir(this.g,new lV)};Xu.prototype.ya=function(){ir(this.g,"b")};function pX(){this.blockSize=-1}function so(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Gn(so,pX);so.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Hb(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}so.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)Hb(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){Hb(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){Hb(this,r),i=0;break}}this.h=i,this.i+=e};so.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ot(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var mX={};function hC(t){return-128<=t&&128>t?EY(t,function(e){return new Ot([e|0],0>e?-1:0)}):new Ot([t|0],0>t?-1:0)}function xo(t){if(isNaN(t)||!isFinite(t))return Kc;if(0>t)return Zn(xo(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=h1;return new Ot(e,0)}function cV(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Zn(cV(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=xo(Math.pow(e,8)),r=Kc,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=xo(Math.pow(e,o)),r=r.R(o).add(xo(s))):(r=r.R(n),r=r.add(xo(s)))}return r}var h1=4294967296,Kc=hC(0),p1=hC(1),pk=hC(16777216);ve=Ot.prototype;ve.ea=function(){if(wi(this))return-Zn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:h1+r)*e,e*=h1}return t};ve.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(es(this))return"0";if(wi(this))return"-"+Zn(this).toString(t);for(var e=xo(Math.pow(t,6)),n=this,r="";;){var i=Ny(n,e).g;n=ky(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,es(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};ve.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function es(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function wi(t){return t.h==-1}ve.X=function(t){return t=ky(this,t),wi(t)?-1:es(t)?0:1};function Zn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ot(n,~t.h).add(p1)}ve.abs=function(){return wi(this)?Zn(this):this};ve.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Ot(n,n[n.length-1]&-2147483648?-1:0)};function ky(t,e){return t.add(Zn(e))}ve.R=function(t){if(es(this)||es(t))return Kc;if(wi(this))return wi(t)?Zn(this).R(Zn(t)):Zn(Zn(this).R(t));if(wi(t))return Zn(this.R(Zn(t)));if(0>this.X(pk)&&0>t.X(pk))return xo(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=s*l,Fm(n,2*r+2*i),n[2*r+2*i+1]+=o*l,Fm(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Fm(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Fm(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ot(n,0)};function Fm(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function $d(t,e){this.g=t,this.h=e}function Ny(t,e){if(es(e))throw Error("division by zero");if(es(t))return new $d(Kc,Kc);if(wi(t))return e=Ny(Zn(t),e),new $d(Zn(e.g),Zn(e.h));if(wi(e))return e=Ny(t,Zn(e)),new $d(Zn(e.g),e.h);if(30<t.g.length){if(wi(t)||wi(e))throw Error("slowDivide_ only works with positive integers.");for(var n=p1,r=e;0>=r.X(t);)n=mk(n),r=mk(r);var i=cc(n,1),o=cc(r,1);for(r=cc(r,2),n=cc(n,2);!es(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=cc(r,1),n=cc(n,1)}return e=ky(t,i.R(e)),new $d(i,e)}for(i=Kc;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=xo(n),s=o.R(e);wi(s)||0<s.X(t);)n-=r,o=xo(n),s=o.R(e);es(o)&&(o=p1),i=i.add(o),t=ky(t,s)}return new $d(i,t)}ve.gb=function(t){return Ny(this,t).h};ve.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ot(n,this.h&t.h)};ve.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ot(n,this.h|t.h)};ve.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ot(n,this.h^t.h)};function mk(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ot(n,t.h)}function cc(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Ot(i,t.h)}Oy.prototype.createWebChannel=Oy.prototype.g;ci.prototype.send=ci.prototype.u;ci.prototype.open=ci.prototype.m;ci.prototype.close=ci.prototype.close;I_.NO_ERROR=0;I_.TIMEOUT=8;I_.HTTP_ERROR=6;C4.COMPLETE="complete";A4.EventType=Bp;Bp.OPEN="a";Bp.CLOSE="b";Bp.ERROR="c";Bp.MESSAGE="d";qn.prototype.listen=qn.prototype.O;un.prototype.listenOnce=un.prototype.P;un.prototype.getLastError=un.prototype.Sa;un.prototype.getLastErrorCode=un.prototype.Ia;un.prototype.getStatus=un.prototype.da;un.prototype.getResponseJson=un.prototype.Wa;un.prototype.getResponseText=un.prototype.ja;un.prototype.send=un.prototype.ha;un.prototype.setWithCredentials=un.prototype.Oa;so.prototype.digest=so.prototype.l;so.prototype.reset=so.prototype.reset;so.prototype.update=so.prototype.j;Ot.prototype.add=Ot.prototype.add;Ot.prototype.multiply=Ot.prototype.R;Ot.prototype.modulo=Ot.prototype.gb;Ot.prototype.compare=Ot.prototype.X;Ot.prototype.toNumber=Ot.prototype.ea;Ot.prototype.toString=Ot.prototype.toString;Ot.prototype.getBits=Ot.prototype.D;Ot.fromNumber=xo;Ot.fromString=cV;var gX=function(){return new Oy},yX=function(){return A_()},qb=I_,vX=C4,_X=Kl,gk={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Vm=A4,bX=un,wX=so,Qc=Ot;const yk="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hr.UNAUTHENTICATED=new hr(null),hr.GOOGLE_CREDENTIALS=new hr("google-credentials-uid"),hr.FIRST_PARTY=new hr("first-party-uid"),hr.MOCK_USER=new hr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ju="10.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol=new m_("@firebase/firestore");function Ld(){return Ol.logLevel}function ge(t,...e){if(Ol.logLevel<=lt.DEBUG){const n=e.map(pC);Ol.debug(`Firestore (${Ju}): ${t}`,...n)}}function jo(t,...e){if(Ol.logLevel<=lt.ERROR){const n=e.map(pC);Ol.error(`Firestore (${Ju}): ${t}`,...n)}}function fu(t,...e){if(Ol.logLevel<=lt.WARN){const n=e.map(pC);Ol.warn(`Firestore (${Ju}): ${t}`,...n)}}function pC(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(t="Unexpected state"){const e=`FIRESTORE (${Ju}) INTERNAL ASSERTION FAILED: `+t;throw jo(e),new Error(e)}function Vt(t,e){t||He()}function Xe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends Vo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xX{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(hr.UNAUTHENTICATED))}shutdown(){}}class EX{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class SX{constructor(e){this.t=e,this.currentUser=hr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Po;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Po,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Po)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Vt(typeof r.accessToken=="string"),new uV(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Vt(e===null||typeof e=="string"),new hr(e)}}class TX{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=hr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class CX{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new TX(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(hr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AX{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IX{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,ge("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Vt(typeof n.token=="string"),this.R=n.token,new AX(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PX(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=PX(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Et(t,e){return t<e?-1:t>e?1:0}function hu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new be(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new be(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new be(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Rn.fromMillis(Date.now())}static fromDate(e){return Rn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Rn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Et(this.nanoseconds,e.nanoseconds):Et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ye(e)}static min(){return new Ye(new Rn(0,0))}static max(){return new Ye(new Rn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n,r){n===void 0?n=0:n>e.length&&He(),r===void 0?r=e.length-n:r>e.length-n&&He(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return kh.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof kh?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Qt extends kh{construct(e,n,r){return new Qt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new be(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Qt(n)}static emptyPath(){return new Qt([])}}const OX=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tr extends kh{construct(e,n,r){return new tr(e,n,r)}static isValidIdentifier(e){return OX.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new tr(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new be(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new be(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new be(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new be(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tr(n)}static emptyPath(){return new tr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(Qt.fromString(e))}static fromName(e){return new Re(Qt.fromString(e).popFirst(5))}static empty(){return new Re(Qt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Qt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new Qt(e.slice()))}}function kX(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ye.fromTimestamp(r===1e9?new Rn(n+1,0):new Rn(n,r));return new pa(i,Re.empty(),e)}function NX(t){return new pa(t.readTime,t.key,-1)}class pa{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new pa(Ye.min(),Re.empty(),-1)}static max(){return new pa(Ye.max(),Re.empty(),-1)}}function RX(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Re.comparator(t.documentKey,e.documentKey),n!==0?n:Et(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jX="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MX{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gp(t){if(t.code!==ie.FAILED_PRECONDITION||t.message!==jX)throw t;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&He(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):oe.reject(n)}static resolve(e){return new oe((n,r)=>{n(e)})}static reject(e){return new oe((n,r)=>{r(e)})}static waitFor(e){return new oe((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=oe.resolve(!1);for(const r of e)n=n.next(i=>i?oe.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new oe((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;n(e[c]).next(u=>{s[c]=u,++a,a===o&&r(s)},u=>i(u))}})}static doWhile(e,n){return new oe((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Po,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Nf(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=gC(r.target.error);this.V.reject(new Nf(e,i))}}static open(e,n,r,i){try{return new mC(n,e.transaction(i,r))}catch(o){throw new Nf(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(ge("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new $X(n)}}class nl{constructor(e,n,r){this.name=e,this.version=n,this.p=r,nl.S(En())===12.2&&jo("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ge("SimpleDb","Removing database:",e),Ga(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!xF())return!1;if(nl.C())return!0;const e=En(),n=nl.S(e),r=0<n&&n<10,i=nl.v(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(ge("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const s=o.target.result;n(s)},i.onblocked=()=>{r(new Nf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const s=o.target.error;s.name==="VersionError"?r(new be(ie.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new be(ie.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new Nf(e,s))},i.onupgradeneeded=o=>{ge("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const s=o.target.result;this.p.N(s,i.transaction,o.oldVersion,this.version).next(()=>{ge("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const o=n==="readonly";let s=0;for(;;){++s;try{this.db=await this.O(e);const a=mC.open(this.db,e,o?"readonly":"readwrite",r),l=i(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),oe.reject(c))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&s<3;if(ge("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class DX{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Ga(this.k.delete())}}class Nf extends be{constructor(e,n){super(ie.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Kp(t){return t.name==="IndexedDbTransactionError"}class $X{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(ge("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(ge("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ga(r)}add(e){return ge("SimpleDb","ADD",this.store.name,e,e),Ga(this.store.add(e))}get(e){return Ga(this.store.get(e)).next(n=>(n===void 0&&(n=null),ge("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return ge("SimpleDb","DELETE",this.store.name,e),Ga(this.store.delete(e))}count(){return ge("SimpleDb","COUNT",this.store.name),Ga(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new oe((s,a)=>{o.onerror=l=>{a(l.target.error)},o.onsuccess=l=>{s(l.target.result)}})}{const o=this.cursor(r),s=[];return this.G(o,(a,l)=>{s.push(l)}).next(()=>s)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new oe((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}H(e,n){ge("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(o,s,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new oe((r,i)=>{n.onerror=o=>{const s=gC(o.target.error);i(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}G(e,n){const r=[];return new oe((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const l=new DX(a),c=n(a.primaryKey,a.value,l);if(c instanceof oe){const u=c.catch(d=>(l.done(),oe.reject(d)));r.push(u)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>oe.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Ga(t){return new oe((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=gC(r.target.error);n(i)}})}let vk=!1;function gC(t){const e=nl.S(En());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new be("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return vk||(vk=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}yC._e=-1;function $_(t){return t==null}function Ry(t){return t===0&&1/t==-1/0}function LX(t){return typeof t=="number"&&Number.isInteger(t)&&!Ry(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ql(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function fV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sn=class m1{constructor(e,n){this.comparator=e,this.root=n||ia.EMPTY}insert(e,n){return new m1(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ia.BLACK,null,null))}remove(e){return new m1(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ia.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Um(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Um(this.root,e,this.comparator,!1)}getReverseIterator(){return new Um(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Um(this.root,e,this.comparator,!0)}},Um=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ia=class Ho{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Ho.RED,this.left=i??Ho.EMPTY,this.right=o??Ho.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Ho(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ho.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ho.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ho.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ho.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw He();const e=this.left.check();if(e!==this.right.check())throw He();return e+(this.isRed()?0:1)}};ia.EMPTY=null,ia.RED=!0,ia.BLACK=!1;ia.EMPTY=new class{constructor(){this.size=0}get key(){throw He()}get value(){throw He()}get color(){throw He()}get left(){throw He()}get right(){throw He()}copy(e,n,r,i,o){return this}insert(e,n,r){return new ia(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.comparator=e,this.data=new Sn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new bk(this.data.getIterator())}getIteratorFrom(e){return new bk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof or)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new or(this.comparator);return n.data=e,n}}class bk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this.fields=e,e.sort(tr.comparator)}static empty(){return new ii([])}unionWith(e){let n=new or(tr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ii(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return hu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new hV("Invalid base64 string: "+o):o}}(e);return new Tr(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Tr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tr.EMPTY_BYTE_STRING=new Tr("");const FX=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ma(t){if(Vt(!!t),typeof t=="string"){let e=0;const n=FX.exec(t);if(Vt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vn(t.seconds),nanos:vn(t.nanos)}}function vn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function kl(t){return typeof t=="string"?Tr.fromBase64String(t):Tr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function _C(t){const e=t.mapValue.fields.__previous_value__;return vC(e)?_C(e):e}function Nh(t){const e=ma(t.mapValue.fields.__local_write_time__.timestampValue);return new Rn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VX{constructor(e,n,r,i,o,s,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Rh{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Rh("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Rh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Nl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?vC(t)?4:UX(t)?9007199254740991:10:He()}function Mo(t,e){if(t===e)return!0;const n=Nl(t);if(n!==Nl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Nh(t).isEqual(Nh(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=ma(i.timestampValue),a=ma(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return kl(i.bytesValue).isEqual(kl(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return vn(i.geoPointValue.latitude)===vn(o.geoPointValue.latitude)&&vn(i.geoPointValue.longitude)===vn(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return vn(i.integerValue)===vn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=vn(i.doubleValue),a=vn(o.doubleValue);return s===a?Ry(s)===Ry(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return hu(t.arrayValue.values||[],e.arrayValue.values||[],Mo);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(_k(s)!==_k(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Mo(s[l],a[l])))return!1;return!0}(t,e);default:return He()}}function jh(t,e){return(t.values||[]).find(n=>Mo(n,e))!==void 0}function pu(t,e){if(t===e)return 0;const n=Nl(t),r=Nl(e);if(n!==r)return Et(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Et(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=vn(o.integerValue||o.doubleValue),l=vn(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return wk(t.timestampValue,e.timestampValue);case 4:return wk(Nh(t),Nh(e));case 5:return Et(t.stringValue,e.stringValue);case 6:return function(o,s){const a=kl(o),l=kl(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Et(a[c],l[c]);if(u!==0)return u}return Et(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Et(vn(o.latitude),vn(s.latitude));return a!==0?a:Et(vn(o.longitude),vn(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=pu(a[c],l[c]);if(u)return u}return Et(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Bm.mapValue&&s===Bm.mapValue)return 0;if(o===Bm.mapValue)return 1;if(s===Bm.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=Et(l[d],u[d]);if(h!==0)return h;const p=pu(a[l[d]],c[u[d]]);if(p!==0)return p}return Et(l.length,u.length)}(t.mapValue,e.mapValue);default:throw He()}}function wk(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Et(t,e);const n=ma(t),r=ma(e),i=Et(n.seconds,r.seconds);return i!==0?i:Et(n.nanos,r.nanos)}function mu(t){return g1(t)}function g1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ma(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return kl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Re.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=g1(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${g1(n.fields[s])}`;return i+"}"}(t.mapValue):He()}function xk(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function y1(t){return!!t&&"integerValue"in t}function bC(t){return!!t&&"arrayValue"in t}function Ek(t){return!!t&&"nullValue"in t}function Sk(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function kg(t){return!!t&&"mapValue"in t}function Rf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ql(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Rf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Rf(t.arrayValue.values[n]);return e}return Object.assign({},t)}function UX(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this.value=e}static empty(){return new Br({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!kg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rf(n)}setAll(e){let n=tr.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Rf(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());kg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Mo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];kg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ql(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Br(Rf(this.value))}}function pV(t){const e=[];return Ql(t.fields,(n,r)=>{const i=new tr([n]);if(kg(r)){const o=pV(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new ii(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new mr(e,0,Ye.min(),Ye.min(),Ye.min(),Br.empty(),0)}static newFoundDocument(e,n,r,i){return new mr(e,1,n,Ye.min(),r,i,0)}static newNoDocument(e,n){return new mr(e,2,n,Ye.min(),Ye.min(),Br.empty(),0)}static newUnknownDocument(e,n){return new mr(e,3,n,Ye.min(),Ye.min(),Br.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Br.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Br.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e,n){this.position=e,this.inclusive=n}}function Tk(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=Re.comparator(Re.fromName(s.referenceValue),n.key):r=pu(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ck(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Mo(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e,n="asc"){this.field=e,this.dir=n}}function BX(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{}class wn extends mV{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new WX(e,n,r):n==="array-contains"?new GX(e,r):n==="in"?new KX(e,r):n==="not-in"?new QX(e,r):n==="array-contains-any"?new YX(e,r):new wn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new HX(e,r):new qX(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(pu(n,this.value)):n!==null&&Nl(this.value)===Nl(n)&&this.matchesComparison(pu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return He()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ao extends mV{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new ao(e,n)}matches(e){return gV(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function gV(t){return t.op==="and"}function yV(t){return zX(t)&&gV(t)}function zX(t){for(const e of t.filters)if(e instanceof ao)return!1;return!0}function v1(t){if(t instanceof wn)return t.field.canonicalString()+t.op.toString()+mu(t.value);if(yV(t))return t.filters.map(e=>v1(e)).join(",");{const e=t.filters.map(n=>v1(n)).join(",");return`${t.op}(${e})`}}function vV(t,e){return t instanceof wn?function(r,i){return i instanceof wn&&r.op===i.op&&r.field.isEqual(i.field)&&Mo(r.value,i.value)}(t,e):t instanceof ao?function(r,i){return i instanceof ao&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&vV(s,i.filters[a]),!0):!1}(t,e):void He()}function _V(t){return t instanceof wn?function(n){return`${n.field.canonicalString()} ${n.op} ${mu(n.value)}`}(t):t instanceof ao?function(n){return n.op.toString()+" {"+n.getFilters().map(_V).join(" ,")+"}"}(t):"Filter"}class WX extends wn{constructor(e,n,r){super(e,n,r),this.key=Re.fromName(r.referenceValue)}matches(e){const n=Re.comparator(e.key,this.key);return this.matchesComparison(n)}}class HX extends wn{constructor(e,n){super(e,"in",n),this.keys=bV("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class qX extends wn{constructor(e,n){super(e,"not-in",n),this.keys=bV("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function bV(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Re.fromName(r.referenceValue))}class GX extends wn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return bC(n)&&jh(n.arrayValue,this.value)}}class KX extends wn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&jh(this.value.arrayValue,n)}}class QX extends wn{constructor(e,n){super(e,"not-in",n)}matches(e){if(jh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!jh(this.value.arrayValue,n)}}class YX extends wn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!bC(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>jh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XX{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function Ak(t,e=null,n=[],r=[],i=null,o=null,s=null){return new XX(t,e,n,r,i,o,s)}function wC(t){const e=Xe(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>v1(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),$_(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>mu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>mu(r)).join(",")),e.ce=n}return e.ce}function xC(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!BX(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!vV(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ck(t.startAt,e.startAt)&&Ck(t.endAt,e.endAt)}function _1(t){return Re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function JX(t,e,n,r,i,o,s,a){return new Qp(t,e,n,r,i,o,s,a)}function EC(t){return new Qp(t)}function Ik(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function wV(t){return t.collectionGroup!==null}function jf(t){const e=Xe(t);if(e.le===null){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new or(tr.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new My(o,r))}),n.has(tr.keyField().canonicalString())||e.le.push(new My(tr.keyField(),r))}return e.le}function Oo(t){const e=Xe(t);return e.he||(e.he=ZX(e,jf(t))),e.he}function ZX(t,e){if(t.limitType==="F")return Ak(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new My(i.field,o)});const n=t.endAt?new jy(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new jy(t.startAt.position,t.startAt.inclusive):null;return Ak(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function b1(t,e){const n=t.filters.concat([e]);return new Qp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function w1(t,e,n){return new Qp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function L_(t,e){return xC(Oo(t),Oo(e))&&t.limitType===e.limitType}function xV(t){return`${wC(Oo(t))}|lt:${t.limitType}`}function gc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>_V(i)).join(", ")}]`),$_(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>mu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>mu(i)).join(",")),`Target(${r})`}(Oo(t))}; limitType=${t.limitType})`}function F_(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Re.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of jf(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const c=Tk(s,a,l);return s.inclusive?c<=0:c<0}(r.startAt,jf(r),i)||r.endAt&&!function(s,a,l){const c=Tk(s,a,l);return s.inclusive?c>=0:c>0}(r.endAt,jf(r),i))}(t,e)}function eJ(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function EV(t){return(e,n)=>{let r=!1;for(const i of jf(t)){const o=tJ(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function tJ(t,e,n){const r=t.field.isKeyField()?Re.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return l!==null&&c!==null?pu(l,c):He()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return He()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ql(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return fV(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nJ=new Sn(Re.comparator);function _s(){return nJ}const SV=new Sn(Re.comparator);function ff(...t){let e=SV;for(const n of t)e=e.insert(n.key,n);return e}function TV(t){let e=SV;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function rl(){return Mf()}function CV(){return Mf()}function Mf(){return new Zu(t=>t.toString(),(t,e)=>t.isEqual(e))}const rJ=new Sn(Re.comparator),iJ=new or(Re.comparator);function ut(...t){let e=iJ;for(const n of t)e=e.add(n);return e}const oJ=new or(Et);function sJ(){return oJ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AV(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ry(e)?"-0":e}}function IV(t){return{integerValue:""+t}}function aJ(t,e){return LX(e)?IV(e):AV(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(){this._=void 0}}function lJ(t,e,n){return t instanceof Dy?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&vC(o)&&(o=_C(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Mh?OV(t,e):t instanceof Dh?kV(t,e):function(i,o){const s=PV(i,o),a=Pk(s)+Pk(i.Ie);return y1(s)&&y1(i.Ie)?IV(a):AV(i.serializer,a)}(t,e)}function cJ(t,e,n){return t instanceof Mh?OV(t,e):t instanceof Dh?kV(t,e):n}function PV(t,e){return t instanceof $y?function(r){return y1(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Dy extends V_{}class Mh extends V_{constructor(e){super(),this.elements=e}}function OV(t,e){const n=NV(e);for(const r of t.elements)n.some(i=>Mo(i,r))||n.push(r);return{arrayValue:{values:n}}}class Dh extends V_{constructor(e){super(),this.elements=e}}function kV(t,e){let n=NV(e);for(const r of t.elements)n=n.filter(i=>!Mo(i,r));return{arrayValue:{values:n}}}class $y extends V_{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Pk(t){return vn(t.integerValue||t.doubleValue)}function NV(t){return bC(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function uJ(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Mh&&i instanceof Mh||r instanceof Dh&&i instanceof Dh?hu(r.elements,i.elements,Mo):r instanceof $y&&i instanceof $y?Mo(r.Ie,i.Ie):r instanceof Dy&&i instanceof Dy}(t.transform,e.transform)}class dJ{constructor(e,n){this.version=e,this.transformResults=n}}class Ai{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ai}static exists(e){return new Ai(void 0,e)}static updateTime(e){return new Ai(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ng(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class U_{}function RV(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new SC(t.key,Ai.none()):new Yp(t.key,t.data,Ai.none());{const n=t.data,r=Br.empty();let i=new or(tr.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Oa(t.key,r,new ii(i.toArray()),Ai.none())}}function fJ(t,e,n){t instanceof Yp?function(i,o,s){const a=i.value.clone(),l=kk(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Oa?function(i,o,s){if(!Ng(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=kk(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(jV(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Df(t,e,n,r){return t instanceof Yp?function(o,s,a,l){if(!Ng(o.precondition,s))return a;const c=o.value.clone(),u=Nk(o.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Oa?function(o,s,a,l){if(!Ng(o.precondition,s))return a;const c=Nk(o.fieldTransforms,l,s),u=s.data;return u.setAll(jV(o)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(o,s,a){return Ng(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function hJ(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=PV(r.transform,i||null);o!=null&&(n===null&&(n=Br.empty()),n.set(r.field,o))}return n||null}function Ok(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&hu(r,i,(o,s)=>uJ(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Yp extends U_{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Oa extends U_{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function jV(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function kk(t,e,n){const r=new Map;Vt(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,cJ(s,a,n[i]))}return r}function Nk(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,lJ(o,s,e))}return r}class SC extends U_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pJ extends U_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mJ{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&fJ(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Df(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Df(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=CV();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=RV(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Ye.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ut())}isEqual(e){return this.batchId===e.batchId&&hu(this.mutations,e.mutations,(n,r)=>Ok(n,r))&&hu(this.baseMutations,e.baseMutations,(n,r)=>Ok(n,r))}}class TC{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Vt(e.mutations.length===r.length);let i=function(){return rJ}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new TC(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gJ{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yJ{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yn,ht;function vJ(t){switch(t){default:return He();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0}}function MV(t){if(t===void 0)return jo("GRPC error has no .code"),ie.UNKNOWN;switch(t){case yn.OK:return ie.OK;case yn.CANCELLED:return ie.CANCELLED;case yn.UNKNOWN:return ie.UNKNOWN;case yn.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case yn.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case yn.INTERNAL:return ie.INTERNAL;case yn.UNAVAILABLE:return ie.UNAVAILABLE;case yn.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case yn.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case yn.NOT_FOUND:return ie.NOT_FOUND;case yn.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case yn.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case yn.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case yn.ABORTED:return ie.ABORTED;case yn.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case yn.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case yn.DATA_LOSS:return ie.DATA_LOSS;default:return He()}}(ht=yn||(yn={}))[ht.OK=0]="OK",ht[ht.CANCELLED=1]="CANCELLED",ht[ht.UNKNOWN=2]="UNKNOWN",ht[ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ht[ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ht[ht.NOT_FOUND=5]="NOT_FOUND",ht[ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",ht[ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",ht[ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",ht[ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ht[ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ht[ht.ABORTED=10]="ABORTED",ht[ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",ht[ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",ht[ht.INTERNAL=13]="INTERNAL",ht[ht.UNAVAILABLE=14]="UNAVAILABLE",ht[ht.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _J(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bJ=new Qc([4294967295,4294967295],0);function Rk(t){const e=_J().encode(t),n=new wX;return n.update(e),new Uint8Array(n.digest())}function jk(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Qc([n,r],0),new Qc([i,o],0)]}class CC{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new hf(`Invalid padding: ${n}`);if(r<0)throw new hf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new hf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new hf(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Qc.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Qc.fromNumber(r)));return i.compare(bJ)===1&&(i=new Qc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Rk(e),[r,i]=jk(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new CC(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;const n=Rk(e),[r,i]=jk(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Re(s)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class hf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Xp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new B_(Ye.min(),i,new Sn(Et),_s(),ut())}}class Xp{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Xp(r,n,ut(),ut(),ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class DV{constructor(e,n){this.targetId=e,this.fe=n}}class $V{constructor(e,n,r=Tr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Mk{constructor(){this.ge=0,this.pe=$k(),this.ye=Tr.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ut(),n=ut(),r=ut();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:He()}}),new Xp(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=$k()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Vt(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class wJ{constructor(e){this.Be=e,this.ke=new Map,this.qe=_s(),this.Qe=Dk(),this.Ke=new Sn(Et)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:He()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const o=i.target;if(_1(o))if(r===0){const s=new Re(o.path);this.We(n,s,mr.newNoDocument(s,Ye.min()))}else Vt(r===1);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(e),l=a?this.et(a,e,s):1;if(l!==0){this.He(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=kl(r).toUint8Array()}catch(l){if(l instanceof hV)return fu("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new CC(s,i,o)}catch(l){return fu(l instanceof hf?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Be.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Be.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&_1(a.target)){const l=new Re(a.target.path);this.qe.get(l)!==null||this.st(s,l)||this.We(s,l,mr.newNoDocument(l,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=ut();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const i=new B_(e,n,this.Ke,this.qe,r);return this.qe=_s(),this.Qe=Dk(),this.Ke=new Sn(Et),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Mk,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new or(Et),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new Mk),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function Dk(){return new Sn(Re.comparator)}function $k(){return new Sn(Re.comparator)}const xJ={asc:"ASCENDING",desc:"DESCENDING"},EJ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SJ={and:"AND",or:"OR"};class TJ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function x1(t,e){return t.useProto3Json||$_(e)?e:{value:e}}function Ly(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LV(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function CJ(t,e){return Ly(t,e.toTimestamp())}function ko(t){return Vt(!!t),Ye.fromTimestamp(function(n){const r=ma(n);return new Rn(r.seconds,r.nanos)}(t))}function AC(t,e){return E1(t,e).canonicalString()}function E1(t,e){const n=function(i){return new Qt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function FV(t){const e=Qt.fromString(t);return Vt(WV(e)),e}function S1(t,e){return AC(t.databaseId,e.path)}function Gb(t,e){const n=FV(e);if(n.get(1)!==t.databaseId.projectId)throw new be(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new be(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Re(UV(n))}function VV(t,e){return AC(t.databaseId,e)}function AJ(t){const e=FV(t);return e.length===4?Qt.emptyPath():UV(e)}function T1(t){return new Qt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function UV(t){return Vt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Lk(t,e,n){return{name:S1(t,e),fields:n.value.mapValue.fields}}function IJ(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:He()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,u){return c.useProto3Json?(Vt(u===void 0||typeof u=="string"),Tr.fromBase64String(u||"")):(Vt(u===void 0||u instanceof Uint8Array),Tr.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const u=c.code===void 0?ie.UNKNOWN:MV(c.code);return new be(u,c.message||"")}(s);n=new $V(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Gb(t,r.document.name),o=ko(r.document.updateTime),s=r.document.createTime?ko(r.document.createTime):Ye.min(),a=new Br({mapValue:{fields:r.document.fields}}),l=mr.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Rg(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Gb(t,r.document),o=r.readTime?ko(r.readTime):Ye.min(),s=mr.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Rg([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Gb(t,r.document),o=r.removedTargetIds||[];n=new Rg([],o,i,null)}else{if(!("filter"in e))return He();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new yJ(i,o),a=r.targetId;n=new DV(a,s)}}return n}function PJ(t,e){let n;if(e instanceof Yp)n={update:Lk(t,e.key,e.value)};else if(e instanceof SC)n={delete:S1(t,e.key)};else if(e instanceof Oa)n={update:Lk(t,e.key,e.data),updateMask:LJ(e.fieldMask)};else{if(!(e instanceof pJ))return He();n={verify:S1(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Dy)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Mh)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Dh)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof $y)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw He()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:CJ(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:He()}(t,e.precondition)),n}function OJ(t,e){return t&&t.length>0?(Vt(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?ko(i.updateTime):ko(o);return s.isEqual(Ye.min())&&(s=ko(o)),new dJ(s,i.transformResults||[])}(n,e))):[]}function kJ(t,e){return{documents:[VV(t,e.path)]}}function NJ(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=VV(t,i);const o=function(c){if(c.length!==0)return zV(ao.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:yc(h.field),direction:MJ(h.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=x1(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ut:n,parent:i}}function RJ(t){let e=AJ(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Vt(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let o=[];n.where&&(o=function(d){const h=BV(d);return h instanceof ao&&yV(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(h=>function(m){return new My(vc(m.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,$_(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new jy(p,h)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const h=!d.before,p=d.values||[];return new jy(p,h)}(n.endAt)),JX(e,i,s,o,a,"F",l,c)}function jJ(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return He()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function BV(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=vc(n.unaryFilter.field);return wn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=vc(n.unaryFilter.field);return wn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=vc(n.unaryFilter.field);return wn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=vc(n.unaryFilter.field);return wn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return He()}}(t):t.fieldFilter!==void 0?function(n){return wn.create(vc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return He()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ao.create(n.compositeFilter.filters.map(r=>BV(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return He()}}(n.compositeFilter.op))}(t):He()}function MJ(t){return xJ[t]}function DJ(t){return EJ[t]}function $J(t){return SJ[t]}function yc(t){return{fieldPath:t.canonicalString()}}function vc(t){return tr.fromServerFormat(t.fieldPath)}function zV(t){return t instanceof wn?function(n){if(n.op==="=="){if(Sk(n.value))return{unaryFilter:{field:yc(n.field),op:"IS_NAN"}};if(Ek(n.value))return{unaryFilter:{field:yc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Sk(n.value))return{unaryFilter:{field:yc(n.field),op:"IS_NOT_NAN"}};if(Ek(n.value))return{unaryFilter:{field:yc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yc(n.field),op:DJ(n.op),value:n.value}}}(t):t instanceof ao?function(n){const r=n.getFilters().map(i=>zV(i));return r.length===1?r[0]:{compositeFilter:{op:$J(n.op),filters:r}}}(t):He()}function LJ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function WV(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,n,r,i,o=Ye.min(),s=Ye.min(),a=Tr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new qs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FJ{constructor(e){this.ct=e}}function VJ(t){const e=RJ({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?w1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UJ{constructor(){this._n=new BJ}addToCollectionParentIndex(e,n){return this._n.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(pa.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(pa.min())}updateCollectionGroup(e,n,r){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class BJ{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new or(Qt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new or(Qt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new gu(0)}static Ln(){return new gu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zJ{constructor(){this.changes=new Zu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?oe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WJ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HJ{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Df(r.mutation,i,ii.empty(),Rn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ut()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ut()){const i=rl();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=ff();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=rl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ut()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=_s();const s=Mf(),a=function(){return Mf()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Oa)?o=o.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),Df(u.mutation,c,u.mutation.getFieldMask(),Rn.now())):s.set(c.key,ii.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,u)=>s.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new WJ(u,(d=s.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Mf();let i=new Sn((s,a)=>s-a),o=ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||ii.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(i.get(a.batchId)||ut()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=CV();u.forEach(h=>{if(!o.has(h)){const p=RV(n.get(h),r.get(h));p!==null&&d.set(h,p),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,d))}return oe.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return Re.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):wV(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):oe.resolve(rl());let a=-1,l=o;return s.next(c=>oe.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(u)?oe.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,ut())).next(u=>({batchId:a,changes:TV(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Re(n)).next(r=>{let i=ff();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=ff();return this.indexManager.getCollectionParents(e,o).next(a=>oe.forEach(a,l=>{const c=function(d,h){return new Qp(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,mr.newInvalidDocument(u)))});let a=ff();return s.forEach((l,c)=>{const u=o.get(l);u!==void 0&&Df(u.mutation,c,ii.empty(),Rn.now()),F_(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qJ{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return oe.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ko(i.createTime)}}(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:VJ(i.bundledQuery),readTime:ko(i.readTime)}}(n)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GJ{constructor(){this.overlays=new Sn(Re.comparator),this.hr=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=rl();return oe.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),oe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),oe.resolve()}getOverlaysForCollection(e,n,r){const i=rl(),o=n.length+1,s=new Re(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return oe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Sn((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=o.get(c.largestBatchId);u===null&&(u=rl(),o=o.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=rl(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return oe.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new gJ(n,r));let o=this.hr.get(n);o===void 0&&(o=ut(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(){this.Pr=new or(Ln.Ir),this.Tr=new or(Ln.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Ln(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Ln(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new Re(new Qt([])),r=new Ln(n,e),i=new Ln(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new Re(new Qt([])),r=new Ln(n,e),i=new Ln(n,e+1);let o=ut();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Ln(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ln{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return Re.comparator(e.key,n.key)||Et(e.pr,n.pr)}static Er(e,n){return Et(e.pr,n.pr)||Re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KJ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new or(Ln.Ir)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new mJ(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.wr=this.wr.add(new Ln(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return oe.resolve(s)}lookupMutationBatch(e,n){return oe.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),o=i<0?0:i;return oe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ln(n,0),i=new Ln(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{const a=this.Sr(s.pr);o.push(a)}),oe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new or(Et);return n.forEach(i=>{const o=new Ln(i,0),s=new Ln(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),oe.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Re.isDocumentKey(o)||(o=o.child(""));const s=new Ln(new Re(o),0);let a=new or(Et);return this.wr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.pr)),!0)},s),oe.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Vt(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return oe.forEach(n.mutations,i=>{const o=new Ln(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Ln(n,0),i=this.wr.firstAfterOrEqual(r);return oe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QJ{constructor(e){this.vr=e,this.docs=function(){return new Sn(Re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return oe.resolve(r?r.document.mutableCopy():mr.newInvalidDocument(n))}getEntries(e,n){let r=_s();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():mr.newInvalidDocument(i))}),oe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=_s();const s=n.path,a=new Re(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||RX(NX(u),r)<=0||(i.has(u.key)||F_(n,u))&&(o=o.insert(u.key,u.mutableCopy()))}return oe.resolve(o)}getAllFromCollectionGroup(e,n,r,i){He()}Fr(e,n){return oe.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new YJ(this)}getSize(e){return oe.resolve(this.size)}}class YJ extends zJ{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),oe.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XJ{constructor(e){this.persistence=e,this.Mr=new Zu(n=>wC(n),xC),this.lastRemoteSnapshotVersion=Ye.min(),this.highestTargetId=0,this.Or=0,this.Nr=new IC,this.targetCount=0,this.Lr=gu.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),oe.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new gu(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.qn(n),oe.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),oe.waitFor(o).next(()=>i)}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return oe.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),oe.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),oe.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return oe.resolve(r)}containsKey(e,n){return oe.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JJ{constructor(e,n){this.Br={},this.overlays={},this.kr=new yC(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new XJ(this),this.indexManager=new UJ,this.remoteDocumentCache=function(i){return new QJ(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new FJ(n),this.$r=new qJ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new GJ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new KJ(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){ge("MemoryPersistence","Starting transaction:",e);const i=new ZJ(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return oe.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class ZJ extends MX{constructor(e){super(),this.currentSequenceNumber=e}}class PC{constructor(e){this.persistence=e,this.zr=new IC,this.jr=null}static Hr(e){return new PC(e)}get Jr(){if(this.jr)return this.jr;throw He()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),oe.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),oe.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.Jr,r=>{const i=Re.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,Ye.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return oe.or([()=>oe.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=ut(),i=ut();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new OC(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eZ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tZ{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return FG()?8:nl.v(En())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new eZ;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Ld()<=lt.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",gc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),oe.resolve()):(Ld()<=lt.DEBUG&&ge("QueryEngine","Query:",gc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Ld()<=lt.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",gc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Oo(n))):oe.resolve())}ji(e,n){if(Ik(n))return oe.resolve(null);let r=Oo(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=w1(n,null,"F"),r=Oo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=ut(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Zi(n,a);return this.Xi(n,c,s,l.readTime)?this.ji(e,w1(n,null,"F")):this.es(e,c,n,l)}))})))}Hi(e,n,r,i){return Ik(n)||i.isEqual(Ye.min())?oe.resolve(null):this.zi.getDocuments(e,r).next(o=>{const s=this.Zi(n,o);return this.Xi(n,s,r,i)?oe.resolve(null):(Ld()<=lt.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),gc(n)),this.es(e,s,n,kX(i,-1)).next(a=>a))})}Zi(e,n){let r=new or(EV(e));return n.forEach((i,o)=>{F_(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return Ld()<=lt.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",gc(n)),this.zi.getDocumentsMatchingQuery(e,n,pa.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nZ{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Sn(Et),this.rs=new Zu(o=>wC(o),xC),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HJ(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function rZ(t,e,n,r){return new nZ(t,e,n,r)}async function HV(t,e){const n=Xe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=ut();for(const c of i){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of o){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({us:c,removedBatchIds:s,addedBatchIds:a}))})})}function iZ(t,e){const n=Xe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,h=d.keys();let p=oe.resolve();return h.forEach(m=>{p=p.next(()=>u.getEntry(l,m)).next(v=>{const y=c.docVersions.get(m);Vt(y!==null),v.version.compareTo(y)<0&&(d.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),u.addEntry(v)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ut();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function qV(t){const e=Xe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function oZ(t,e){const n=Xe(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(o,u.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(o,u.addedDocuments,d)));let p=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(Tr.EMPTY_BYTE_STRING,Ye.min()).withLastLimboFreeSnapshotVersion(Ye.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(d,p),function(v,y,b){return v.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(h,p,u)&&a.push(n.Qr.updateTargetData(o,p))});let l=_s(),c=ut();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(sZ(o,s,e.documentUpdates).next(u=>{l=u.cs,c=u.ls})),!r.isEqual(Ye.min())){const u=n.Qr.getLastRemoteSnapshotVersion(o).next(d=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(u)}return oe.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(n.ns=i,o))}function sZ(t,e,n){let r=ut(),i=ut();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=_s();return n.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Ye.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):ge("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{cs:s,ls:i}})}function aZ(t,e){const n=Xe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function lZ(t,e){const n=Xe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,oe.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new qs(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function C1(t,e,n){const r=Xe(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Kp(s))throw s;ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function Fk(t,e,n){const r=Xe(t);let i=Ye.min(),o=ut();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const d=Xe(l),h=d.rs.get(u);return h!==void 0?oe.resolve(d.ns.get(h)):d.Qr.getTargetData(c,u)}(r,s,Oo(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:Ye.min(),n?o:ut())).next(a=>(cZ(r,eJ(e),a),{documents:a,hs:o})))}function cZ(t,e,n){let r=t.ss.get(e)||Ye.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}class Vk{constructor(){this.activeTargetIds=sJ()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uZ{constructor(){this.no=new Vk,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Vk,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dZ{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zm=null;function Kb(){return zm===null?zm=function(){return 268435456+Math.round(2147483648*Math.random())}():zm++,"0x"+zm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fZ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hZ{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr="WebChannelConnection";class pZ extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${o}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get wo(){return!1}So(n,r,i,o,s){const a=Kb(),l=this.bo(n,r.toUriEncodedString());ge("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(c,o,s),this.Co(n,l,c,i).then(u=>(ge("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw fu("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",i),u})}vo(n,r,i,o,s,a){return this.So(n,r,i,o,s)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ju}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}bo(n,r){const i=fZ[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const o=Kb();return new Promise((s,a)=>{const l=new bX;l.setWithCredentials(!0),l.listenOnce(vX.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case qb.NO_ERROR:const u=l.getResponseJson();ge(dr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),s(u);break;case qb.TIMEOUT:ge(dr,`RPC '${e}' ${o} timed out`),a(new be(ie.DEADLINE_EXCEEDED,"Request time out"));break;case qb.HTTP_ERROR:const d=l.getStatus();if(ge(dr,`RPC '${e}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const m=function(y){const b=y.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(b)>=0?b:ie.UNKNOWN}(p.status);a(new be(m,p.message))}else a(new be(ie.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new be(ie.UNAVAILABLE,"Connection failed."));break;default:He()}}finally{ge(dr,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);ge(dr,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",c,r,15)})}Fo(e,n,r){const i=Kb(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=gX(),a=yX(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=o.join("");ge(dr,`Creating RPC '${e}' stream ${i}: ${u}`,l);const d=s.createWebChannel(u,l);let h=!1,p=!1;const m=new hZ({lo:y=>{p?ge(dr,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(ge(dr,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),ge(dr,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},ho:()=>d.close()}),v=(y,b,g)=>{y.listen(b,_=>{try{g(_)}catch(w){setTimeout(()=>{throw w},0)}})};return v(d,Vm.EventType.OPEN,()=>{p||ge(dr,`RPC '${e}' stream ${i} transport opened.`)}),v(d,Vm.EventType.CLOSE,()=>{p||(p=!0,ge(dr,`RPC '${e}' stream ${i} transport closed`),m.Vo())}),v(d,Vm.EventType.ERROR,y=>{p||(p=!0,fu(dr,`RPC '${e}' stream ${i} transport errored:`,y),m.Vo(new be(ie.UNAVAILABLE,"The operation could not be completed")))}),v(d,Vm.EventType.MESSAGE,y=>{var b;if(!p){const g=y.data[0];Vt(!!g);const _=g,w=_.error||((b=_[0])===null||b===void 0?void 0:b.error);if(w){ge(dr,`RPC '${e}' stream ${i} received error:`,w);const E=w.status;let x=function(O){const I=yn[O];if(I!==void 0)return MV(I)}(E),T=w.message;x===void 0&&(x=ie.INTERNAL,T="Unknown error status: "+E+" with message "+w.message),p=!0,m.Vo(new be(x,T)),d.close()}else ge(dr,`RPC '${e}' stream ${i} received:`,g),m.mo(g)}}),v(a,_X.STAT_EVENT,y=>{y.stat===gk.PROXY?ge(dr,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===gk.NOPROXY&&ge(dr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.Ro()},0),m}}function Qb(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(t){return new TJ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=o,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&ge("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e,n,r,i,o,s,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new GV(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(jo(n.toString()),jo("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new be(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mZ extends KV{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=IJ(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ye.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Ye.min():s.readTime?ko(s.readTime):Ye.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=T1(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=_1(l)?{documents:kJ(o,l)}:{query:NJ(o,l).ut},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=LV(o,s.resumeToken);const c=x1(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(Ye.min())>0){a.readTime=Ly(o,s.snapshotVersion.toTimestamp());const c=x1(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=jJ(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=T1(this.serializer),n.removeTarget=e,this.t_(n)}}class gZ extends KV{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Vt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=OJ(e.writeResults,e.commitTime),r=ko(e.commitTime);return this.listener.T_(r,n)}return Vt(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=T1(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>PJ(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yZ extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new be(ie.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,E1(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new be(ie.UNKNOWN,o.toString())})}vo(e,n,r,i,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,E1(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new be(ie.UNKNOWN,s.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class vZ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(jo(n),this.g_=!1):ge("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Z{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(s=>{r.enqueueAndForget(async()=>{Yl(this)&&(ge("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Xe(l);c.v_.add(4),await Jp(c),c.x_.set("Unknown"),c.v_.delete(4),await W_(c)}(this))})}),this.x_=new vZ(r,i)}}async function W_(t){if(Yl(t))for(const e of t.F_)await e(!0)}async function Jp(t){for(const e of t.F_)await e(!1)}function QV(t,e){const n=Xe(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),jC(n)?RC(n):ed(n).Jo()&&NC(n,e))}function kC(t,e){const n=Xe(t),r=ed(n);n.C_.delete(e),r.Jo()&&YV(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Yl(n)&&n.x_.set("Unknown"))}function NC(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ye.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ed(t).c_(e)}function YV(t,e){t.O_.Oe(e),ed(t).l_(e)}function RC(t){t.O_=new wJ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),ed(t).start(),t.x_.p_()}function jC(t){return Yl(t)&&!ed(t).Ho()&&t.C_.size>0}function Yl(t){return Xe(t).v_.size===0}function XV(t){t.O_=void 0}async function bZ(t){t.C_.forEach((e,n)=>{NC(t,e)})}async function wZ(t,e){XV(t),jC(t)?(t.x_.S_(e),RC(t)):t.x_.set("Unknown")}async function xZ(t,e,n){if(t.x_.set("Online"),e instanceof $V&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Fy(t,r)}else if(e instanceof Rg?t.O_.$e(e):e instanceof DV?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(Ye.min()))try{const r=await qV(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.O_.it(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=o.C_.get(c);u&&o.C_.set(c,u.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const u=o.C_.get(l);if(!u)return;o.C_.set(l,u.withResumeToken(Tr.EMPTY_BYTE_STRING,u.snapshotVersion)),YV(o,l);const d=new qs(u.target,l,c,u.sequenceNumber);NC(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ge("RemoteStore","Failed to raise snapshot:",r),await Fy(t,r)}}async function Fy(t,e,n){if(!Kp(e))throw e;t.v_.add(1),await Jp(t),t.x_.set("Offline"),n||(n=()=>qV(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ge("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await W_(t)})}function JV(t,e){return e().catch(n=>Fy(t,n,e))}async function H_(t){const e=Xe(t),n=ga(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;EZ(e);)try{const i=await aZ(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,SZ(e,i)}catch(i){await Fy(e,i)}ZV(e)&&eU(e)}function EZ(t){return Yl(t)&&t.D_.length<10}function SZ(t,e){t.D_.push(e);const n=ga(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function ZV(t){return Yl(t)&&!ga(t).Ho()&&t.D_.length>0}function eU(t){ga(t).start()}async function TZ(t){ga(t).d_()}async function CZ(t){const e=ga(t);for(const n of t.D_)e.I_(n.mutations)}async function AZ(t,e,n){const r=t.D_.shift(),i=TC.from(r,e,n);await JV(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await H_(t)}async function IZ(t,e){e&&ga(t).P_&&await async function(r,i){if(function(s){return vJ(s)&&s!==ie.ABORTED}(i.code)){const o=r.D_.shift();ga(r).Zo(),await JV(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await H_(r)}}(t,e),ZV(t)&&eU(t)}async function Bk(t,e){const n=Xe(t);n.asyncQueue.verifyOperationInProgress(),ge("RemoteStore","RemoteStore received new credentials");const r=Yl(n);n.v_.add(3),await Jp(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await W_(n)}async function PZ(t,e){const n=Xe(t);e?(n.v_.delete(2),await W_(n)):e||(n.v_.add(2),await Jp(n),n.x_.set("Unknown"))}function ed(t){return t.N_||(t.N_=function(n,r,i){const o=Xe(n);return o.R_(),new mZ(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:bZ.bind(null,t),To:wZ.bind(null,t),u_:xZ.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),jC(t)?RC(t):t.x_.set("Unknown")):(await t.N_.stop(),XV(t))})),t.N_}function ga(t){return t.L_||(t.L_=function(n,r,i){const o=Xe(n);return o.R_(),new gZ(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:TZ.bind(null,t),To:IZ.bind(null,t),E_:CZ.bind(null,t),T_:AZ.bind(null,t)}),t.F_.push(async e=>{e?(t.L_.Zo(),await H_(t)):(await t.L_.stop(),t.D_.length>0&&(ge("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Po,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new MC(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function DC(t,e){if(jo("AsyncQueue",`${e}: ${t}`),Kp(t))return new be(ie.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Re.comparator(n.key,r.key):(n,r)=>Re.comparator(n.key,r.key),this.keyedMap=ff(),this.sortedSet=new Sn(this.comparator)}static emptySet(e){return new Yc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Yc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Yc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(){this.B_=new Sn(Re.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):He():this.B_=this.B_.insert(n,e)}k_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class yu{constructor(e,n,r,i,o,s,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new yu(e,n,Yc.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&L_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OZ{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}}class kZ{constructor(){this.queries=new Zu(e=>xV(e),L_),this.onlineState="Unknown",this.W_=new Set}}async function tU(t,e){const n=Xe(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.K_()&&e.U_()&&(r=2):(o=new OZ,r=e.U_()?0:1);try{switch(r){case 0:o.q_=await n.onListen(i,!0);break;case 1:o.q_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=DC(s,`Initialization of query '${gc(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Q_.push(e),e.G_(n.onlineState),o.q_&&e.z_(o.q_)&&$C(n)}async function nU(t,e){const n=Xe(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.Q_.indexOf(e);s>=0&&(o.Q_.splice(s,1),o.Q_.length===0?i=e.U_()?0:1:!o.K_()&&e.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function NZ(t,e){const n=Xe(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.Q_)a.z_(i)&&(r=!0);s.q_=i}}r&&$C(n)}function RZ(t,e,n){const r=Xe(t),i=r.queries.get(e);if(i)for(const o of i.Q_)o.onError(n);r.queries.delete(e)}function $C(t){t.W_.forEach(e=>{e.next()})}var A1,Wk;(Wk=A1||(A1={})).j_="default",Wk.Cache="cache";class rU{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new yu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;const r=n!=="Offline";return(!this.options.ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;const n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=yu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==A1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(e){this.key=e}}class oU{constructor(e){this.key=e}}class jZ{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=ut(),this.mutatedKeys=ut(),this.ha=EV(e),this.Pa=new Yc(this.ha)}get Ia(){return this.ua}Ta(e,n){const r=n?n.Ea:new zk,i=n?n.Pa:this.Pa;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),p=F_(this.query,d)?d:null,m=!!h&&this.mutatedKeys.has(h.key),v=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;h&&p?h.data.isEqual(p.data)?m!==v&&(r.track({type:3,doc:p}),y=!0):this.da(h,p)||(r.track({type:2,doc:p}),y=!0,(l&&this.ha(p,l)>0||c&&this.ha(p,c)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),y=!0):h&&!p&&(r.track({type:1,doc:h}),y=!0,(l||c)&&(a=!0)),y&&(p?(s=s.add(p),o=v?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),r.track({type:1,doc:u})}return{Pa:s,Ea:r,Xi:a,mutatedKeys:o}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const s=e.Ea.k_();s.sort((u,d)=>function(p,m){const v=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return He()}};return v(p)-v(m)}(u.type,d.type)||this.ha(u.doc,d.doc)),this.Aa(r),i=i!=null&&i;const a=n&&!i?this.Ra():[],l=this.la.size===0&&this.current&&!i?1:0,c=l!==this.ca;return this.ca=l,s.length!==0||c?{snapshot:new yu(this.query,e.Pa,o,s,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new zk,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=ut(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});const n=[];return e.forEach(r=>{this.la.has(r)||n.push(new oU(r))}),this.la.forEach(r=>{e.has(r)||n.push(new iU(r))}),n}fa(e){this.ua=e.hs,this.la=ut();const n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return yu.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}}class MZ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class DZ{constructor(e){this.key=e,this.pa=!1}}class $Z{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.ya={},this.wa=new Zu(a=>xV(a),L_),this.Sa=new Map,this.ba=new Set,this.Da=new Sn(Re.comparator),this.Ca=new Map,this.va=new IC,this.Fa={},this.Ma=new Map,this.xa=gu.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}}async function LZ(t,e,n=!0){const r=dU(t);let i;const o=r.wa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ga()):i=await sU(r,e,n,!0),i}async function FZ(t,e){const n=dU(t);await sU(n,e,!0,!1)}async function sU(t,e,n,r){const i=await lZ(t.localStore,Oo(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return r&&(a=await VZ(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&QV(t.remoteStore,i),a}async function VZ(t,e,n,r,i){t.Na=(d,h,p)=>async function(v,y,b,g){let _=y.view.Ta(b);_.Xi&&(_=await Fk(v.localStore,y.query,!1).then(({documents:T})=>y.view.Ta(T,_)));const w=g&&g.targetChanges.get(y.targetId),E=g&&g.targetMismatches.get(y.targetId)!=null,x=y.view.applyChanges(_,v.isPrimaryClient,w,E);return qk(v,y.targetId,x.Va),x.snapshot}(t,d,h,p);const o=await Fk(t.localStore,e,!0),s=new jZ(e,o.hs),a=s.Ta(o.documents),l=Xp.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(a,t.isPrimaryClient,l);qk(t,n,c.Va);const u=new MZ(e,n,s);return t.wa.set(e,u),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),c.snapshot}async function UZ(t,e,n){const r=Xe(t),i=r.wa.get(e),o=r.Sa.get(i.targetId);if(o.length>1)return r.Sa.set(i.targetId,o.filter(s=>!L_(s,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await C1(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&kC(r.remoteStore,i.targetId),I1(r,i.targetId)}).catch(Gp)):(I1(r,i.targetId),await C1(r.localStore,i.targetId,!0))}async function BZ(t,e){const n=Xe(t),r=n.wa.get(e),i=n.Sa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),kC(n.remoteStore,r.targetId))}async function zZ(t,e,n){const r=YZ(t);try{const i=await function(s,a){const l=Xe(s),c=Rn.now(),u=a.reduce((p,m)=>p.add(m.key),ut());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=_s(),v=ut();return l.os.getEntries(p,u).next(y=>{m=y,m.forEach((b,g)=>{g.isValidDocument()||(v=v.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(y=>{d=y;const b=[];for(const g of a){const _=hJ(g,d.get(g.key).overlayedDocument);_!=null&&b.push(new Oa(g.key,_,pV(_.value.mapValue),Ai.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,b,a)}).next(y=>{h=y;const b=y.applyToLocalDocumentSet(d,v);return l.documentOverlayCache.saveOverlays(p,y.batchId,b)})}).then(()=>({batchId:h.batchId,changes:TV(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let c=s.Fa[s.currentUser.toKey()];c||(c=new Sn(Et)),c=c.insert(a,l),s.Fa[s.currentUser.toKey()]=c}(r,i.batchId,n),await Zp(r,i.changes),await H_(r.remoteStore)}catch(i){const o=DC(i,"Failed to persist write");n.reject(o)}}async function aU(t,e){const n=Xe(t);try{const r=await oZ(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Ca.get(o);s&&(Vt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.pa=!0:i.modifiedDocuments.size>0?Vt(s.pa):i.removedDocuments.size>0&&(Vt(s.pa),s.pa=!1))}),await Zp(n,r,e)}catch(r){await Gp(r)}}function Hk(t,e,n){const r=Xe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wa.forEach((o,s)=>{const a=s.view.G_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Xe(s);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.Q_)h.G_(a)&&(c=!0)}),c&&$C(l)}(r.eventManager,e),i.length&&r.ya.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function WZ(t,e,n){const r=Xe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ca.get(e),o=i&&i.key;if(o){let s=new Sn(Re.comparator);s=s.insert(o,mr.newNoDocument(o,Ye.min()));const a=ut().add(o),l=new B_(Ye.min(),new Map,new Sn(Et),s,a);await aU(r,l),r.Da=r.Da.remove(o),r.Ca.delete(e),LC(r)}else await C1(r.localStore,e,!1).then(()=>I1(r,e,n)).catch(Gp)}async function HZ(t,e){const n=Xe(t),r=e.batch.batchId;try{const i=await iZ(n.localStore,e);cU(n,r,null),lU(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Zp(n,i)}catch(i){await Gp(i)}}async function qZ(t,e,n){const r=Xe(t);try{const i=await function(s,a){const l=Xe(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(Vt(d!==null),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);cU(r,e,n),lU(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Zp(r,i)}catch(i){await Gp(i)}}function lU(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function cU(t,e,n){const r=Xe(t);let i=r.Fa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Fa[r.currentUser.toKey()]=i}}function I1(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||uU(t,r)})}function uU(t,e){t.ba.delete(e.path.canonicalString());const n=t.Da.get(e);n!==null&&(kC(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),LC(t))}function qk(t,e,n){for(const r of n)r instanceof iU?(t.va.addReference(r.key,e),GZ(t,r)):r instanceof oU?(ge("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||uU(t,r.key)):He()}function GZ(t,e){const n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||(ge("SyncEngine","New document in limbo: "+n),t.ba.add(r),LC(t))}function LC(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){const e=t.ba.values().next().value;t.ba.delete(e);const n=new Re(Qt.fromString(e)),r=t.xa.next();t.Ca.set(r,new DZ(n)),t.Da=t.Da.insert(n,r),QV(t.remoteStore,new qs(Oo(EC(n.path)),r,"TargetPurposeLimboResolution",yC._e))}}async function Zp(t,e,n){const r=Xe(t),i=[],o=[],s=[];r.wa.isEmpty()||(r.wa.forEach((a,l)=>{s.push(r.Na(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const u=OC.Ki(l.targetId,c);o.push(u)}}))}),await Promise.all(s),r.ya.u_(i),await async function(l,c){const u=Xe(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>oe.forEach(c,h=>oe.forEach(h.qi,p=>u.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>oe.forEach(h.Qi,p=>u.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!Kp(d))throw d;ge("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const p=u.ns.get(h),m=p.snapshotVersion,v=p.withLastLimboFreeSnapshotVersion(m);u.ns=u.ns.insert(h,v)}}}(r.localStore,o))}async function KZ(t,e){const n=Xe(t);if(!n.currentUser.isEqual(e)){ge("SyncEngine","User change. New user:",e.toKey());const r=await HV(n.localStore,e);n.currentUser=e,function(o,s){o.Ma.forEach(a=>{a.forEach(l=>{l.reject(new be(ie.CANCELLED,s))})}),o.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Zp(n,r.us)}}function QZ(t,e){const n=Xe(t),r=n.Ca.get(e);if(r&&r.pa)return ut().add(r.key);{let i=ut();const o=n.Sa.get(e);if(!o)return i;for(const s of o){const a=n.wa.get(s);i=i.unionWith(a.view.Ia)}return i}}function dU(t){const e=Xe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=aU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QZ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WZ.bind(null,e),e.ya.u_=NZ.bind(null,e.eventManager),e.ya.La=RZ.bind(null,e.eventManager),e}function YZ(t){const e=Xe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HZ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qZ.bind(null,e),e}class Gk{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=z_(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return rZ(this.persistence,new tZ,e.initialUser,this.serializer)}createPersistence(e){return new JJ(PC.Hr,this.serializer)}createSharedClientState(e){return new uZ}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class XZ{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Hk(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=KZ.bind(null,this.syncEngine),await PZ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new kZ}()}createDatastore(e){const n=z_(e.databaseInfo.databaseId),r=function(o){return new pZ(o)}(e.databaseInfo);return function(o,s,a,l){return new yZ(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new _Z(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Hk(this.syncEngine,n,0),function(){return Uk.D()?new Uk:new dZ}())}createSyncEngine(e,n){return function(i,o,s,a,l,c,u){const d=new $Z(i,o,s,a,l,c);return u&&(d.Oa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=Xe(r);ge("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await Jp(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fU{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):jo("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JZ{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=hr.UNAUTHENTICATED,this.clientId=dV.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{ge("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ge("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new be(ie.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Po;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=DC(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Yb(t,e){t.asyncQueue.verifyOperationInProgress(),ge("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await HV(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Kk(t,e){t.asyncQueue.verifyOperationInProgress();const n=await eee(t);ge("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Bk(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Bk(e.remoteStore,i)),t._onlineComponents=e}function ZZ(t){return t.name==="FirebaseError"?t.code===ie.FAILED_PRECONDITION||t.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function eee(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ge("FirestoreClient","Using user provided OfflineComponentProvider");try{await Yb(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!ZZ(n))throw n;fu("Error using user provided cache. Falling back to memory cache: "+n),await Yb(t,new Gk)}}else ge("FirestoreClient","Using default OfflineComponentProvider"),await Yb(t,new Gk);return t._offlineComponents}async function hU(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ge("FirestoreClient","Using user provided OnlineComponentProvider"),await Kk(t,t._uninitializedComponentsProvider._online)):(ge("FirestoreClient","Using default OnlineComponentProvider"),await Kk(t,new XZ))),t._onlineComponents}function tee(t){return hU(t).then(e=>e.syncEngine)}async function pU(t){const e=await hU(t),n=e.eventManager;return n.onListen=LZ.bind(null,e.syncEngine),n.onUnlisten=UZ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=FZ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=BZ.bind(null,e.syncEngine),n}function nee(t,e,n={}){const r=new Po;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,c){const u=new fU({next:h=>{s.enqueueAndForget(()=>nU(o,d));const p=h.docs.has(a);!p&&h.fromCache?c.reject(new be(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?c.reject(new be(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new rU(EC(a.path),u,{includeMetadataChanges:!0,ta:!0});return tU(o,d)}(await pU(t),t.asyncQueue,e,n,r)),r.promise}function ree(t,e,n={}){const r=new Po;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,c){const u=new fU({next:h=>{s.enqueueAndForget(()=>nU(o,d)),h.fromCache&&l.source==="server"?c.reject(new be(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new rU(a,u,{includeMetadataChanges:!0,ta:!0});return tU(o,d)}(await pU(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mU(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gU(t,e,n){if(!n)throw new be(ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function iee(t,e,n,r){if(e===!0&&r===!0)throw new be(ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Yk(t){if(!Re.isDocumentKey(t))throw new be(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Xk(t){if(Re.isDocumentKey(t))throw new be(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function q_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":He()}function lo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new be(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=q_(t);throw new be(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new be(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new be(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}iee("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mU((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new be(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new be(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new be(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class G_{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jk({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new be(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new be(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jk(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new xX;switch(r.type){case"firstParty":return new CX(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new be(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Qk.get(n);r&&(ge("ComponentProvider","Removing Datastore"),Qk.delete(n),r.terminate())}(this),Promise.resolve()}}function oee(t,e,n,r={}){var i;const o=(t=lo(t,G_))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&fu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=hr.MOCK_USER;else{a=_F(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new be(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new hr(c)}t._authCredentials=new EX(new uV(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new td(this.firestore,e,this._query)}}class Rr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rr(this.firestore,e,this._key)}}class oa extends td{constructor(e,n,r){super(e,n,EC(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rr(this.firestore,null,new Re(e))}withConverter(e){return new oa(this.firestore,e,this._path)}}function me(t,e,...n){if(t=on(t),gU("collection","path",e),t instanceof G_){const r=Qt.fromString(e,...n);return Xk(r),new oa(t,null,r)}{if(!(t instanceof Rr||t instanceof oa))throw new be(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Qt.fromString(e,...n));return Xk(r),new oa(t.firestore,null,r)}}function Ae(t,e,...n){if(t=on(t),arguments.length===1&&(e=dV.newId()),gU("doc","path",e),t instanceof G_){const r=Qt.fromString(e,...n);return Yk(r),new Rr(t,null,new Re(r))}{if(!(t instanceof Rr||t instanceof oa))throw new be(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Qt.fromString(e,...n));return Yk(r),new Rr(t.firestore,t instanceof oa?t.converter:null,new Re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class see{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new GV(this,"async_queue_retry"),this.cu=()=>{const n=Qb();n&&ge("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=Qb();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const n=Qb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});const n=new Po;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}async Pu(){if(this.ru.length!==0){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!Kp(e))throw e;ge("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}}hu(e){const n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw jo("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);const i=MC.createAndSchedule(this,e,n,r,o=>this.Iu(o));return this.su.push(i),i}lu(){this.ou&&He()}verifyOperationInProgress(){}async Tu(){let e;do e=this.nu,await e;while(e!==this.nu)}Eu(e){for(const n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){const n=this.su.indexOf(e);this.su.splice(n,1)}}class Xl extends G_{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new see}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||yU(this),this._firestoreClient.terminate()}}function aee(t,e){const n=typeof t=="object"?t:jT(),r=typeof t=="string"?t:e||"(default)",i=g_(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=gF("firestore");o&&oee(i,...o)}return i}function FC(t){return t._firestoreClient||yU(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function yU(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,c,u){return new VX(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,mU(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new JZ(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vu(Tr.fromBase64String(e))}catch(n){throw new be(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new vu(Tr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new be(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new be(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new be(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Et(this._lat,e._lat)||Et(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lee=/^__.*__$/;class cee{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Oa(e,this.data,this.fieldMask,n,this.fieldTransforms):new Yp(e,this.data,n,this.fieldTransforms)}}class vU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Oa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function _U(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw He()}}class BC{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ru(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new BC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.pu(e),i}yu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.Ru(),i}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return Vy(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(_U(this.Vu)&&lee.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class uee{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||z_(e)}Cu(e,n,r,i=!1){return new BC({Vu:e,methodName:n,Du:r,path:tr.emptyPath(),gu:!1,bu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Q_(t){const e=t._freezeSettings(),n=z_(t._databaseId);return new uee(t._databaseId,!!e.ignoreUndefinedProperties,n)}function bU(t,e,n,r,i,o={}){const s=t.Cu(o.merge||o.mergeFields?2:0,e,n,i);zC("Data must be an object, but it was:",s,r);const a=wU(r,s);let l,c;if(o.merge)l=new ii(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const d of o.mergeFields){const h=P1(e,d,n);if(!s.contains(h))throw new be(ie.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);EU(u,h)||u.push(h)}l=new ii(u),c=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=s.fieldTransforms;return new cee(new Br(a),l,c)}class Y_ extends VC{_toFieldTransform(e){if(e.Vu!==2)throw e.Vu===1?e.Su(`${this._methodName}() can only appear at the top level of your update data`):e.Su(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Y_}}function dee(t,e,n,r){const i=t.Cu(1,e,n);zC("Data must be an object, but it was:",i,r);const o=[],s=Br.empty();Ql(r,(l,c)=>{const u=WC(e,l,n);c=on(c);const d=i.yu(u);if(c instanceof Y_)o.push(u);else{const h=em(c,d);h!=null&&(o.push(u),s.set(u,h))}});const a=new ii(o);return new vU(s,a,i.fieldTransforms)}function fee(t,e,n,r,i,o){const s=t.Cu(1,e,n),a=[P1(e,r,n)],l=[i];if(o.length%2!=0)throw new be(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(P1(e,o[h])),l.push(o[h+1]);const c=[],u=Br.empty();for(let h=a.length-1;h>=0;--h)if(!EU(c,a[h])){const p=a[h];let m=l[h];m=on(m);const v=s.yu(p);if(m instanceof Y_)c.push(p);else{const y=em(m,v);y!=null&&(c.push(p),u.set(p,y))}}const d=new ii(c);return new vU(u,d,s.fieldTransforms)}function hee(t,e,n,r=!1){return em(n,t.Cu(r?4:3,e))}function em(t,e){if(xU(t=on(t)))return zC("Unsupported field value:",e,t),wU(t,e);if(t instanceof VC)return function(r,i){if(!_U(i.Vu))throw i.Su(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Su(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=em(a,i.wu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=on(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return aJ(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Rn.fromDate(r);return{timestampValue:Ly(i.serializer,o)}}if(r instanceof Rn){const o=new Rn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ly(i.serializer,o)}}if(r instanceof UC)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof vu)return{bytesValue:LV(i.serializer,r._byteString)};if(r instanceof Rr){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Su(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:AC(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Su(`Unsupported field value: ${q_(r)}`)}(t,e)}function wU(t,e){const n={};return fV(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ql(t,(r,i)=>{const o=em(i,e.fu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function xU(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Rn||t instanceof UC||t instanceof vu||t instanceof Rr||t instanceof VC)}function zC(t,e,n){if(!xU(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=q_(n);throw r==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+r)}}function P1(t,e,n){if((e=on(e))instanceof K_)return e._internalPath;if(typeof e=="string")return WC(t,e);throw Vy("Field path arguments must be of type string or ",t,!1,void 0,n)}const pee=new RegExp("[~\\*/\\[\\]]");function WC(t,e,n){if(e.search(pee)>=0)throw Vy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new K_(...e.split("."))._internalPath}catch{throw Vy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Vy(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new be(ie.INVALID_ARGUMENT,a+t+l)}function EU(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Rr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mee(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(HC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class mee extends SU{data(){return super.data()}}function HC(t,e){return typeof e=="string"?WC(t,e):e instanceof K_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gee(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new be(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qC{}class yee extends qC{}function nt(t,e,...n){let r=[];e instanceof qC&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof GC).length,a=o.filter(l=>l instanceof X_).length;if(s>1||s>0&&a>0)throw new be(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class X_ extends yee{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new X_(e,n,r)}_apply(e){const n=this._parse(e);return TU(e._query,n),new td(e.firestore,e.converter,b1(e._query,n))}_parse(e){const n=Q_(e.firestore);return function(o,s,a,l,c,u,d){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new be(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){eN(d,u);const p=[];for(const m of d)p.push(Zk(l,o,m));h={arrayValue:{values:p}}}else h=Zk(l,o,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||eN(d,u),h=hee(a,s,d,u==="in"||u==="not-in");return wn.create(c,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function rt(t,e,n){const r=e,i=HC("where",t);return X_._create(i,r,n)}class GC extends qC{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new GC(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ao.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)TU(s,l),s=b1(s,l)}(e._query,n),new td(e.firestore,e.converter,b1(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Zk(t,e,n){if(typeof(n=on(n))=="string"){if(n==="")throw new be(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wV(e)&&n.indexOf("/")!==-1)throw new be(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Qt.fromString(n));if(!Re.isDocumentKey(r))throw new be(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return xk(t,new Re(r))}if(n instanceof Rr)return xk(t,n._key);throw new be(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${q_(n)}.`)}function eN(t,e){if(!Array.isArray(t)||t.length===0)throw new be(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function TU(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new be(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new be(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class vee{convertValue(e,n="none"){switch(Nl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(kl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw He()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ql(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new UC(vn(e.latitude),vn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=_C(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Nh(e));default:return null}}convertTimestamp(e){const n=ma(e);return new Rn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Qt.fromString(e);Vt(WV(r));const i=new Rh(r.get(1),r.get(3)),o=new Re(r.popFirst(5));return i.isEqual(n)||jo(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CU(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class AU extends SU{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new jg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(HC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class jg extends AU{data(e={}){return super.data(e)}}class _ee{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new pf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new jg(this._firestore,this._userDataWriter,r.key,r,new pf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new be(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new jg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new pf(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new jg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new pf(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:bee(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function bee(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return He()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(t){t=lo(t,Rr);const e=lo(t.firestore,Xl);return nee(FC(e),t._key).then(n=>xee(e,t,n))}class IU extends vee{constructor(e){super(),this.firestore=e}convertBytes(e){return new vu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rr(this.firestore,null,n)}}function Ue(t){t=lo(t,td);const e=lo(t.firestore,Xl),n=FC(e),r=new IU(e);return gee(t._query),ree(n,t._query).then(i=>new _ee(e,r,t,i))}function Do(t,e,n){t=lo(t,Rr);const r=lo(t.firestore,Xl),i=CU(t.converter,e,n);return J_(r,[bU(Q_(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ai.none())])}function De(t,e,n,...r){t=lo(t,Rr);const i=lo(t.firestore,Xl),o=Q_(i);let s;return s=typeof(e=on(e))=="string"||e instanceof K_?fee(o,"updateDoc",t._key,e,n,r):dee(o,"updateDoc",t._key,e),J_(i,[s.toMutation(t._key,Ai.exists(!0))])}function wee(t){return J_(lo(t.firestore,Xl),[new SC(t._key,Ai.none())])}function tm(t,e){const n=lo(t.firestore,Xl),r=Ae(t),i=CU(t.converter,e);return J_(n,[bU(Q_(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ai.exists(!1))]).then(()=>r)}function J_(t,e){return function(r,i){const o=new Po;return r.asyncQueue.enqueueAndForget(async()=>zZ(await tee(r),i,o)),o.promise}(FC(t),e)}function xee(t,e,n){const r=n.docs.get(e._key),i=new IU(t);return new AU(t,i,e._key,r,new pf(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Ju=i})(Sa),ha(new gs("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Xl(new SX(r.getProvider("auth-internal")),new IX(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new be(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rh(c.options.projectId,u)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ci(yk,"4.5.1",e),Ci(yk,"4.5.1","esm2017")})();var Eee="firebase",See="10.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ci(Eee,See,"app");const Tee={apiKey:"AIzaSyBWHTD8IFWgsg6WgO-pwLl8PXEGjmzEpYc",authDomain:"lee-con-booku.firebaseapp.com",projectId:"lee-con-booku",storageBucket:"lee-con-booku.appspot.com",messagingSenderId:"456466964199",appId:"1:456466964199:web:58ff5bff157575b6324c42"},PU=CF(Tee),sa=Ni(PU),le=aee(PU);var OU={exports:{}};(function(t,e){(function(n,r){t.exports=r(S)})(typeof self<"u"?self:nf,function(n){return function(r){var i={};function o(s){if(i[s])return i[s].exports;var a=i[s]={i:s,l:!1,exports:{}};return r[s].call(a.exports,a,a.exports,o),a.l=!0,a.exports}return o.m=r,o.c=i,o.d=function(s,a,l){o.o(s,a)||Object.defineProperty(s,a,{enumerable:!0,get:l})},o.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},o.t=function(s,a){if(1&a&&(s=o(s)),8&a||4&a&&typeof s=="object"&&s&&s.__esModule)return s;var l=Object.create(null);if(o.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:s}),2&a&&typeof s!="string")for(var c in s)o.d(l,c,(function(u){return s[u]}).bind(null,c));return l},o.n=function(s){var a=s&&s.__esModule?function(){return s.default}:function(){return s};return o.d(a,"a",a),a},o.o=function(s,a){return Object.prototype.hasOwnProperty.call(s,a)},o.p="",o(o.s=2)}([function(r,i){r.exports=n},function(r,i,o){var s={linear:function(a,l,c,u){return(c-l)*a/u+l},easeInQuad:function(a,l,c,u){return(c-l)*(a/=u)*a+l},easeOutQuad:function(a,l,c,u){return-(c-l)*(a/=u)*(a-2)+l},easeInOutQuad:function(a,l,c,u){var d=c-l;return(a/=u/2)<1?d/2*a*a+l:-d/2*(--a*(a-2)-1)+l},easeInCubic:function(a,l,c,u){return(c-l)*(a/=u)*a*a+l},easeOutCubic:function(a,l,c,u){return(c-l)*((a=a/u-1)*a*a+1)+l},easeInOutCubic:function(a,l,c,u){var d=c-l;return(a/=u/2)<1?d/2*a*a*a+l:d/2*((a-=2)*a*a+2)+l},easeInQuart:function(a,l,c,u){return(c-l)*(a/=u)*a*a*a+l},easeOutQuart:function(a,l,c,u){return-(c-l)*((a=a/u-1)*a*a*a-1)+l},easeInOutQuart:function(a,l,c,u){var d=c-l;return(a/=u/2)<1?d/2*a*a*a*a+l:-d/2*((a-=2)*a*a*a-2)+l},easeInQuint:function(a,l,c,u){return(c-l)*(a/=u)*a*a*a*a+l},easeOutQuint:function(a,l,c,u){return(c-l)*((a=a/u-1)*a*a*a*a+1)+l},easeInOutQuint:function(a,l,c,u){var d=c-l;return(a/=u/2)<1?d/2*a*a*a*a*a+l:d/2*((a-=2)*a*a*a*a+2)+l},easeInSine:function(a,l,c,u){var d=c-l;return-d*Math.cos(a/u*(Math.PI/2))+d+l},easeOutSine:function(a,l,c,u){return(c-l)*Math.sin(a/u*(Math.PI/2))+l},easeInOutSine:function(a,l,c,u){return-(c-l)/2*(Math.cos(Math.PI*a/u)-1)+l},easeInExpo:function(a,l,c,u){return a==0?l:(c-l)*Math.pow(2,10*(a/u-1))+l},easeOutExpo:function(a,l,c,u){var d=c-l;return a==u?l+d:d*(1-Math.pow(2,-10*a/u))+l},easeInOutExpo:function(a,l,c,u){var d=c-l;return a===0?l:a===u?l+d:(a/=u/2)<1?d/2*Math.pow(2,10*(a-1))+l:d/2*(2-Math.pow(2,-10*--a))+l},easeInCirc:function(a,l,c,u){return-(c-l)*(Math.sqrt(1-(a/=u)*a)-1)+l},easeOutCirc:function(a,l,c,u){return(c-l)*Math.sqrt(1-(a=a/u-1)*a)+l},easeInOutCirc:function(a,l,c,u){var d=c-l;return(a/=u/2)<1?-d/2*(Math.sqrt(1-a*a)-1)+l:d/2*(Math.sqrt(1-(a-=2)*a)+1)+l},easeInElastic:function(a,l,c,u){var d,h,p,m=c-l;return p=1.70158,a===0?l:(a/=u)==1?l+m:((h=0)||(h=.3*u),(d=m)<Math.abs(m)?(d=m,p=h/4):p=h/(2*Math.PI)*Math.asin(m/d),-d*Math.pow(2,10*(a-=1))*Math.sin((a*u-p)*(2*Math.PI)/h)+l)},easeOutElastic:function(a,l,c,u){var d,h,p,m=c-l;return p=1.70158,a===0?l:(a/=u)==1?l+m:((h=0)||(h=.3*u),(d=m)<Math.abs(m)?(d=m,p=h/4):p=h/(2*Math.PI)*Math.asin(m/d),d*Math.pow(2,-10*a)*Math.sin((a*u-p)*(2*Math.PI)/h)+m+l)},easeInOutElastic:function(a,l,c,u){var d,h,p,m=c-l;return p=1.70158,a===0?l:(a/=u/2)==2?l+m:((h=0)||(h=u*.44999999999999996),(d=m)<Math.abs(m)?(d=m,p=h/4):p=h/(2*Math.PI)*Math.asin(m/d),a<1?d*Math.pow(2,10*(a-=1))*Math.sin((a*u-p)*(2*Math.PI)/h)*-.5+l:d*Math.pow(2,-10*(a-=1))*Math.sin((a*u-p)*(2*Math.PI)/h)*.5+m+l)},easeInBack:function(a,l,c,u,d){return d===void 0&&(d=1.70158),(c-l)*(a/=u)*a*((d+1)*a-d)+l},easeOutBack:function(a,l,c,u,d){return d===void 0&&(d=1.70158),(c-l)*((a=a/u-1)*a*((d+1)*a+d)+1)+l},easeInOutBack:function(a,l,c,u,d){var h=c-l;return d===void 0&&(d=1.70158),(a/=u/2)<1?h/2*(a*a*((1+(d*=1.525))*a-d))+l:h/2*((a-=2)*a*((1+(d*=1.525))*a+d)+2)+l},easeInBounce:function(a,l,c,u){var d=c-l;return d-s.easeOutBounce(u-a,0,d,u)+l},easeOutBounce:function(a,l,c,u){var d=c-l;return(a/=u)<.36363636363636365?d*(7.5625*a*a)+l:a<.7272727272727273?d*(7.5625*(a-=.5454545454545454)*a+.75)+l:a<.9090909090909091?d*(7.5625*(a-=.8181818181818182)*a+.9375)+l:d*(7.5625*(a-=.9545454545454546)*a+.984375)+l},easeInOutBounce:function(a,l,c,u){var d=c-l;return a<u/2?.5*s.easeInBounce(2*a,0,d,u)+l:.5*s.easeOutBounce(2*a-u,0,d,u)+.5*d+l}};r.exports=s},function(r,i,o){r.exports=o(3)},function(r,i,o){o.r(i),o.d(i,"ReactConfetti",function(){return J});var s,a,l=o(0),c=o.n(l),u=o(1),d=o.n(u);function h(k,A){return k+Math.random()*(A-k)}function p(k,A){for(var $=0;$<A.length;$++){var R=A[$];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(k,R.key,R)}}function m(k,A,$){return A in k?Object.defineProperty(k,A,{value:$,enumerable:!0,configurable:!0,writable:!0}):k[A]=$,k}(function(k){k[k.Circle=0]="Circle",k[k.Square=1]="Square",k[k.Strip=2]="Strip"})(s||(s={})),function(k){k[k.Positive=1]="Positive",k[k.Negative=-1]="Negative"}(a||(a={}));var v=function(){function k(R,F,G,H){(function(Rt,mn){if(!(Rt instanceof mn))throw new TypeError("Cannot call a class as a function")})(this,k),m(this,"context",void 0),m(this,"radius",void 0),m(this,"x",void 0),m(this,"y",void 0),m(this,"w",void 0),m(this,"h",void 0),m(this,"vx",void 0),m(this,"vy",void 0),m(this,"shape",void 0),m(this,"angle",void 0),m(this,"angularSpin",void 0),m(this,"color",void 0),m(this,"rotateY",void 0),m(this,"rotationDirection",void 0),m(this,"getOptions",void 0),this.getOptions=F;var ae,de,pe=this.getOptions(),Se=pe.colors,gt=pe.initialVelocityX,je=pe.initialVelocityY;this.context=R,this.x=G,this.y=H,this.w=h(5,20),this.h=h(5,20),this.radius=h(5,10),this.vx=typeof gt=="number"?h(-gt,gt):h(gt.min,gt.max),this.vy=typeof je=="number"?h(-je,0):h(je.min,je.max),this.shape=(ae=0,de=2,Math.floor(ae+Math.random()*(de-ae+1))),this.angle=h(0,360)*Math.PI/180,this.angularSpin=h(-.2,.2),this.color=Se[Math.floor(Math.random()*Se.length)],this.rotateY=h(0,1),this.rotationDirection=h(0,1)?a.Positive:a.Negative}var A,$;return A=k,($=[{key:"update",value:function(){var R=this.getOptions(),F=R.gravity,G=R.wind,H=R.friction,ae=R.opacity,de=R.drawShape;this.x+=this.vx,this.y+=this.vy,this.vy+=F,this.vx+=G,this.vx*=H,this.vy*=H,this.rotateY>=1&&this.rotationDirection===a.Positive?this.rotationDirection=a.Negative:this.rotateY<=-1&&this.rotationDirection===a.Negative&&(this.rotationDirection=a.Positive);var pe=.1*this.rotationDirection;if(this.rotateY+=pe,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=ae,this.context.lineCap="round",this.context.lineWidth=2,de&&typeof de=="function")de.call(this,this.context);else switch(this.shape){case s.Circle:this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break;case s.Square:this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break;case s.Strip:this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h)}this.context.closePath(),this.context.restore()}}])&&p(A.prototype,$),k}();function y(k,A,$){return A in k?Object.defineProperty(k,A,{value:$,enumerable:!0,configurable:!0,writable:!0}):k[A]=$,k}var b=function k(A,$){var R=this;(function(G,H){if(!(G instanceof H))throw new TypeError("Cannot call a class as a function")})(this,k),y(this,"canvas",void 0),y(this,"context",void 0),y(this,"getOptions",void 0),y(this,"x",0),y(this,"y",0),y(this,"w",0),y(this,"h",0),y(this,"lastNumberOfPieces",0),y(this,"tweenInitTime",Date.now()),y(this,"particles",[]),y(this,"particlesGenerated",0),y(this,"removeParticleAt",function(G){R.particles.splice(G,1)}),y(this,"getParticle",function(){var G=h(R.x,R.w+R.x),H=h(R.y,R.h+R.y);return new v(R.context,R.getOptions,G,H)}),y(this,"animate",function(){var G=R.canvas,H=R.context,ae=R.particlesGenerated,de=R.lastNumberOfPieces,pe=R.getOptions(),Se=pe.run,gt=pe.recycle,je=pe.numberOfPieces,Rt=pe.debug,mn=pe.tweenFunction,Tn=pe.tweenDuration;if(!Se)return!1;var _t=R.particles.length,Ut=gt?_t:ae,ar=Date.now();if(Ut<je){de!==je&&(R.tweenInitTime=ar,R.lastNumberOfPieces=je);for(var Dr=R.tweenInitTime,$r=mn(ar-Dr>Tn?Tn:Math.max(0,ar-Dr),Ut,je,Tn),gn=Math.round($r-Ut),hi=0;hi<gn;hi++)R.particles.push(R.getParticle());R.particlesGenerated+=gn}return Rt&&(H.font="12px sans-serif",H.fillStyle="#333",H.textAlign="right",H.fillText("Particles: ".concat(_t),G.width-10,G.height-20)),R.particles.forEach(function(Cn,Lr){Cn.update(),(Cn.y>G.height||Cn.y<-100||Cn.x>G.width+100||Cn.x<-100)&&(gt&&Ut<=je?R.particles[Lr]=R.getParticle():R.removeParticleAt(Lr))}),_t>0||Ut<je}),this.canvas=A;var F=this.canvas.getContext("2d");if(!F)throw new Error("Could not get canvas context");this.context=F,this.getOptions=$};function g(k,A){var $=Object.keys(k);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(k);A&&(R=R.filter(function(F){return Object.getOwnPropertyDescriptor(k,F).enumerable})),$.push.apply($,R)}return $}function _(k){for(var A=1;A<arguments.length;A++){var $=arguments[A]!=null?arguments[A]:{};A%2?g(Object($),!0).forEach(function(R){E(k,R,$[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors($)):g(Object($)).forEach(function(R){Object.defineProperty(k,R,Object.getOwnPropertyDescriptor($,R))})}return k}function w(k,A){for(var $=0;$<A.length;$++){var R=A[$];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(k,R.key,R)}}function E(k,A,$){return A in k?Object.defineProperty(k,A,{value:$,enumerable:!0,configurable:!0,writable:!0}):k[A]=$,k}var x={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:d.a.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0},T=function(){function k(R,F){var G=this;(function(ae,de){if(!(ae instanceof de))throw new TypeError("Cannot call a class as a function")})(this,k),E(this,"canvas",void 0),E(this,"context",void 0),E(this,"_options",void 0),E(this,"generator",void 0),E(this,"rafId",void 0),E(this,"setOptionsWithDefaults",function(ae){var de={confettiSource:{x:0,y:0,w:G.canvas.width,h:0}};G._options=_(_(_({},de),x),ae),Object.assign(G,ae.confettiSource)}),E(this,"update",function(){var ae=G.options,de=ae.run,pe=ae.onConfettiComplete,Se=G.canvas,gt=G.context;de&&(gt.fillStyle="white",gt.clearRect(0,0,Se.width,Se.height)),G.generator.animate()?G.rafId=requestAnimationFrame(G.update):(pe&&typeof pe=="function"&&G.generator.particlesGenerated>0&&pe.call(G,G),G._options.run=!1)}),E(this,"reset",function(){G.generator&&G.generator.particlesGenerated>0&&(G.generator.particlesGenerated=0,G.generator.particles=[],G.generator.lastNumberOfPieces=0)}),E(this,"stop",function(){G.options={run:!1},G.rafId&&(cancelAnimationFrame(G.rafId),G.rafId=void 0)}),this.canvas=R;var H=this.canvas.getContext("2d");if(!H)throw new Error("Could not get canvas context");this.context=H,this.generator=new b(this.canvas,function(){return G.options}),this.options=F,this.update()}var A,$;return A=k,($=[{key:"options",get:function(){return this._options},set:function(R){var F=this._options&&this._options.run,G=this._options&&this._options.recycle;this.setOptionsWithDefaults(R),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof R.recycle=="boolean"&&R.recycle&&G===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof R.run=="boolean"&&R.run&&F===!1&&this.update()}}])&&w(A.prototype,$),k}();function C(k){return function(A){if(Array.isArray(A))return Y(A)}(k)||function(A){if(typeof Symbol<"u"&&Symbol.iterator in Object(A))return Array.from(A)}(k)||B(k)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function O(k){return(O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(k)}function I(){return(I=Object.assign||function(k){for(var A=1;A<arguments.length;A++){var $=arguments[A];for(var R in $)Object.prototype.hasOwnProperty.call($,R)&&(k[R]=$[R])}return k}).apply(this,arguments)}function D(k,A){var $=Object.keys(k);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(k);A&&(R=R.filter(function(F){return Object.getOwnPropertyDescriptor(k,F).enumerable})),$.push.apply($,R)}return $}function L(k){for(var A=1;A<arguments.length;A++){var $=arguments[A]!=null?arguments[A]:{};A%2?D(Object($),!0).forEach(function(R){Z(k,R,$[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors($)):D(Object($)).forEach(function(R){Object.defineProperty(k,R,Object.getOwnPropertyDescriptor($,R))})}return k}function j(k,A){return function($){if(Array.isArray($))return $}(k)||function($,R){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object($)))){var F=[],G=!0,H=!1,ae=void 0;try{for(var de,pe=$[Symbol.iterator]();!(G=(de=pe.next()).done)&&(F.push(de.value),!R||F.length!==R);G=!0);}catch(Se){H=!0,ae=Se}finally{try{G||pe.return==null||pe.return()}finally{if(H)throw ae}}return F}}(k,A)||B(k,A)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function B(k,A){if(k){if(typeof k=="string")return Y(k,A);var $=Object.prototype.toString.call(k).slice(8,-1);return $==="Object"&&k.constructor&&($=k.constructor.name),$==="Map"||$==="Set"?Array.from(k):$==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($)?Y(k,A):void 0}}function Y(k,A){(A==null||A>k.length)&&(A=k.length);for(var $=0,R=new Array(A);$<A;$++)R[$]=k[$];return R}function X(k,A){if(!(k instanceof A))throw new TypeError("Cannot call a class as a function")}function U(k,A){for(var $=0;$<A.length;$++){var R=A[$];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(k,R.key,R)}}function M(k,A){return(M=Object.setPrototypeOf||function($,R){return $.__proto__=R,$})(k,A)}function q(k){var A=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var $,R=W(k);if(A){var F=W(this).constructor;$=Reflect.construct(R,arguments,F)}else $=R.apply(this,arguments);return N(this,$)}}function N(k,A){return!A||O(A)!=="object"&&typeof A!="function"?P(k):A}function P(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function W(k){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)})(k)}function Z(k,A,$){return A in k?Object.defineProperty(k,A,{value:$,enumerable:!0,configurable:!0,writable:!0}):k[A]=$,k}var se=c.a.createRef(),Q=function(k){(function(G,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function");G.prototype=Object.create(H&&H.prototype,{constructor:{value:G,writable:!0,configurable:!0}}),H&&M(G,H)})(F,k);var A,$,R=q(F);function F(G){var H;X(this,F);for(var ae=arguments.length,de=new Array(ae>1?ae-1:0),pe=1;pe<ae;pe++)de[pe-1]=arguments[pe];return Z(P(H=R.call.apply(R,[this,G].concat(de))),"canvas",c.a.createRef()),Z(P(H),"confetti",void 0),H.canvas=G.canvasRef||se,H}return A=F,($=[{key:"componentDidMount",value:function(){if(this.canvas.current){var G=ee(this.props)[0];this.confetti=new T(this.canvas.current,G)}}},{key:"componentDidUpdate",value:function(){var G=ee(this.props)[0];this.confetti&&(this.confetti.options=G)}},{key:"componentWillUnmount",value:function(){this.confetti&&this.confetti.stop(),this.confetti=void 0}},{key:"render",value:function(){var G=j(ee(this.props),2),H=G[0],ae=G[1],de=L({zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0},ae.style);return c.a.createElement("canvas",I({width:H.width,height:H.height,ref:this.canvas},ae,{style:de}))}}])&&U(A.prototype,$),F}(l.Component);function ee(k){var A={},$={},R=[].concat(C(Object.keys(x)),["confettiSource","drawShape","onConfettiComplete"]),F=["canvasRef"];for(var G in k){var H=k[G];R.includes(G)?A[G]=H:F.includes(G)?F[G]=H:$[G]=H}return[A,$,{}]}Z(Q,"defaultProps",L({},x)),Z(Q,"displayName","ReactConfetti");var J=c.a.forwardRef(function(k,A){return c.a.createElement(Q,I({canvasRef:A},k))});i.default=J}]).default})})(OU);var Cee=OU.exports;const Aee=kt(Cee);var Z_={};(function t(e,n,r,i){var o=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),s=typeof Path2D=="function"&&typeof DOMMatrix=="function",a=function(){if(!e.OffscreenCanvas)return!1;var N=new OffscreenCanvas(1,1),P=N.getContext("2d");P.fillRect(0,0,1,1);var W=N.transferToImageBitmap();try{P.createPattern(W,"no-repeat")}catch{return!1}return!0}();function l(){}function c(N){var P=n.exports.Promise,W=P!==void 0?P:e.Promise;return typeof W=="function"?new W(N):(N(l,l),null)}var u=function(N,P){return{transform:function(W){if(N)return W;if(P.has(W))return P.get(W);var Z=new OffscreenCanvas(W.width,W.height),se=Z.getContext("2d");return se.drawImage(W,0,0),P.set(W,Z),Z},clear:function(){P.clear()}}}(a,new Map),d=function(){var N=Math.floor(16.666666666666668),P,W,Z={},se=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(P=function(Q){var ee=Math.random();return Z[ee]=requestAnimationFrame(function J(k){se===k||se+N-1<k?(se=k,delete Z[ee],Q()):Z[ee]=requestAnimationFrame(J)}),ee},W=function(Q){Z[Q]&&cancelAnimationFrame(Z[Q])}):(P=function(Q){return setTimeout(Q,N)},W=function(Q){return clearTimeout(Q)}),{frame:P,cancel:W}}(),h=function(){var N,P,W={};function Z(se){function Q(ee,J){se.postMessage({options:ee||{},callback:J})}se.init=function(J){var k=J.transferControlToOffscreen();se.postMessage({canvas:k},[k])},se.fire=function(J,k,A){if(P)return Q(J,null),P;var $=Math.random().toString(36).slice(2);return P=c(function(R){function F(G){G.data.callback===$&&(delete W[$],se.removeEventListener("message",F),P=null,u.clear(),A(),R())}se.addEventListener("message",F),Q(J,$),W[$]=F.bind(null,{data:{callback:$}})}),P},se.reset=function(){se.postMessage({reset:!0});for(var J in W)W[J](),delete W[J]}}return function(){if(N)return N;if(!r&&o){var se=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{N=new Worker(URL.createObjectURL(new Blob([se])))}catch(Q){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",Q),null}Z(N)}return N}}(),p={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function m(N,P){return P?P(N):N}function v(N){return N!=null}function y(N,P,W){return m(N&&v(N[P])?N[P]:p[P],W)}function b(N){return N<0?0:Math.floor(N)}function g(N,P){return Math.floor(Math.random()*(P-N))+N}function _(N){return parseInt(N,16)}function w(N){return N.map(E)}function E(N){var P=String(N).replace(/[^0-9a-f]/gi,"");return P.length<6&&(P=P[0]+P[0]+P[1]+P[1]+P[2]+P[2]),{r:_(P.substring(0,2)),g:_(P.substring(2,4)),b:_(P.substring(4,6))}}function x(N){var P=y(N,"origin",Object);return P.x=y(P,"x",Number),P.y=y(P,"y",Number),P}function T(N){N.width=document.documentElement.clientWidth,N.height=document.documentElement.clientHeight}function C(N){var P=N.getBoundingClientRect();N.width=P.width,N.height=P.height}function O(N){var P=document.createElement("canvas");return P.style.position="fixed",P.style.top="0px",P.style.left="0px",P.style.pointerEvents="none",P.style.zIndex=N,P}function I(N,P,W,Z,se,Q,ee,J,k){N.save(),N.translate(P,W),N.rotate(Q),N.scale(Z,se),N.arc(0,0,1,ee,J,k),N.restore()}function D(N){var P=N.angle*(Math.PI/180),W=N.spread*(Math.PI/180);return{x:N.x,y:N.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:N.startVelocity*.5+Math.random()*N.startVelocity,angle2D:-P+(.5*W-Math.random()*W),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:N.color,shape:N.shape,tick:0,totalTicks:N.ticks,decay:N.decay,drift:N.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:N.gravity*3,ovalScalar:.6,scalar:N.scalar,flat:N.flat}}function L(N,P){P.x+=Math.cos(P.angle2D)*P.velocity+P.drift,P.y+=Math.sin(P.angle2D)*P.velocity+P.gravity,P.velocity*=P.decay,P.flat?(P.wobble=0,P.wobbleX=P.x+10*P.scalar,P.wobbleY=P.y+10*P.scalar,P.tiltSin=0,P.tiltCos=0,P.random=1):(P.wobble+=P.wobbleSpeed,P.wobbleX=P.x+10*P.scalar*Math.cos(P.wobble),P.wobbleY=P.y+10*P.scalar*Math.sin(P.wobble),P.tiltAngle+=.1,P.tiltSin=Math.sin(P.tiltAngle),P.tiltCos=Math.cos(P.tiltAngle),P.random=Math.random()+2);var W=P.tick++/P.totalTicks,Z=P.x+P.random*P.tiltCos,se=P.y+P.random*P.tiltSin,Q=P.wobbleX+P.random*P.tiltCos,ee=P.wobbleY+P.random*P.tiltSin;if(N.fillStyle="rgba("+P.color.r+", "+P.color.g+", "+P.color.b+", "+(1-W)+")",N.beginPath(),s&&P.shape.type==="path"&&typeof P.shape.path=="string"&&Array.isArray(P.shape.matrix))N.fill(U(P.shape.path,P.shape.matrix,P.x,P.y,Math.abs(Q-Z)*.1,Math.abs(ee-se)*.1,Math.PI/10*P.wobble));else if(P.shape.type==="bitmap"){var J=Math.PI/10*P.wobble,k=Math.abs(Q-Z)*.1,A=Math.abs(ee-se)*.1,$=P.shape.bitmap.width*P.scalar,R=P.shape.bitmap.height*P.scalar,F=new DOMMatrix([Math.cos(J)*k,Math.sin(J)*k,-Math.sin(J)*A,Math.cos(J)*A,P.x,P.y]);F.multiplySelf(new DOMMatrix(P.shape.matrix));var G=N.createPattern(u.transform(P.shape.bitmap),"no-repeat");G.setTransform(F),N.globalAlpha=1-W,N.fillStyle=G,N.fillRect(P.x-$/2,P.y-R/2,$,R),N.globalAlpha=1}else if(P.shape==="circle")N.ellipse?N.ellipse(P.x,P.y,Math.abs(Q-Z)*P.ovalScalar,Math.abs(ee-se)*P.ovalScalar,Math.PI/10*P.wobble,0,2*Math.PI):I(N,P.x,P.y,Math.abs(Q-Z)*P.ovalScalar,Math.abs(ee-se)*P.ovalScalar,Math.PI/10*P.wobble,0,2*Math.PI);else if(P.shape==="star")for(var H=Math.PI/2*3,ae=4*P.scalar,de=8*P.scalar,pe=P.x,Se=P.y,gt=5,je=Math.PI/gt;gt--;)pe=P.x+Math.cos(H)*de,Se=P.y+Math.sin(H)*de,N.lineTo(pe,Se),H+=je,pe=P.x+Math.cos(H)*ae,Se=P.y+Math.sin(H)*ae,N.lineTo(pe,Se),H+=je;else N.moveTo(Math.floor(P.x),Math.floor(P.y)),N.lineTo(Math.floor(P.wobbleX),Math.floor(se)),N.lineTo(Math.floor(Q),Math.floor(ee)),N.lineTo(Math.floor(Z),Math.floor(P.wobbleY));return N.closePath(),N.fill(),P.tick<P.totalTicks}function j(N,P,W,Z,se){var Q=P.slice(),ee=N.getContext("2d"),J,k,A=c(function($){function R(){J=k=null,ee.clearRect(0,0,Z.width,Z.height),u.clear(),se(),$()}function F(){r&&!(Z.width===i.width&&Z.height===i.height)&&(Z.width=N.width=i.width,Z.height=N.height=i.height),!Z.width&&!Z.height&&(W(N),Z.width=N.width,Z.height=N.height),ee.clearRect(0,0,Z.width,Z.height),Q=Q.filter(function(G){return L(ee,G)}),Q.length?J=d.frame(F):R()}J=d.frame(F),k=R});return{addFettis:function($){return Q=Q.concat($),A},canvas:N,promise:A,reset:function(){J&&d.cancel(J),k&&k()}}}function B(N,P){var W=!N,Z=!!y(P||{},"resize"),se=!1,Q=y(P,"disableForReducedMotion",Boolean),ee=o&&!!y(P||{},"useWorker"),J=ee?h():null,k=W?T:C,A=N&&J?!!N.__confetti_initialized:!1,$=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,R;function F(H,ae,de){for(var pe=y(H,"particleCount",b),Se=y(H,"angle",Number),gt=y(H,"spread",Number),je=y(H,"startVelocity",Number),Rt=y(H,"decay",Number),mn=y(H,"gravity",Number),Tn=y(H,"drift",Number),_t=y(H,"colors",w),Ut=y(H,"ticks",Number),ar=y(H,"shapes"),Dr=y(H,"scalar"),$r=!!y(H,"flat"),gn=x(H),hi=pe,Cn=[],Lr=N.width*gn.x,Bo=N.height*gn.y;hi--;)Cn.push(D({x:Lr,y:Bo,angle:Se,spread:gt,startVelocity:je,color:_t[hi%_t.length],shape:ar[g(0,ar.length)],ticks:Ut,decay:Rt,gravity:mn,drift:Tn,scalar:Dr,flat:$r}));return R?R.addFettis(Cn):(R=j(N,Cn,k,ae,de),R.promise)}function G(H){var ae=Q||y(H,"disableForReducedMotion",Boolean),de=y(H,"zIndex",Number);if(ae&&$)return c(function(je){je()});W&&R?N=R.canvas:W&&!N&&(N=O(de),document.body.appendChild(N)),Z&&!A&&k(N);var pe={width:N.width,height:N.height};J&&!A&&J.init(N),A=!0,J&&(N.__confetti_initialized=!0);function Se(){if(J){var je={getBoundingClientRect:function(){if(!W)return N.getBoundingClientRect()}};k(je),J.postMessage({resize:{width:je.width,height:je.height}});return}pe.width=pe.height=null}function gt(){R=null,Z&&(se=!1,e.removeEventListener("resize",Se)),W&&N&&(document.body.contains(N)&&document.body.removeChild(N),N=null,A=!1)}return Z&&!se&&(se=!0,e.addEventListener("resize",Se,!1)),J?J.fire(H,pe,gt):F(H,pe,gt)}return G.reset=function(){J&&J.reset(),R&&R.reset()},G}var Y;function X(){return Y||(Y=B(null,{useWorker:!0,resize:!0})),Y}function U(N,P,W,Z,se,Q,ee){var J=new Path2D(N),k=new Path2D;k.addPath(J,new DOMMatrix(P));var A=new Path2D;return A.addPath(k,new DOMMatrix([Math.cos(ee)*se,Math.sin(ee)*se,-Math.sin(ee)*Q,Math.cos(ee)*Q,W,Z])),A}function M(N){if(!s)throw new Error("path confetti are not supported in this browser");var P,W;typeof N=="string"?P=N:(P=N.path,W=N.matrix);var Z=new Path2D(P),se=document.createElement("canvas"),Q=se.getContext("2d");if(!W){for(var ee=1e3,J=ee,k=ee,A=0,$=0,R,F,G=0;G<ee;G+=2)for(var H=0;H<ee;H+=2)Q.isPointInPath(Z,G,H,"nonzero")&&(J=Math.min(J,G),k=Math.min(k,H),A=Math.max(A,G),$=Math.max($,H));R=A-J,F=$-k;var ae=10,de=Math.min(ae/R,ae/F);W=[de,0,0,de,-Math.round(R/2+J)*de,-Math.round(F/2+k)*de]}return{type:"path",path:P,matrix:W}}function q(N){var P,W=1,Z="#000000",se='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof N=="string"?P=N:(P=N.text,W="scalar"in N?N.scalar:W,se="fontFamily"in N?N.fontFamily:se,Z="color"in N?N.color:Z);var Q=10*W,ee=""+Q+"px "+se,J=new OffscreenCanvas(Q,Q),k=J.getContext("2d");k.font=ee;var A=k.measureText(P),$=Math.ceil(A.actualBoundingBoxRight+A.actualBoundingBoxLeft),R=Math.ceil(A.actualBoundingBoxAscent+A.actualBoundingBoxDescent),F=2,G=A.actualBoundingBoxLeft+F,H=A.actualBoundingBoxAscent+F;$+=F+F,R+=F+F,J=new OffscreenCanvas($,R),k=J.getContext("2d"),k.font=ee,k.fillStyle=Z,k.fillText(P,G,H);var ae=1/W;return{type:"bitmap",bitmap:J.transferToImageBitmap(),matrix:[ae,0,0,ae,-$*ae/2,-R*ae/2]}}n.exports=function(){return X().apply(this,arguments)},n.exports.reset=function(){X().reset()},n.exports.create=B,n.exports.shapeFromPath=M,n.exports.shapeFromText=q})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Z_,!1);Z_.exports.create;var tN={};const nN="@firebase/database",rN="1.0.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kU="";function Iee(t){kU=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pee{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),er(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:_h(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oee{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Ts(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Pee(e)}}catch{}return new Oee},il=NU("localStorage"),O1=NU("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc=new m_("@firebase/database"),kee=function(){let t=1;return function(){return t++}}(),RU=function(t){const e=XG(t),n=new qG;n.update(e);const r=n.digest();return OT.encodeByteArray(r)},nm=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=nm.apply(null,r):typeof r=="object"?e+=er(r):e+=r,e+=" "}return e};let hl=null,iN=!0;const Nee=function(t,e){ye(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Xc.logLevel=lt.VERBOSE,hl=Xc.log.bind(Xc),e&&O1.set("logging_enabled",!0)):typeof t=="function"?hl=t:(hl=null,O1.remove("logging_enabled"))},gr=function(...t){if(iN===!0&&(iN=!1,hl===null&&O1.get("logging_enabled")===!0&&Nee(!0)),hl){const e=nm.apply(null,t);hl(e)}},rm=function(t){return function(...e){gr(t,...e)}},k1=function(...t){const e="FIREBASE INTERNAL ERROR: "+nm(...t);Xc.error(e)},Rl=function(...t){const e=`FIREBASE FATAL ERROR: ${nm(...t)}`;throw Xc.error(e),new Error(e)},ai=function(...t){const e="FIREBASE WARNING: "+nm(...t);Xc.warn(e)},Ree=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ai("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},jU=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},jee=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},_u="[MIN_NAME]",jl="[MAX_NAME]",nd=function(t,e){if(t===e)return 0;if(t===_u||e===jl)return-1;if(e===_u||t===jl)return 1;{const n=oN(t),r=oN(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},Mee=function(t,e){return t===e?0:t<e?-1:1},Fd=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+er(e))},KC=function(t){if(typeof t!="object"||t===null)return er(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=er(e[r]),n+=":",n+=KC(t[e[r]]);return n+="}",n},MU=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Ri(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const DU=function(t){ye(!jU(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,o,s,a,l;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(l=e;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(i?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},Dee=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},$ee=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},Lee=new RegExp("^-?(0*)\\d{1,10}$"),Fee=-2147483648,Vee=2147483647,oN=function(t){if(Lee.test(t)){const e=Number(t);if(e>=Fee&&e<=Vee)return e}return null},im=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw ai("Exception was thrown by user callback.",n),e},Math.floor(0))}},Uee=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},$f=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bee{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ai(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zee{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(gr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ai(e)}}class N1{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}N1.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC="5",$U="v",LU="s",FU="r",VU="f",UU=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,BU="ls",zU="p",R1="ac",WU="websocket",HU="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wee{constructor(e,n,r,i,o=!1,s="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=il.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&il.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Hee(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function qU(t,e,n){ye(typeof e=="string","typeof type must == string"),ye(typeof n=="object","typeof params must == object");let r;if(e===WU)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===HU)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Hee(t)&&(n.ns=t.namespace);const i=[];return Ri(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qee{constructor(){this.counters_={}}incrementCounter(e,n=1){Ts(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return OG(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb={},Jb={};function YC(t){const e=t.toString();return Xb[e]||(Xb[e]=new qee),Xb[e]}function Gee(t,e){const n=t.toString();return Jb[n]||(Jb[n]=e()),Jb[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kee{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&im(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN="start",Qee="close",Yee="pLPCommand",Xee="pRTLPCB",GU="id",KU="pw",QU="ser",Jee="cb",Zee="seg",ete="ts",tte="d",nte="dframe",YU=1870,XU=30,rte=YU-XU,ite=25e3,ote=3e4;class jc{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=rm(e),this.stats_=YC(n),this.urlFn=l=>(this.appCheckToken&&(l[R1]=this.appCheckToken),qU(n,HU,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Kee(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(ote)),jee(()=>{if(this.isClosed_)return;this.scriptTagHolder=new XC((...o)=>{const[s,a,l,c,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===sN)this.id=a,this.password=l;else if(s===Qee)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[sN]="t",r[QU]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Jee]=this.scriptTagHolder.uniqueCallbackIdentifier),r[$U]=QC,this.transportSessionId&&(r[LU]=this.transportSessionId),this.lastSessionId&&(r[BU]=this.lastSessionId),this.applicationId&&(r[zU]=this.applicationId),this.appCheckToken&&(r[R1]=this.appCheckToken),typeof location<"u"&&location.hostname&&UU.test(location.hostname)&&(r[FU]=VU);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){jc.forceAllow_=!0}static forceDisallow(){jc.forceDisallow_=!0}static isAvailable(){return jc.forceAllow_?!0:!jc.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Dee()&&!$ee()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=er(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=hF(n),i=MU(r,rte);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[nte]="t",r[GU]=e,r[KU]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=er(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class XC{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=kee(),window[Yee+this.uniqueCallbackIdentifier]=e,window[Xee+this.uniqueCallbackIdentifier]=n,this.myIFrame=XC.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){gr("frame writing exception"),a.stack&&gr(a.stack),gr(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||gr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[GU]=this.myID,e[KU]=this.myPW,e[QU]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+XU+r.length<=YU;){const s=this.pendingSegs.shift();r=r+"&"+Zee+i+"="+s.seg+"&"+ete+i+"="+s.ts+"&"+tte+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(ite)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{gr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ste=16384,ate=45e3;let Uy=null;typeof MozWebSocket<"u"?Uy=MozWebSocket:typeof WebSocket<"u"&&(Uy=WebSocket);class Ki{constructor(e,n,r,i,o,s,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=rm(this.connId),this.stats_=YC(n),this.connURL=Ki.connectionURL_(n,s,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,o){const s={};return s[$U]=QC,typeof location<"u"&&location.hostname&&UU.test(location.hostname)&&(s[FU]=VU),n&&(s[LU]=n),r&&(s[BU]=r),i&&(s[R1]=i),o&&(s[zU]=o),qU(e,WU,s)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,il.set("previous_websocket_failure",!0);try{let r;wF(),this.mySock=new Uy(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Ki.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Uy!==null&&!Ki.forceDisallow_}static previouslyFailed(){return il.isInMemoryStorage||il.get("previous_websocket_failure")===!0}markConnectionHealthy(){il.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=_h(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ye(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=er(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=MU(n,ste);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(ate))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ki.responsesRequiredToBeHealthy=2;Ki.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[jc,Ki]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Ki&&Ki.isAvailable();let r=n&&!Ki.previouslyFailed();if(e.webSocketOnly&&(n||ai("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ki];else{const i=this.transports_=[];for(const o of $h.ALL_TRANSPORTS)o&&o.isAvailable()&&i.push(o);$h.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}$h.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lte=6e4,cte=5e3,ute=10*1024,dte=100*1024,Zb="t",aN="d",fte="s",lN="r",hte="e",cN="o",uN="a",dN="n",fN="p",pte="h";class mte{constructor(e,n,r,i,o,s,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=rm("c:"+this.id+":"),this.transportManager_=new $h(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=$f(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>dte?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>ute?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Zb in e){const n=e[Zb];n===uN?this.upgradeIfSecondaryHealthy_():n===lN?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===cN&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Fd("t",e),r=Fd("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:fN,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:uN,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:dN,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Fd("t",e),r=Fd("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Fd(Zb,e);if(aN in e){const r=e[aN];if(n===pte){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===dN){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===fte?this.onConnectionShutdown_(r):n===lN?this.onReset_(r):n===hte?k1("Server Error: "+r):n===cN?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):k1("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),QC!==r&&ai("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),$f(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(lte))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):$f(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(cte))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:fN,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(il.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ZU=class{constructor(e){this.allowedEvents_=e,this.listeners_={},ye(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){ye(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By extends ZU{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!NT()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new By}getInitialEvent(e){return ye(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=32,pN=768;let Xt=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function Mt(){return new Xt("")}function pt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ya(t){return t.pieces_.length-t.pieceNum_}function Gt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Xt(t.pieces_,e)}function e5(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function gte(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function t5(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function n5(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Xt(e,0)}function zn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Xt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Xt(n,0)}function ft(t){return t.pieceNum_>=t.pieces_.length}function Ei(t,e){const n=pt(t),r=pt(e);if(n===null)return e;if(n===r)return Ei(Gt(t),Gt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function r5(t,e){if(ya(t)!==ya(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Xi(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(ya(t)>ya(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class yte{constructor(e,n){this.errorPrefix_=n,this.parts_=t5(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=p_(this.parts_[r]);i5(this)}}function vte(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=p_(e),i5(t)}function _te(t){const e=t.parts_.pop();t.byteLength_-=p_(e),t.parts_.length>0&&(t.byteLength_-=1)}function i5(t){if(t.byteLength_>pN)throw new Error(t.errorPrefix_+"has a key path longer than "+pN+" bytes ("+t.byteLength_+").");if(t.parts_.length>hN)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+hN+") or object contains a cycle "+Ba(t))}function Ba(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC extends ZU{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new JC}getInitialEvent(e){return ye(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd=1e3,bte=60*5*1e3,mN=30*1e3,wte=1.3,xte=3e4,Ete="server_kill",gN=3;class ls extends JU{constructor(e,n,r,i,o,s,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=o,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=ls.nextPersistentConnectionId_++,this.log_=rm("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Vd,this.maxReconnectDelay_=bte,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!wF())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");JC.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&By.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,o={r:i,a:e,b:n};this.log_(er(o)),ye(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new kT,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:s=>{const a=s.d;s.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,r,i){this.initConnection_();const o=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+o),this.listens.has(s)||this.listens.set(s,new Map),ye(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ye(!this.listens.get(s).has(o),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(s).set(o,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const o={p:r},s="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(s,o,a=>{const l=a.d,c=a.s;ls.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Ts(e,"w")){const r=uu(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();ai(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||HG(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=mN)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=WG(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const o=i.s,s=i.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,s))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),ye(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const o={p:e},s="n";i&&(o.q=r,o.t=i),this.sendRequest(s,o)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const o={p:n,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,s=>{i&&setTimeout(()=>{i(s.s,s.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,o){this.initConnection_();const s={p:n,d:r};o!==void 0&&(s.h=o),this.outstandingPuts_.push({action:e,request:s,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+er(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):k1("Unrecognized action received from server: "+er(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ye(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Vd,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Vd,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>xte&&(this.reconnectDelay_=Vd),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*wte)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+ls.nextConnectionId_++,o=this.lastSessionId;let s=!1,a=null;const l=function(){a?a.close():(s=!0,r())},c=function(d){ye(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);s?gr("getToken() completed but was canceled"):(gr("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new mte(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{ai(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(Ete)},o))}catch(d){this.log_("Failed to get token: "+d),s||(this.repoInfo_.nodeAdmin&&ai(d),l())}}}interrupt(e){gr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){gr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Gx(this.interruptReasons_)&&(this.reconnectDelay_=Vd,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(o=>KC(o)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new Xt(e).toString();let i;if(this.listens.has(r)){const o=this.listens.get(r);i=o.get(n),o.delete(n),o.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){gr("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=gN&&(this.reconnectDelay_=mN,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){gr("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=gN&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+kU.replace(/\./g,"-")]=1,NT()?e["framework.cordova"]=1:bF()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=By.getInstance().currentlyOnline();return Gx(this.interruptReasons_)&&e}}ls.nextPersistentConnectionId_=0;ls.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new mt(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new mt(_u,e),i=new mt(_u,n);return this.compare(r,i)!==0}minPost(){return mt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wm;class o5 extends e0{static get __EMPTY_NODE(){return Wm}static set __EMPTY_NODE(e){Wm=e}compare(e,n){return nd(e.name,n.name)}isDefinedOn(e){throw Gu("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return mt.MIN}maxPost(){return new mt(jl,Wm)}makePost(e,n){return ye(typeof e=="string","KeyIndex indexValue must always be a string."),new mt(e,Wm)}toString(){return".key"}}const Jc=new o5;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Un{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Un.RED,this.left=i??Wr.EMPTY_NODE,this.right=o??Wr.EMPTY_NODE}copy(e,n,r,i,o){return new Un(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Wr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Wr.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Un.RED=!0;Un.BLACK=!1;class Ste{copy(e,n,r,i,o){return this}insert(e,n,r){return new Un(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Wr{constructor(e,n=Wr.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Wr(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Un.BLACK,null,null))}remove(e){return new Wr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Un.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Hm(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Hm(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Hm(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Hm(this.root_,null,this.comparator_,!0,e)}}Wr.EMPTY_NODE=new Ste;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tte(t,e){return nd(t.name,e.name)}function ZC(t,e){return nd(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let j1;function Cte(t){j1=t}const s5=function(t){return typeof t=="number"?"number:"+DU(t):"string:"+t},a5=function(t){if(t.isLeafNode()){const e=t.val();ye(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ts(e,".sv"),"Priority must be a string or number.")}else ye(t===j1||t.isEmpty(),"priority of unexpected type.");ye(t===j1||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yN;class $n{constructor(e,n=$n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,ye(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),a5(this.priorityNode_)}static set __childrenNodeConstructor(e){yN=e}static get __childrenNodeConstructor(){return yN}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new $n(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:$n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ft(e)?this:pt(e)===".priority"?this.priorityNode_:$n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:$n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=pt(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ye(r!==".priority"||ya(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,$n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Gt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+s5(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=DU(this.value_):e+=this.value_,this.lazyHash_=RU(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===$n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof $n.__childrenNodeConstructor?-1:(ye(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=$n.VALUE_TYPE_ORDER.indexOf(n),o=$n.VALUE_TYPE_ORDER.indexOf(r);return ye(i>=0,"Unknown leaf type: "+n),ye(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}$n.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let l5,c5;function Ate(t){l5=t}function Ite(t){c5=t}class Pte extends e0{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?nd(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return mt.MIN}maxPost(){return new mt(jl,new $n("[PRIORITY-POST]",c5))}makePost(e,n){const r=l5(e);return new mt(n,new $n("[PRIORITY-POST]",r))}toString(){return".priority"}}const wr=new Pte;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ote=Math.log(2);class kte{constructor(e){const n=o=>parseInt(Math.log(o)/Ote,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const zy=function(t,e,n,r){t.sort(e);const i=function(l,c){const u=c-l;let d,h;if(u===0)return null;if(u===1)return d=t[l],h=n?n(d):d,new Un(h,d.node,Un.BLACK,null,null);{const p=parseInt(u/2,10)+l,m=i(l,p),v=i(p+1,c);return d=t[p],h=n?n(d):d,new Un(h,d.node,Un.BLACK,m,v)}},o=function(l){let c=null,u=null,d=t.length;const h=function(m,v){const y=d-m,b=d;d-=m;const g=i(y+1,b),_=t[y],w=n?n(_):_;p(new Un(w,_.node,v,null,g))},p=function(m){c?(c.left=m,c=m):(u=m,c=m)};for(let m=0;m<l.count;++m){const v=l.nextBitIsOne(),y=Math.pow(2,l.count-(m+1));v?h(y,Un.BLACK):(h(y,Un.BLACK),h(y,Un.RED))}return u},s=new kte(t.length),a=o(s);return new Wr(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ew;const uc={};class ts{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return ye(uc&&wr,"ChildrenNode.ts has not been loaded"),ew=ew||new ts({".priority":uc},{".priority":wr}),ew}get(e){const n=uu(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Wr?n:null}hasIndex(e){return Ts(this.indexSet_,e.toString())}addIndex(e,n){ye(e!==Jc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(mt.Wrap);let s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=zy(r,e.getCompare()):a=uc;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new ts(u,c)}addToIndexes(e,n){const r=yy(this.indexes_,(i,o)=>{const s=uu(this.indexSet_,o);if(ye(s,"Missing index implementation for "+o),i===uc)if(s.isDefinedOn(e.node)){const a=[],l=n.getIterator(mt.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),zy(a,s.getCompare())}else return uc;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new mt(e.name,a))),l.insert(e,e.node)}});return new ts(r,this.indexSet_)}removeFromIndexes(e,n){const r=yy(this.indexes_,i=>{if(i===uc)return i;{const o=n.get(e.name);return o?i.remove(new mt(e.name,o)):i}});return new ts(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ud;class Ct{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&a5(this.priorityNode_),this.children_.isEmpty()&&ye(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ud||(Ud=new Ct(new Wr(ZC),null,ts.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ud}updatePriority(e){return this.children_.isEmpty()?this:new Ct(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Ud:n}}getChild(e){const n=pt(e);return n===null?this:this.getImmediateChild(n).getChild(Gt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(ye(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new mt(e,n);let i,o;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));const s=i.isEmpty()?Ud:this.priorityNode_;return new Ct(i,s,o)}}updateChild(e,n){const r=pt(e);if(r===null)return n;{ye(pt(e)!==".priority"||ya(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Gt(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,o=!0;if(this.forEachChild(wr,(s,a)=>{n[s]=a.val(e),r++,o&&Ct.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1}),!e&&o&&i<2*r){const s=[];for(const a in n)s[a]=n[a];return s}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+s5(this.getPriority().val())+":"),this.forEachChild(wr,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":RU(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const o=i.getPredecessorKey(new mt(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new mt(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new mt(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,mt.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)<0;)i.getNext(),o=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,mt.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)>0;)i.getNext(),o=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===om?-1:0}withIndex(e){if(e===Jc||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Ct(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Jc||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(wr),i=n.getIterator(wr);let o=r.getNext(),s=i.getNext();for(;o&&s;){if(o.name!==s.name||!o.node.equals(s.node))return!1;o=r.getNext(),s=i.getNext()}return o===null&&s===null}else return!1;else return!1}}resolveIndex_(e){return e===Jc?null:this.indexMap_.get(e.toString())}}Ct.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Nte extends Ct{constructor(){super(new Wr(ZC),Ct.EMPTY_NODE,ts.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ct.EMPTY_NODE}isEmpty(){return!1}}const om=new Nte;Object.defineProperties(mt,{MIN:{value:new mt(_u,Ct.EMPTY_NODE)},MAX:{value:new mt(jl,om)}});o5.__EMPTY_NODE=Ct.EMPTY_NODE;$n.__childrenNodeConstructor=Ct;Cte(om);Ite(om);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rte=!0;function yr(t,e=null){if(t===null)return Ct.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),ye(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new $n(n,yr(e))}if(!(t instanceof Array)&&Rte){const n=[];let r=!1;if(Ri(t,(s,a)=>{if(s.substring(0,1)!=="."){const l=yr(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new mt(s,l)))}}),n.length===0)return Ct.EMPTY_NODE;const o=zy(n,Tte,s=>s.name,ZC);if(r){const s=zy(n,wr.getCompare());return new Ct(o,yr(e),new ts({".priority":s},{".priority":wr}))}else return new Ct(o,yr(e),ts.Default)}else{let n=Ct.EMPTY_NODE;return Ri(t,(r,i)=>{if(Ts(t,r)&&r.substring(0,1)!=="."){const o=yr(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(yr(e))}}Ate(yr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jte extends e0{constructor(e){super(),this.indexPath_=e,ye(!ft(e)&&pt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?nd(e.name,n.name):o}makePost(e,n){const r=yr(e),i=Ct.EMPTY_NODE.updateChild(this.indexPath_,r);return new mt(n,i)}maxPost(){const e=Ct.EMPTY_NODE.updateChild(this.indexPath_,om);return new mt(jl,e)}toString(){return t5(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mte extends e0{compare(e,n){const r=e.node.compareTo(n.node);return r===0?nd(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return mt.MIN}maxPost(){return mt.MAX}makePost(e,n){const r=yr(e);return new mt(n,r)}toString(){return".value"}}const Dte=new Mte;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $te(t){return{type:"value",snapshotNode:t}}function Lte(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Fte(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function vN(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Vte(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=wr}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ye(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ye(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:_u}hasEnd(){return this.endSet_}getIndexEndValue(){return ye(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ye(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:jl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ye(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===wr}copy(){const e=new eA;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function _N(t){const e={};if(t.isDefault())return e;let n;if(t.index_===wr?n="$priority":t.index_===Dte?n="$value":t.index_===Jc?n="$key":(ye(t.index_ instanceof jte,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=er(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=er(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+er(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=er(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+er(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function bN(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==wr&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy extends JU{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=rm("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(ye(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=Wy.getListenId_(e,r),a={};this.listens_[s]=a;const l=_N(e._queryParams);this.restRequest_(o+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(o,d,!1,r),uu(this.listens_,s)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",i(h,null)}})}unlisten(e,n){const r=Wy.getListenId_(e,n);delete this.listens_[r]}get(e){const n=_N(e._queryParams),r=e._path.toString(),i=new kT;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ku(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=_h(a.responseText)}catch{ai("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&ai("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ute{constructor(){this.rootNode_=Ct.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hy(){return{value:null,children:new Map}}function u5(t,e,n){if(ft(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=pt(e);t.children.has(r)||t.children.set(r,Hy());const i=t.children.get(r);e=Gt(e),u5(i,e,n)}}function M1(t,e,n){t.value!==null?n(e,t.value):Bte(t,(r,i)=>{const o=new Xt(e.toString()+"/"+r);M1(i,o,n)})}function Bte(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zte{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ri(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=10*1e3,Wte=30*1e3,Hte=5*60*1e3;class qte{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new zte(e);const r=wN+(Wte-wN)*Math.random();$f(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Ri(e,(i,o)=>{o>0&&Ts(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),$f(this.reportStats_.bind(this),Math.floor(Math.random()*2*Hte))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Eo;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Eo||(Eo={}));function d5(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function f5(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function h5(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Eo.ACK_USER_WRITE,this.source=d5()}operationForChild(e){if(ft(this.path)){if(this.affectedTree.value!=null)return ye(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Xt(e));return new qy(Mt(),n,this.revert)}}else return ye(pt(this.path)===e,"operationForChild called for unrelated child."),new qy(Gt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Eo.OVERWRITE}operationForChild(e){return ft(this.path)?new Ml(this.source,Mt(),this.snap.getImmediateChild(e)):new Ml(this.source,Gt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Eo.MERGE}operationForChild(e){if(ft(this.path)){const n=this.children.subtree(new Xt(e));return n.isEmpty()?null:n.value?new Ml(this.source,Mt(),n.value):new Lh(this.source,Mt(),n)}else return ye(pt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Lh(this.source,Gt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ft(e))return this.isFullyInitialized()&&!this.filtered_;const n=pt(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function Gte(t,e,n,r){const i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(Vte(s.childName,s.snapshotNode))}),Bd(t,i,"child_removed",e,r,n),Bd(t,i,"child_added",e,r,n),Bd(t,i,"child_moved",o,r,n),Bd(t,i,"child_changed",e,r,n),Bd(t,i,"value",e,r,n),i}function Bd(t,e,n,r,i,o){const s=r.filter(a=>a.type===n);s.sort((a,l)=>Qte(t,a,l)),s.forEach(a=>{const l=Kte(t,a,o);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function Kte(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Qte(t,e,n){if(e.childName==null||n.childName==null)throw Gu("Should only compare child_ events.");const r=new mt(e.childName,e.snapshotNode),i=new mt(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p5(t,e){return{eventCache:t,serverCache:e}}function Lf(t,e,n,r){return p5(new tA(e,n,r),t.serverCache)}function m5(t,e,n,r){return p5(t.eventCache,new tA(e,n,r))}function D1(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Dl(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tw;const Yte=()=>(tw||(tw=new Wr(Mee)),tw);class Ht{constructor(e,n=Yte()){this.value=e,this.children=n}static fromObject(e){let n=new Ht(null);return Ri(e,(r,i)=>{n=n.set(new Xt(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Mt(),value:this.value};if(ft(e))return null;{const r=pt(e),i=this.children.get(r);if(i!==null){const o=i.findRootMostMatchingPathAndValue(Gt(e),n);return o!=null?{path:zn(new Xt(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ft(e))return this;{const n=pt(e),r=this.children.get(n);return r!==null?r.subtree(Gt(e)):new Ht(null)}}set(e,n){if(ft(e))return new Ht(n,this.children);{const r=pt(e),o=(this.children.get(r)||new Ht(null)).set(Gt(e),n),s=this.children.insert(r,o);return new Ht(this.value,s)}}remove(e){if(ft(e))return this.children.isEmpty()?new Ht(null):new Ht(null,this.children);{const n=pt(e),r=this.children.get(n);if(r){const i=r.remove(Gt(e));let o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new Ht(null):new Ht(this.value,o)}else return this}}get(e){if(ft(e))return this.value;{const n=pt(e),r=this.children.get(n);return r?r.get(Gt(e)):null}}setTree(e,n){if(ft(e))return n;{const r=pt(e),o=(this.children.get(r)||new Ht(null)).setTree(Gt(e),n);let s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new Ht(this.value,s)}}fold(e){return this.fold_(Mt(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(zn(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Mt(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(ft(e))return null;{const o=pt(e),s=this.children.get(o);return s?s.findOnPath_(Gt(e),zn(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Mt(),n)}foreachOnPath_(e,n,r){if(ft(e))return this;{this.value&&r(n,this.value);const i=pt(e),o=this.children.get(i);return o?o.foreachOnPath_(Gt(e),zn(n,i),r):new Ht(null)}}foreach(e){this.foreach_(Mt(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(zn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e){this.writeTree_=e}static empty(){return new no(new Ht(null))}}function Ff(t,e,n){if(ft(e))return new no(new Ht(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let o=r.value;const s=Ei(i,e);return o=o.updateChild(s,n),new no(t.writeTree_.set(i,o))}else{const i=new Ht(n),o=t.writeTree_.setTree(e,i);return new no(o)}}}function xN(t,e,n){let r=t;return Ri(n,(i,o)=>{r=Ff(r,zn(e,i),o)}),r}function EN(t,e){if(ft(e))return no.empty();{const n=t.writeTree_.setTree(e,new Ht(null));return new no(n)}}function $1(t,e){return Jl(t,e)!=null}function Jl(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ei(n.path,e)):null}function SN(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(wr,(r,i)=>{e.push(new mt(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new mt(r,i.value))}),e}function aa(t,e){if(ft(e))return t;{const n=Jl(t,e);return n!=null?new no(new Ht(n)):new no(t.writeTree_.subtree(e))}}function L1(t){return t.writeTree_.isEmpty()}function bu(t,e){return g5(Mt(),t.writeTree_,e)}function g5(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(ye(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=g5(zn(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(zn(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y5(t,e){return x5(e,t)}function Xte(t,e,n,r,i){ye(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Ff(t.visibleWrites,e,n)),t.lastWriteId=r}function Jte(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function Zte(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);ye(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){const a=t.allWrites[s];a.visible&&(s>=n&&ene(a,r.path)?i=!1:Xi(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return tne(t),!0;if(r.snap)t.visibleWrites=EN(t.visibleWrites,r.path);else{const a=r.children;Ri(a,l=>{t.visibleWrites=EN(t.visibleWrites,zn(r.path,l))})}return!0}else return!1}function ene(t,e){if(t.snap)return Xi(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Xi(zn(t.path,n),e))return!0;return!1}function tne(t){t.visibleWrites=v5(t.allWrites,nne,Mt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function nne(t){return t.visible}function v5(t,e,n){let r=no.empty();for(let i=0;i<t.length;++i){const o=t[i];if(e(o)){const s=o.path;let a;if(o.snap)Xi(n,s)?(a=Ei(n,s),r=Ff(r,a,o.snap)):Xi(s,n)&&(a=Ei(s,n),r=Ff(r,Mt(),o.snap.getChild(a)));else if(o.children){if(Xi(n,s))a=Ei(n,s),r=xN(r,a,o.children);else if(Xi(s,n))if(a=Ei(s,n),ft(a))r=xN(r,Mt(),o.children);else{const l=uu(o.children,pt(a));if(l){const c=l.getChild(Gt(a));r=Ff(r,Mt(),c)}}}else throw Gu("WriteRecord should have .snap or .children")}}return r}function _5(t,e,n,r,i){if(!r&&!i){const o=Jl(t.visibleWrites,e);if(o!=null)return o;{const s=aa(t.visibleWrites,e);if(L1(s))return n;if(n==null&&!$1(s,Mt()))return null;{const a=n||Ct.EMPTY_NODE;return bu(s,a)}}}else{const o=aa(t.visibleWrites,e);if(!i&&L1(o))return n;if(!i&&n==null&&!$1(o,Mt()))return null;{const s=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Xi(c.path,e)||Xi(e,c.path))},a=v5(t.allWrites,s,e),l=n||Ct.EMPTY_NODE;return bu(a,l)}}}function rne(t,e,n){let r=Ct.EMPTY_NODE;const i=Jl(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(wr,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=aa(t.visibleWrites,e);return n.forEachChild(wr,(s,a)=>{const l=bu(aa(o,new Xt(s)),a);r=r.updateImmediateChild(s,l)}),SN(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{const o=aa(t.visibleWrites,e);return SN(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function ine(t,e,n,r,i){ye(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=zn(e,n);if($1(t.visibleWrites,o))return null;{const s=aa(t.visibleWrites,o);return L1(s)?i.getChild(n):bu(s,i.getChild(n))}}function one(t,e,n,r){const i=zn(e,n),o=Jl(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){const s=aa(t.visibleWrites,i);return bu(s,r.getNode().getImmediateChild(n))}else return null}function sne(t,e){return Jl(t.visibleWrites,e)}function ane(t,e,n,r,i,o,s){let a;const l=aa(t.visibleWrites,e),c=Jl(l,Mt());if(c!=null)a=c;else if(n!=null)a=bu(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=s.getCompare(),h=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let p=h.getNext();for(;p&&u.length<i;)d(p,r)!==0&&u.push(p),p=h.getNext();return u}else return[]}function lne(){return{visibleWrites:no.empty(),allWrites:[],lastWriteId:-1}}function F1(t,e,n,r){return _5(t.writeTree,t.treePath,e,n,r)}function b5(t,e){return rne(t.writeTree,t.treePath,e)}function TN(t,e,n,r){return ine(t.writeTree,t.treePath,e,n,r)}function Gy(t,e){return sne(t.writeTree,zn(t.treePath,e))}function cne(t,e,n,r,i,o){return ane(t.writeTree,t.treePath,e,n,r,i,o)}function nA(t,e,n){return one(t.writeTree,t.treePath,e,n)}function w5(t,e){return x5(zn(t.treePath,e),t.writeTree)}function x5(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class une{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;ye(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ye(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,vN(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,Fte(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,Lte(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,vN(r,e.snapshotNode,i.oldSnap));else throw Gu("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dne{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const E5=new dne;class rA{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new tA(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return nA(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Dl(this.viewCache_),o=cne(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}}function fne(t,e){ye(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),ye(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function hne(t,e,n,r,i){const o=new une;let s,a;if(n.type===Eo.OVERWRITE){const c=n;c.source.fromUser?s=V1(t,e,c.path,c.snap,r,i,o):(ye(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!ft(c.path),s=Ky(t,e,c.path,c.snap,r,i,a,o))}else if(n.type===Eo.MERGE){const c=n;c.source.fromUser?s=mne(t,e,c.path,c.children,r,i,o):(ye(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),s=U1(t,e,c.path,c.children,r,i,a,o))}else if(n.type===Eo.ACK_USER_WRITE){const c=n;c.revert?s=vne(t,e,c.path,r,i,o):s=gne(t,e,c.path,c.affectedTree,r,i,o)}else if(n.type===Eo.LISTEN_COMPLETE)s=yne(t,e,n.path,r,o);else throw Gu("Unknown operation type: "+n.type);const l=o.getChanges();return pne(e,s,l),{viewCache:s,changes:l}}function pne(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=D1(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push($te(D1(e)))}}function S5(t,e,n,r,i,o){const s=e.eventCache;if(Gy(r,n)!=null)return e;{let a,l;if(ft(n))if(ye(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Dl(e),u=c instanceof Ct?c:Ct.EMPTY_NODE,d=b5(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{const c=F1(r,Dl(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,o)}else{const c=pt(n);if(c===".priority"){ye(ya(n)===1,"Can't have a priority with additional path components");const u=s.getNode();l=e.serverCache.getNode();const d=TN(r,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=s.getNode()}else{const u=Gt(n);let d;if(s.isCompleteForChild(c)){l=e.serverCache.getNode();const h=TN(r,n,s.getNode(),l);h!=null?d=s.getNode().getImmediateChild(c).updateChild(u,h):d=s.getNode().getImmediateChild(c)}else d=nA(r,c,e.serverCache);d!=null?a=t.filter.updateChild(s.getNode(),c,d,u,i,o):a=s.getNode()}}return Lf(e,a,s.isFullyInitialized()||ft(n),t.filter.filtersNodes())}}function Ky(t,e,n,r,i,o,s,a){const l=e.serverCache;let c;const u=s?t.filter:t.filter.getIndexedFilter();if(ft(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),p,null)}else{const p=pt(n);if(!l.isCompleteForPath(n)&&ya(n)>1)return e;const m=Gt(n),y=l.getNode().getImmediateChild(p).updateChild(m,r);p===".priority"?c=u.updatePriority(l.getNode(),y):c=u.updateChild(l.getNode(),p,y,m,E5,null)}const d=m5(e,c,l.isFullyInitialized()||ft(n),u.filtersNodes()),h=new rA(i,d,o);return S5(t,d,n,i,h,a)}function V1(t,e,n,r,i,o,s){const a=e.eventCache;let l,c;const u=new rA(i,e,o);if(ft(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,s),l=Lf(e,c,!0,t.filter.filtersNodes());else{const d=pt(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=Lf(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=Gt(n),p=a.getNode().getImmediateChild(d);let m;if(ft(h))m=r;else{const v=u.getCompleteChild(d);v!=null?e5(h)===".priority"&&v.getChild(n5(h)).isEmpty()?m=v:m=v.updateChild(h,r):m=Ct.EMPTY_NODE}if(p.equals(m))l=e;else{const v=t.filter.updateChild(a.getNode(),d,m,h,u,s);l=Lf(e,v,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function CN(t,e){return t.eventCache.isCompleteForChild(e)}function mne(t,e,n,r,i,o,s){let a=e;return r.foreach((l,c)=>{const u=zn(n,l);CN(e,pt(u))&&(a=V1(t,a,u,c,i,o,s))}),r.foreach((l,c)=>{const u=zn(n,l);CN(e,pt(u))||(a=V1(t,a,u,c,i,o,s))}),a}function AN(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function U1(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;ft(n)?c=r:c=new Ht(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const p=e.serverCache.getNode().getImmediateChild(d),m=AN(t,p,h);l=Ky(t,l,new Xt(d),m,i,o,s,a)}}),c.children.inorderTraversal((d,h)=>{const p=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!p){const m=e.serverCache.getNode().getImmediateChild(d),v=AN(t,m,h);l=Ky(t,l,new Xt(d),v,i,o,s,a)}}),l}function gne(t,e,n,r,i,o,s){if(Gy(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(ft(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Ky(t,e,n,l.getNode().getChild(n),i,o,a,s);if(ft(n)){let c=new Ht(null);return l.getNode().forEachChild(Jc,(u,d)=>{c=c.set(new Xt(u),d)}),U1(t,e,n,c,i,o,a,s)}else return e}else{let c=new Ht(null);return r.foreach((u,d)=>{const h=zn(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),U1(t,e,n,c,i,o,a,s)}}function yne(t,e,n,r,i){const o=e.serverCache,s=m5(e,o.getNode(),o.isFullyInitialized()||ft(n),o.isFiltered());return S5(t,s,n,r,E5,i)}function vne(t,e,n,r,i,o){let s;if(Gy(r,n)!=null)return e;{const a=new rA(r,e,i),l=e.eventCache.getNode();let c;if(ft(n)||pt(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=F1(r,Dl(e));else{const d=e.serverCache.getNode();ye(d instanceof Ct,"serverChildren would be complete if leaf node"),u=b5(r,d)}u=u,c=t.filter.updateFullNode(l,u,o)}else{const u=pt(n);let d=nA(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,Gt(n),a,o):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,Ct.EMPTY_NODE,Gt(n),a,o):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=F1(r,Dl(e)),s.isLeafNode()&&(c=t.filter.updateFullNode(c,s,o)))}return s=e.serverCache.isFullyInitialized()||Gy(r,Mt())!=null,Lf(e,c,s,t.filter.filtersNodes())}}function _ne(t,e){const n=Dl(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ft(e)&&!n.getImmediateChild(pt(e)).isEmpty())?n.getChild(e):null}function IN(t,e,n,r){e.type===Eo.MERGE&&e.source.queryId!==null&&(ye(Dl(t.viewCache_),"We should always have a full cache before handling merges"),ye(D1(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,o=hne(t.processor_,i,e,n,r);return fne(t.processor_,o.viewCache),ye(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,bne(t,o.changes,o.viewCache.eventCache.getNode(),null)}function bne(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return Gte(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let PN;function wne(t){ye(!PN,"__referenceConstructor has already been defined"),PN=t}function iA(t,e,n,r){const i=e.source.queryId;if(i!==null){const o=t.views.get(i);return ye(o!=null,"SyncTree gave us an op for an invalid query."),IN(o,e,n,r)}else{let o=[];for(const s of t.views.values())o=o.concat(IN(s,e,n,r));return o}}function oA(t,e){let n=null;for(const r of t.views.values())n=n||_ne(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ON;function xne(t){ye(!ON,"__referenceConstructor has already been defined"),ON=t}class kN{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ht(null),this.pendingWriteTree_=lne(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Ene(t,e,n,r,i){return Xte(t.pendingWriteTree_,e,n,r,i),i?n0(t,new Ml(d5(),e,n)):[]}function Mc(t,e,n=!1){const r=Jte(t.pendingWriteTree_,e);if(Zte(t.pendingWriteTree_,e)){let o=new Ht(null);return r.snap!=null?o=o.set(Mt(),!0):Ri(r.children,s=>{o=o.set(new Xt(s),!0)}),n0(t,new qy(r.path,o,n))}else return[]}function t0(t,e,n){return n0(t,new Ml(f5(),e,n))}function Sne(t,e,n){const r=Ht.fromObject(n);return n0(t,new Lh(f5(),e,r))}function Tne(t,e,n,r){const i=I5(t,r);if(i!=null){const o=P5(i),s=o.path,a=o.queryId,l=Ei(s,e),c=new Ml(h5(a),l,n);return O5(t,s,c)}else return[]}function Cne(t,e,n,r){const i=I5(t,r);if(i){const o=P5(i),s=o.path,a=o.queryId,l=Ei(s,e),c=Ht.fromObject(n),u=new Lh(h5(a),l,c);return O5(t,s,u)}else return[]}function T5(t,e,n){const i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{const l=Ei(s,e),c=oA(a,l);if(c)return c});return _5(i,e,o,n,!0)}function n0(t,e){return C5(e,t.syncPointTree_,null,y5(t.pendingWriteTree_,Mt()))}function C5(t,e,n,r){if(ft(t.path))return A5(t,e,n,r);{const i=e.get(Mt());n==null&&i!=null&&(n=oA(i,Mt()));let o=[];const s=pt(t.path),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){const c=n?n.getImmediateChild(s):null,u=w5(r,s);o=o.concat(C5(a,l,c,u))}return i&&(o=o.concat(iA(i,t,r,n))),o}}function A5(t,e,n,r){const i=e.get(Mt());n==null&&i!=null&&(n=oA(i,Mt()));let o=[];return e.children.inorderTraversal((s,a)=>{const l=n?n.getImmediateChild(s):null,c=w5(r,s),u=t.operationForChild(s);u&&(o=o.concat(A5(u,a,l,c)))}),i&&(o=o.concat(iA(i,t,r,n))),o}function I5(t,e){return t.tagToQueryMap.get(e)}function P5(t){const e=t.indexOf("$");return ye(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Xt(t.substr(0,e))}}function O5(t,e,n){const r=t.syncPointTree_.get(e);ye(r,"Missing sync point for query tag that we're tracking");const i=y5(t.pendingWriteTree_,e);return iA(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new sA(n)}node(){return this.node_}}class aA{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=zn(this.path_,e);return new aA(this.syncTree_,n)}node(){return T5(this.syncTree_,this.path_)}}const Ane=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},NN=function(t,e,n){if(!t||typeof t!="object")return t;if(ye(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Ine(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Pne(t[".sv"],e);ye(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Ine=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:ye(!1,"Unexpected server value: "+t)}},Pne=function(t,e,n){t.hasOwnProperty("increment")||ye(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&ye(!1,"Unexpected increment value: "+r);const i=e.node();if(ye(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return typeof s!="number"?r:s+r},One=function(t,e,n,r){return lA(e,new aA(n,t),r)},kne=function(t,e,n){return lA(t,new sA(e),n)};function lA(t,e,n){const r=t.getPriority().val(),i=NN(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const s=t,a=NN(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new $n(a,yr(i)):t}else{const s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new $n(i))),s.forEachChild(wr,(a,l)=>{const c=lA(l,e.getImmediateChild(a),n);c!==l&&(o=o.updateImmediateChild(a,c))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function uA(t,e){let n=e instanceof Xt?e:new Xt(e),r=t,i=pt(n);for(;i!==null;){const o=uu(r.node.children,i)||{children:{},childCount:0};r=new cA(i,r,o),n=Gt(n),i=pt(n)}return r}function rd(t){return t.node.value}function k5(t,e){t.node.value=e,B1(t)}function N5(t){return t.node.childCount>0}function Nne(t){return rd(t)===void 0&&!N5(t)}function r0(t,e){Ri(t.node.children,(n,r)=>{e(new cA(n,t,r))})}function R5(t,e,n,r){n&&!r&&e(t),r0(t,i=>{R5(i,e,!0,r)}),n&&r&&e(t)}function Rne(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function sm(t){return new Xt(t.parent===null?t.name:sm(t.parent)+"/"+t.name)}function B1(t){t.parent!==null&&jne(t.parent,t.name,t)}function jne(t,e,n){const r=Nne(n),i=Ts(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,B1(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,B1(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mne=/[\[\].#$\/\u0000-\u001F\u007F]/,Dne=/[\[\].#$\u0000-\u001F\u007F]/,nw=10*1024*1024,j5=function(t){return typeof t=="string"&&t.length!==0&&!Mne.test(t)},$ne=function(t){return typeof t=="string"&&t.length!==0&&!Dne.test(t)},Lne=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),$ne(t)},M5=function(t,e,n){const r=n instanceof Xt?new yte(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Ba(r));if(typeof e=="function")throw new Error(t+"contains a function "+Ba(r)+" with contents = "+e.toString());if(jU(e))throw new Error(t+"contains "+e.toString()+" "+Ba(r));if(typeof e=="string"&&e.length>nw/3&&p_(e)>nw)throw new Error(t+"contains a string greater than "+nw+" utf8 bytes "+Ba(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(Ri(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!j5(s)))throw new Error(t+" contains an invalid key ("+s+") "+Ba(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);vte(r,s),M5(t,a,r),_te(r)}),i&&o)throw new Error(t+' contains ".value" child '+Ba(r)+" in addition to actual children.")}},Fne=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!j5(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Lne(n))throw new Error(YG(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vne{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Une(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();n!==null&&!r5(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function Zl(t,e,n){Une(t,n),Bne(t,r=>Xi(r,e)||Xi(e,r))}function Bne(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const o=i.path;e(o)?(zne(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function zne(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();hl&&gr("event: "+n.toString()),im(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wne="repo_interrupt",Hne=25;class qne{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Vne,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Hy(),this.transactionQueueTree_=new cA,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Gne(t,e,n){if(t.stats_=YC(t.repoInfo_),t.forceRestClient_||Uee())t.server_=new Wy(t.repoInfo_,(r,i,o,s)=>{RN(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>jN(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{er(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new ls(t.repoInfo_,e,(r,i,o,s)=>{RN(t,r,i,o,s)},r=>{jN(t,r)},r=>{Qne(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Gee(t.repoInfo_,()=>new qte(t.stats_,t.server_)),t.infoData_=new Ute,t.infoSyncTree_=new kN({startListening:(r,i,o,s)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=t0(t.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),dA(t,"connected",!1),t.serverSyncTree_=new kN({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,l)=>{const c=s(a,l);Zl(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function Kne(t){const n=t.infoData_.getNode(new Xt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function D5(t){return Ane({timestamp:Kne(t)})}function RN(t,e,n,r,i){t.dataUpdateCount++;const o=new Xt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){const l=yy(n,c=>yr(c));s=Cne(t.serverSyncTree_,o,l,i)}else{const l=yr(n);s=Tne(t.serverSyncTree_,o,l,i)}else if(r){const l=yy(n,c=>yr(c));s=Sne(t.serverSyncTree_,o,l)}else{const l=yr(n);s=t0(t.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=hA(t,o)),Zl(t.eventQueue_,a,s)}function jN(t,e){dA(t,"connected",e),e===!1&&Xne(t)}function Qne(t,e){Ri(e,(n,r)=>{dA(t,n,r)})}function dA(t,e,n){const r=new Xt("/.info/"+e),i=yr(n);t.infoData_.updateSnapshot(r,i);const o=t0(t.infoSyncTree_,r,i);Zl(t.eventQueue_,r,o)}function Yne(t){return t.nextWriteId_++}function Xne(t){$5(t,"onDisconnectEvents");const e=D5(t),n=Hy();M1(t.onDisconnect_,Mt(),(i,o)=>{const s=One(i,o,t.serverSyncTree_,e);u5(n,i,s)});let r=[];M1(n,Mt(),(i,o)=>{r=r.concat(t0(t.serverSyncTree_,i,o));const s=tre(t,i);hA(t,s)}),t.onDisconnect_=Hy(),Zl(t.eventQueue_,Mt(),r)}function Jne(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Wne)}function $5(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),gr(n,...e)}function L5(t,e,n){return T5(t.serverSyncTree_,e,n)||Ct.EMPTY_NODE}function fA(t,e=t.transactionQueueTree_){if(e||i0(t,e),rd(e)){const n=V5(t,e);ye(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Zne(t,sm(e),n)}else N5(e)&&r0(e,n=>{fA(t,n)})}function Zne(t,e,n){const r=n.map(c=>c.currentWriteId),i=L5(t,e,r);let o=i;const s=i.hash();for(let c=0;c<n.length;c++){const u=n[c];ye(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=Ei(e,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}const a=o.val(!0),l=e;t.server_.put(l.toString(),a,c=>{$5(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(Mc(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();i0(t,uA(t.transactionQueueTree_,e)),fA(t,t.transactionQueueTree_),Zl(t.eventQueue_,e,u);for(let h=0;h<d.length;h++)im(d[h])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{ai("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}hA(t,e)}},s)}function hA(t,e){const n=F5(t,e),r=sm(n),i=V5(t,n);return ere(t,i,r),r}function ere(t,e,n){if(e.length===0)return;const r=[];let i=[];const s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Ei(n,l.path);let u=!1,d;if(ye(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(Mc(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Hne)u=!0,d="maxretry",i=i.concat(Mc(t.serverSyncTree_,l.currentWriteId,!0));else{const h=L5(t,l.path,s);l.currentInputSnapshot=h;const p=e[a].update(h.val());if(p!==void 0){M5("transaction failed: Data returned ",p,l.path);let m=yr(p);typeof p=="object"&&p!=null&&Ts(p,".priority")||(m=m.updatePriority(h.getPriority()));const y=l.currentWriteId,b=D5(t),g=kne(m,h,b);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=g,l.currentWriteId=Yne(t),s.splice(s.indexOf(y),1),i=i.concat(Ene(t.serverSyncTree_,l.path,g,l.currentWriteId,l.applyLocally)),i=i.concat(Mc(t.serverSyncTree_,y,!0))}else u=!0,d="nodata",i=i.concat(Mc(t.serverSyncTree_,l.currentWriteId,!0))}Zl(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}i0(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)im(r[a]);fA(t,t.transactionQueueTree_)}function F5(t,e){let n,r=t.transactionQueueTree_;for(n=pt(e);n!==null&&rd(r)===void 0;)r=uA(r,n),e=Gt(e),n=pt(e);return r}function V5(t,e){const n=[];return U5(t,e,n),n.sort((r,i)=>r.order-i.order),n}function U5(t,e,n){const r=rd(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);r0(e,i=>{U5(t,i,n)})}function i0(t,e){const n=rd(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,k5(e,n.length>0?n:void 0)}r0(e,r=>{i0(t,r)})}function tre(t,e){const n=sm(F5(t,e)),r=uA(t.transactionQueueTree_,e);return Rne(r,i=>{rw(t,i)}),rw(t,r),R5(r,i=>{rw(t,i)}),n}function rw(t,e){const n=rd(e);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(ye(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(ye(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Mc(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?k5(e,void 0):n.length=o+1,Zl(t.eventQueue_,sm(e),i);for(let s=0;s<r.length;s++)im(r[s])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nre(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function rre(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ai(`Invalid query segment '${n}' in query '${t}'`)}return e}const MN=function(t,e){const n=ire(t),r=n.namespace;n.domain==="firebase.com"&&Rl(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Rl("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Ree();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Wee(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Xt(n.pathString)}},ire=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=nre(t.substring(u,d)));const h=rre(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(s=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const m=e.indexOf(".");r=e.substring(0,m).toLowerCase(),n=e.substring(m+1),o=r}"ns"in h&&(o=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return ft(this._path)?null:e5(this._path)}get ref(){return new id(this._repo,this._path)}get _queryIdentifier(){const e=bN(this._queryParams),n=KC(e);return n==="{}"?"default":n}get _queryObject(){return bN(this._queryParams)}isEqual(e){if(e=on(e),!(e instanceof pA))return!1;const n=this._repo===e._repo,r=r5(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+gte(this._path)}}class id extends pA{constructor(e,n){super(e,n,new eA,!1)}get parent(){const e=n5(this._path);return e===null?null:new id(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}wne(id);xne(id);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ore="FIREBASE_DATABASE_EMULATOR_HOST",z1={};let sre=!1;function are(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||Rl("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),gr("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=MN(o,i),a=s.repoInfo,l,c;typeof process<"u"&&tN&&(c=tN[ore]),c?(l=!0,o=`http://${c}?ns=${a.namespace}`,s=MN(o,i),a=s.repoInfo):l=!s.repoInfo.secure;const u=i&&l?new N1(N1.OWNER):new zee(t.name,t.options,e);Fne("Invalid Firebase Database URL",s),ft(s.path)||Rl("Database URL must point to the root of a Firebase Database (not including a child path).");const d=cre(a,t,u,new Bee(t.name,n));return new ure(d,t)}function lre(t,e){const n=z1[e];(!n||n[t.key]!==t)&&Rl(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Jne(t),delete n[t.key]}function cre(t,e,n,r){let i=z1[e.name];i||(i={},z1[e.name]=i);let o=i[t.toURLString()];return o&&Rl("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new qne(t,sre,n,r),i[t.toURLString()]=o,o}class ure{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Gne(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new id(this._repo,Mt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(lre(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Rl("Cannot call "+e+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dre(t){Iee(Sa),ha(new gs("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return are(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),Ci(nN,rN,t),Ci(nN,rN,"esm2017")}ls.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};ls.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};dre();function DN(t){let e=co(),[n,r]=S.useState(""),[i,o]=S.useState(""),[s,a]=S.useState(""),[l,c]=S.useState(""),[u,d]=S.useState(""),[h,p]=S.useState([]),[m,v]=S.useState();const y=me(le,"grupos");function b(){const w=me(le,"config");let E=nt(w,rt("user_id","==",t.user_id)),x=[];Ue(E).then(T=>{T.forEach(C=>{let O=C.data().id_grupos;const I=C.ref;n=="monedas1000"?(De(I,{monedas:C.data().monedas+1e3}),t.onUnido()):O.includes(n)?(x.codigo="Ya estas en este grupo",p(x)):(O.push(n),De(I,{id_grupos:O}),t.onUnido())})})}function g(){const w=me(le,"config");let E=nt(w,rt("user_id","==",t.user_id));tm(y,{nombre:s,password:l,uid:t.user_id}).then(x=>{Ue(E).then(T=>{T.forEach(C=>{let O=C.data().id_grupos;if(O.includes(x.id))h.codigo="Ya estas en este grupo",p(h);else{O.push(x.id);const I=C.ref;De(I,{id_grupos:O}).then(()=>{e(`/detalle/grupo/${x.id}`,{state:{mensaje:"Grupo creado exitosamente"}})}),t.onUnido()}})})})}function _(w){let E=[];if(w==1)if(n!="monedas1000"&&i!="monedas1000"){let x=Ae(y,n);ot(x).then(T=>{T.exists()?i!="monedas1000"&&i!=T.data().password&&(E.pass="Contraseña incorrecta"):E.codigo="Parece que ese codigo no es correcto",p(E),Object.keys(E).length==0&&b()})}else b();else w==2&&(s===""&&(E.nombre="El nombre no puede estar vacío"),l!==u&&(E.confirmacion="Las contraseñas son diferentes"),l.length<8&&(E.pass="Contraseña demasiado corta, se necesitan al menos 8 caracteres"),p(E),Object.keys(E).length==0&&g())}return t.number===1?m=f.jsxs("div",{className:"w-50",children:[f.jsx("h2",{children:"Grupos Unirse"}),f.jsxs("div",{className:"form-input d-flex flex-column align-items-center gap-3",children:[f.jsx("input",{type:"text",name:"codigo",id:"codigo",placeholder:"Código de grupo",autoComplete:"off",onChange:w=>{r(w.target.value)}}),h.codigo&&f.jsx("p",{className:"text-danger",children:h.codigo}),f.jsx("input",{type:"password",name:"pass",id:"pass",placeholder:"Contraseña",autoComplete:"off",onChange:w=>{o(w.target.value)}}),h.pass&&f.jsx("p",{className:"text-danger",children:h.pass}),f.jsx("button",{onClick:()=>{_(1)},className:"btn btn-primary mt-5",children:"Unirse"})]})]}):t.number===2&&(m=f.jsxs("div",{className:"w-50",children:[f.jsx("h2",{children:"Grupos Crear"}),f.jsxs("div",{className:"form-input d-flex flex-column align-items-center gap-3",children:[f.jsx("input",{className:s!=""?"text-white":"",required:!0,type:"text",name:"nombre",id:"nombre",placeholder:"Nombre de grupo",autoComplete:"off",onChange:w=>{a(w.target.value)}}),h.nombre&&f.jsx("p",{className:"text-danger",children:h.nombre}),f.jsx("input",{className:l!=""?"text-white ":"",required:!0,type:"password",name:"pass",id:"pass",placeholder:"Contraseña",autoComplete:"off",onChange:w=>{c(w.target.value)}}),h.pass&&f.jsx("p",{className:"text-danger",children:h.pass}),f.jsx("input",{className:u!=""?"text-white":"",required:!0,type:"password",name:"check-pass",id:"check-pass",placeholder:"Confirmar contraseña",autoComplete:"off",onChange:w=>{d(w.target.value)}}),h.confirmacion&&f.jsx("p",{className:"text-danger",children:h.confirmacion}),f.jsx("button",{onClick:()=>{_(2)},className:"btn btn-primary mt-5",children:"Crear"})]})]})),m}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5="firebasestorage.googleapis.com",z5="storageBucket",fre=2*60*1e3,hre=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn extends Vo{constructor(e,n,r=0){super(iw(e),`Firebase Storage: ${n} (${iw(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return iw(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var dn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(dn||(dn={}));function iw(t){return"storage/"+t}function mA(){const t="An unknown error occurred, please check the error payload for server response.";return new fn(dn.UNKNOWN,t)}function pre(t){return new fn(dn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function mre(t){return new fn(dn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function gre(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new fn(dn.UNAUTHENTICATED,t)}function yre(){return new fn(dn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function vre(t){return new fn(dn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function _re(){return new fn(dn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function bre(){return new fn(dn.CANCELED,"User canceled the upload/download.")}function wre(t){return new fn(dn.INVALID_URL,"Invalid URL '"+t+"'.")}function xre(t){return new fn(dn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Ere(){return new fn(dn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+z5+"' property when initializing the app?")}function Sre(){return new fn(dn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Tre(){return new fn(dn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Cre(t){return new fn(dn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function W1(t){return new fn(dn.INVALID_ARGUMENT,t)}function W5(){return new fn(dn.APP_DELETED,"The Firebase app was deleted.")}function Are(t){return new fn(dn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Vf(t,e){return new fn(dn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function zd(t){throw new fn(dn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=oi.makeFromUrl(e,n)}catch{return new oi(e,"")}if(r.path==="")return r;throw xre(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(w){w.path.charAt(w.path.length-1)==="/"&&(w.path_=w.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function c(w){w.path_=decodeURIComponent(w.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${u}/b/${i}/o${h}`,"i"),m={bucket:1,path:3},v=n===B5?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",b=new RegExp(`^https?://${v}/${i}/${y}`,"i"),_=[{regex:a,indices:l,postModify:o},{regex:p,indices:m,postModify:c},{regex:b,indices:{bucket:1,path:2},postModify:c}];for(let w=0;w<_.length;w++){const E=_[w],x=E.regex.exec(e);if(x){const T=x[E.indices.bucket];let C=x[E.indices.path];C||(C=""),r=new oi(T,C),E.postModify(r);break}}if(r==null)throw wre(e);return r}}class Ire{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pre(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let c=!1;function u(...y){c||(c=!0,e.apply(null,y))}function d(y){i=setTimeout(()=>{i=null,t(p,l())},y)}function h(){o&&clearTimeout(o)}function p(y,...b){if(c){h();return}if(y){h(),u.call(null,y,...b);return}if(l()||s){h(),u.call(null,y,...b);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,d(_)}let m=!1;function v(y){m||(m=!0,h(),!c&&(i!==null?(y||(a=2),clearTimeout(i),d(0)):y||(a=1)))}return d(0),o=setTimeout(()=>{s=!0,v(!0)},n),v}function Ore(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kre(t){return t!==void 0}function Nre(t){return typeof t=="object"&&!Array.isArray(t)}function gA(t){return typeof t=="string"||t instanceof String}function $N(t){return yA()&&t instanceof Blob}function yA(){return typeof Blob<"u"}function LN(t,e,n,r){if(r<e)throw W1(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw W1(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function H5(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pl;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(pl||(pl={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rre(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jre{constructor(e,n,r,i,o,s,a,l,c,u,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,m)=>{this.resolve_=p,this.reject_=m,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new qm(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===pl.NO_ERROR,l=o.getStatus();if(!a||Rre(l,this.additionalRetryCodes_)&&this.retry){const u=o.getErrorCode()===pl.ABORT;r(!1,new qm(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new qm(c,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());kre(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=mA();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?W5():bre();s(l)}else{const l=_re();s(l)}};this.canceled_?n(!1,new qm(!1,null,!0)):this.backoffId_=Pre(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Ore(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class qm{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Mre(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Dre(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function $re(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Lre(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Fre(t,e,n,r,i,o,s=!0){const a=H5(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return $re(c,e),Mre(c,n),Dre(c,o),Lre(c,r),new jre(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vre(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Ure(...t){const e=Vre();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(yA())return new Blob(t);throw new fn(dn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Bre(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zre(t){if(typeof atob>"u")throw Cre("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ow{constructor(e,n){this.data=e,this.contentType=n||null}}function Wre(t,e){switch(t){case So.RAW:return new ow(q5(e));case So.BASE64:case So.BASE64URL:return new ow(G5(t,e));case So.DATA_URL:return new ow(qre(e),Gre(e))}throw mA()}function q5(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Hre(t){let e;try{e=decodeURIComponent(t)}catch{throw Vf(So.DATA_URL,"Malformed data URL.")}return q5(e)}function G5(t,e){switch(t){case So.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Vf(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case So.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Vf(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=zre(e)}catch(i){throw i.message.includes("polyfill")?i:Vf(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class K5{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Vf(So.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Kre(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function qre(t){const e=new K5(t);return e.base64?G5(So.BASE64,e.rest):Hre(e.rest)}function Gre(t){return new K5(t).contentType}function Kre(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,n){let r=0,i="";$N(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if($N(this.data_)){const r=this.data_,i=Bre(r,e,n);return i===null?null:new Bs(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Bs(r,!0)}}static getBlob(...e){if(yA()){const n=e.map(r=>r instanceof Bs?r.data_:r);return new Bs(Ure.apply(null,n))}else{const n=e.map(s=>gA(s)?Wre(So.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new Bs(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q5(t){let e;try{e=JSON.parse(t)}catch{return null}return Nre(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qre(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Yre(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Y5(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xre(t,e){return e}class Ar{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Xre}}let Gm=null;function Jre(t){return!gA(t)||t.length<2?t:Y5(t)}function X5(){if(Gm)return Gm;const t=[];t.push(new Ar("bucket")),t.push(new Ar("generation")),t.push(new Ar("metageneration")),t.push(new Ar("name","fullPath",!0));function e(o,s){return Jre(s)}const n=new Ar("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new Ar("size");return i.xform=r,t.push(i),t.push(new Ar("timeCreated")),t.push(new Ar("updated")),t.push(new Ar("md5Hash",null,!0)),t.push(new Ar("cacheControl",null,!0)),t.push(new Ar("contentDisposition",null,!0)),t.push(new Ar("contentEncoding",null,!0)),t.push(new Ar("contentLanguage",null,!0)),t.push(new Ar("contentType",null,!0)),t.push(new Ar("metadata","customMetadata",!0)),Gm=t,Gm}function Zre(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new oi(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function eie(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return Zre(r,t),r}function J5(t,e,n){const r=Q5(e);return r===null?null:eie(t,r,n)}function tie(t,e,n,r){const i=Q5(e);if(i===null||!gA(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(c=>{const u=t.bucket,d=t.fullPath,h="/b/"+s(u)+"/o/"+s(d),p=vA(h,n,r),m=H5({alt:"media",token:c});return p+m})[0]}function nie(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class Z5{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eB(t){if(!t)throw mA()}function rie(t,e){function n(r,i){const o=J5(t,i,e);return eB(o!==null),o}return n}function iie(t,e){function n(r,i){const o=J5(t,i,e);return eB(o!==null),tie(o,i,t.host,t._protocol)}return n}function tB(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=yre():i=gre():n.getStatus()===402?i=mre(t.bucket):n.getStatus()===403?i=vre(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function oie(t){const e=tB(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=pre(t.path)),o.serverResponse=i.serverResponse,o}return n}function sie(t,e,n){const r=e.fullServerUrl(),i=vA(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new Z5(i,o,iie(t,n),s);return a.errorHandler=oie(e),a}function aie(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function lie(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=aie(null,e)),r}function cie(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let _="";for(let w=0;w<2;w++)_=_+Math.random().toString().slice(2);return _}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const c=lie(e,r,i),u=nie(c,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=Bs.getBlob(d,r,h);if(p===null)throw Sre();const m={name:c.fullPath},v=vA(o,t.host,t._protocol),y="POST",b=t.maxUploadRetryTime,g=new Z5(v,y,rie(t,n),b);return g.urlParams=m,g.headers=s,g.body=p.uploadData(),g.errorHandler=tB(e),g}class uie{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=pl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=pl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=pl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw zd("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw zd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw zd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw zd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw zd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class die extends uie{initXhr(){this.xhr_.responseType="text"}}function nB(){return new die}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,n){this._service=e,n instanceof oi?this._location=n:this._location=oi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new $l(e,n)}get root(){const e=new oi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Y5(this._location.path)}get storage(){return this._service}get parent(){const e=Qre(this._location.path);if(e===null)return null;const n=new oi(this._location.bucket,e);return new $l(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Are(e)}}function fie(t,e,n){t._throwIfRoot("uploadBytes");const r=cie(t.storage,t._location,X5(),new Bs(e,!0),n);return t.storage.makeRequestWithTokens(r,nB).then(i=>({metadata:i,ref:t}))}function hie(t){t._throwIfRoot("getDownloadURL");const e=sie(t.storage,t._location,X5());return t.storage.makeRequestWithTokens(e,nB).then(n=>{if(n===null)throw Tre();return n})}function pie(t,e){const n=Yre(t._location.path,e),r=new oi(t._location.bucket,n);return new $l(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mie(t){return/^[A-Za-z]+:\/\//.test(t)}function gie(t,e){return new $l(t,e)}function rB(t,e){if(t instanceof _A){const n=t;if(n._bucket==null)throw Ere();const r=new $l(n,n._bucket);return e!=null?rB(r,e):r}else return e!==void 0?pie(t,e):t}function yie(t,e){if(e&&mie(e)){if(t instanceof _A)return gie(t,e);throw W1("To use ref(service, url), the first argument must be a Storage instance.")}else return rB(t,e)}function FN(t,e){const n=e==null?void 0:e[z5];return n==null?null:oi.makeFromBucketSpec(n,t)}function vie(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:_F(i,t.app.options.projectId))}class _A{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=B5,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=fre,this._maxUploadRetryTime=hre,this._requests=new Set,i!=null?this._bucket=oi.makeFromBucketSpec(i,this._host):this._bucket=FN(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=oi.makeFromBucketSpec(this._url,e):this._bucket=FN(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){LN("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){LN("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new $l(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new Ire(W5());{const s=Fre(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const VN="@firebase/storage",UN="0.12.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iB="storage";function oB(t,e,n){return t=on(t),fie(t,e,n)}function sB(t){return t=on(t),hie(t)}function aB(t,e){return t=on(t),yie(t,e)}function lB(t=jT(),e){t=on(t);const r=g_(t,iB).getImmediate({identifier:e}),i=gF("storage");return i&&_ie(r,...i),r}function _ie(t,e,n,r={}){vie(t,e,n,r)}function bie(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new _A(n,r,i,e,Sa)}function wie(){ha(new gs(iB,bie,"PUBLIC").setMultipleInstances(!0)),Ci(VN,UN,""),Ci(VN,UN,"esm2017")}wie();function xie(t){let[e,n]=S.useState(""),[r,i]=S.useState(""),[o,s]=S.useState("");S.useEffect(()=>{t.juego&&t.juego.nombre&&n(t.juego.nombre)},[t.juego]),S.useEffect(()=>{t.config&&(i(t.config.user_name||""),s(t.config.foto||""))},[t.config]);function a(d){n(d.target.value)}function l(d){i(d.target.value)}function c(d){const h=d.target.files[0];if(!h)return;const p=lB(),m=aB(p,"fotos/"+h.name);oB(m,h).then(()=>sB(m)).then(v=>{s(v)})}function u(){if(t.config.status==2){let d=me(le,"config"),h=nt(d,rt("user_id","==",t.config.user_id));Ue(h).then(p=>{p.docs.map(m=>{let v=Ae(le,"config",m.id);return De(v,{status:1}).then(()=>{t.onGuardado()})})})}if(e!=t.juego.nombre){let d=Ae(le,"juego",t.config.user_id);De(d,{nombre:e})}if(r!=t.config.user_name){let d=me(le,"config"),h=nt(d,rt("user_id","==",t.config.user_id));Ue(h).then(p=>{p.docs.map(m=>{let v=Ae(le,"config",m.id);return De(v,{user_name:r}).then(()=>{t.onGuardado()})})})}if(o!=t.config.foto){let d=me(le,"config"),h=nt(d,rt("user_id","==",t.config.user_id));Ue(h).then(p=>{p.docs.map(m=>{let v=Ae(le,"config",m.id);return De(v,{foto:o}).then(()=>{t.onGuardado()})})})}}return f.jsxs("div",{className:"d-flex flex-column w-50 gap-5",children:[f.jsxs("div",{className:"form-input",children:[f.jsx("label",{htmlFor:"nombre",children:"Nombre de usuario"}),f.jsx("input",{className:"text-white",type:"text",name:"nombre",id:"nombre",placeholder:"Nombre de usuario",value:r,onChange:l})]}),f.jsxs("div",{className:"form-input d-flex gap-3 align-items-center",children:[f.jsx("label",{htmlFor:"foto",children:"Foto de perfil"}),f.jsx("img",{className:"config--foto",src:o,alt:"Foto de "+t.config.nombre}),f.jsx("input",{type:"file",name:"foto",id:"foto",onChange:c})]}),t.juego&&f.jsxs("div",{className:"form-input",children:[f.jsx("label",{htmlFor:"n_booku",children:"Nombre de booku"}),f.jsx("input",{className:"text-white",type:"text",name:"n_booku",id:"n_booku",placeholder:"Nombre de booku",value:e,onChange:a})]}),f.jsx("button",{onClick:u,className:"btn btn-primary",children:"Guardar"})]})}function Eie(){let t=co(),[e,n]=S.useState(""),[r,i]=S.useState([f.jsx(Ne,{className:"menu__link fs-1 text-uppercase",to:"/prueba",children:"Prueba"})]),[o,s]=S.useState([]),a="",[l,c]=S.useState(!1),[u,d]=S.useState(!1),[h,p]=S.useState(!1),[m,v]=S.useState(0);S.useState([]);let[y,b]=S.useState([]),[g,_]=S.useState(),[w,E]=S.useState({}),[x,T]=S.useState(!1),[C,O]=S.useState(0),[I,D]=S.useState(),[L,j]=S.useState([]);S.useEffect(()=>{const k=Ni();Di(k,A=>{n(A),i(A?[f.jsx(Ne,{className:"menu__link fw-bold text-uppercase",to:"/home",children:"Principal"},"principal"),f.jsx(Ne,{className:"menu__link fw-bold text-uppercase",to:"/retos",children:"Retos"},"retos"),f.jsx(Ne,{className:"menu__link fw-bold text-uppercase",to:"/play",children:"Juego"},"juego")]:[f.jsx(Ne,{className:"menu__link fw-bold text-uppercase",to:"/",children:"Principal"},"index"),f.jsx(Ne,{className:"menu__link fw-bold text-uppercase",to:"/sobre-nosotros",children:"Sobre nosotros"},"about"),f.jsx(Ne,{className:"menu__link fw-bold text-uppercase",to:"/contacto",children:"Contacto"},"contact")])})},[]),S.useEffect(()=>{w&&(U(),X())},[w]),S.useEffect(()=>{if(e){B(),Q();const k=setInterval(B,15e3);return()=>clearInterval(k)}},[e]);function B(){let k=me(le,"amigos"),A=me(le,"config"),$=Ae(k,e.uid),R=nt(A,rt("user_id","==",e.uid));ot($).then(F=>{F.exists()&&(F.data().solicitudes.map(H=>{let ae=me(le,"config"),de=nt(ae,rt("user_id","==",H));Ue(de).then(pe=>{pe.forEach(Se=>{s([...o,Se.data()])})})}),Ue(R).then(H=>{H.forEach(ae=>{v(ae.data().permisos),E(ae.data())})}))})}function Y(){let k=me(le,"config"),A=nt(k,rt("user_id","==",w.user_id));Ue(A).then($=>{$.forEach(R=>{E(R.data()),X()})})}function X(){if(w&&w.id_grupos){const k=me(le,"grupos"),A=[];w.id_grupos.forEach($=>{const R=Ae(k,$),F=ot(R).then(G=>{if(G.exists()){const H=G.data();return{id:G.id,...H}}else return null});A.push(F)}),Promise.all(A).then($=>{const R=$.filter(F=>F!==null);j(R)}).catch($=>{console.error("Error cargando grupos:",$)})}}function U(){if(w&&w.user_id){let k=me(le,"juego"),A=Ae(k,w.user_id);ot(A).then($=>{if($.exists()){let R=$.data();D(R)}})}}function M(){const k=Ni();iQ(k).then(()=>{t("/")})}function q(){c(!l),h&&p(!h),u&&d(!u),C!=0&&O(0)}function N(){d(!u),h&&p(!h),l&&c(!l)}function P(){p(!h),l&&c(!l),u&&d(!u)}function W(k,A){let $=me(le,"amigos"),R=Ae($,e.uid),F=[],G=Ae($,k);ot(R).then(H=>{if(H.exists()){let ae=H.data(),de=[];ae.solicitudes.map(pe=>{pe!=k&&F.push(pe)}),De(R,{solicitudes:F}),s(F),A==!0&&(ae.amigos.map(pe=>{de.push(pe)}),de.push(k),De(R,{amigos:de}))}}),ot(G).then(H=>{if(H.exists()){let ae=H.data(),de=[...ae.pendientes],pe=e.uid;de=de.filter(Se=>Se!==pe),De(G,{pendientes:de}),A&&(de=[...ae.amigos],de.push(e.uid),De(G,{amigos:de}))}})}function Z(){let k=document.getElementById("menu-toggle");k.checked=!1}function se(){_(!g),Q();let k=me(le,"recompensas"),A=nt(k,rt("activa","==",!0));Ue(A).then($=>{let R=[];$.forEach(F=>{R.push(F.data())}),b(R)})}function Q(){let k=me(le,"config"),A=nt(k,rt("user_id","==",e.uid));Ue(A).then($=>{$.forEach(R=>{E(R.data()),R.data().status==2&&p(!0)})})}function ee(k){w.monedas+=parseInt(k),w.last_recompensa=new Date,w.recompensa_n++;let A=me(le,"config"),$=nt(A,rt("user_id","==",e.uid));Ue($).then(R=>{R.forEach(F=>{De(F.ref,w)})}),T(!0),setTimeout(()=>{T(!1)},3e3),se()}function J(k){k==1?O(1):k==2&&O(2)}return e?a=f.jsxs("div",{className:"pe-5 me-0 me-md-5 d-flex align-items-end justify-content-end w-100",children:[m>=5&&f.jsx(Ne,{to:"/admin",className:"icon btn",children:f.jsx(tt,{icon:"pajamas:admin"})}),f.jsx(Ne,{to:"/buscador",className:"icon btn",children:f.jsx(tt,{icon:"material-symbols:search"})}),f.jsx("button",{onClick:se,className:"icon btn",children:f.jsx(tt,{icon:"material-symbols-light:calendar-month"})}),f.jsx("button",{onClick:q,className:"icon btn",children:f.jsx(tt,{icon:"material-symbols:groups-sharp"})}),f.jsxs("div",{children:[o.length>0&&f.jsx("div",{className:"badge bg-danger position-absolute mt-2 ms-5",children:o.length}),f.jsx("button",{onClick:N,className:"icon btn",children:f.jsx(tt,{icon:"ph:bell-ringing"})})]}),f.jsx("button",{onClick:()=>{P(),Q()},className:"icon btn",children:f.jsx(tt,{icon:"ep:setting"})}),f.jsx("button",{onClick:M,className:"icon btn",children:f.jsx(tt,{icon:"material-symbols:exit-to-app-rounded"})}),l&&f.jsxs("div",{className:"div-emergente",children:[f.jsx("section",{className:"div-emergente-title",children:f.jsx("h2",{children:"Grupos"})}),f.jsxs("section",{className:"div-emergente-body",children:[f.jsx("div",{className:"d-flex flex-column w-100 border-bottom pb-3",children:L.length==0?f.jsx("p",{children:"No hay grupos"}):L.map(k=>f.jsx(Ne,{to:"/detalle/grupo/"+k.id,onClick:q,className:"btn pt-3 pb-1 fs-3",children:k.nombre},k.id))}),f.jsx("button",{onClick:()=>{J(1)},className:"btn pt-3 pb-1 fs-3",children:"Unirse a Grupo"}),m>=2&&f.jsx("button",{onClick:()=>{J(2)},className:"btn pt-3 pb-1 fs-3",children:"Crear Grupo"})]})]}),u&&f.jsxs("div",{className:"div-emergente",children:[f.jsx("section",{className:"div-emergente-title",children:f.jsx("h2",{children:"Notificaciones"})}),f.jsx("section",{className:"div-emergente-body",children:o.map(k=>f.jsxs("div",{className:"d-flex align-items-center gap-2 w-100",children:[f.jsx("div",{className:"w-25",children:f.jsx("img",{className:"w-100",src:k.foto,alt:"Foto de "+k.user_name})}),f.jsx("p",{className:"fs-2",children:k.user_name}),f.jsxs("div",{className:"d-flex gap-0",children:[f.jsx("button",{onClick:()=>{W(k.user_id,!1)},className:"text-danger btn p-0",children:f.jsx(tt,{className:"fs-1",icon:"material-symbols:close-small"})}),f.jsx("button",{onClick:()=>{W(k.user_id,!0)},className:"text-success btn p-0",children:f.jsx(tt,{className:"fs-1",icon:"dashicons:yes"})})]})]},k.user_id))})]})]}):a=f.jsx("div",{className:" d-flex align-items-center justify-content-end pe-5 me-5 w-25",children:f.jsx(Ne,{to:"/inicio-sesion",children:f.jsx("button",{className:"icon btn",children:f.jsx(tt,{icon:"ph:user-duotone"})})})}),f.jsxs(f.Fragment,{children:[f.jsxs("header",{id:"header",children:[f.jsxs("nav",{className:"w-10",children:[f.jsx("input",{id:"menu-toggle",type:"checkbox"}),f.jsx("label",{className:"menu-button-container",htmlFor:"menu-toggle",children:f.jsx("div",{className:"menu-button"})}),f.jsx("ul",{className:"menu",children:r.map(k=>f.jsx("li",{onClick:Z,className:"header__nav__container",children:k},k.key))})]}),f.jsxs("div",{className:"title",children:[f.jsx(Ne,{to:"/",className:"display-1 d-none d-md-block",children:"Booku"}),f.jsx(Ne,{to:"/",className:"display-1 ms-5 d-flex d-md-none",children:"B"})]}),a]}),f.jsxs("footer",{id:"footer",className:"d-md-flex justify-content-md-evenly",children:[f.jsxs("section",{id:"footer__help",children:[f.jsx("h3",{children:"Acerca de"}),f.jsxs("ul",{children:[f.jsx("li",{children:f.jsx(Ne,{to:"/cookies",children:"Política de cookies"})}),f.jsx("li",{children:f.jsx(Ne,{to:"/sobre-nosotros",children:"Sobre nosotros"})}),f.jsx("li",{children:f.jsx(Ne,{to:"/contacto",children:"Contacto"})})]})]}),f.jsxs("section",{className:"d-flex flex-column justify-content-center",children:[f.jsx("h2",{className:"display-1",children:"Booku"}),f.jsx("p",{className:"fs-3",children:"2024©2025 Booku S.L."})]}),f.jsxs("section",{id:"footer__info",children:[f.jsx("h3",{children:"Redes sociales"}),f.jsxs("div",{className:"rrss__content__social",children:[f.jsx("a",{href:"https://www.facebook.com",children:f.jsx(tt,{className:"icon",icon:"mdi:facebook"})}),f.jsx("a",{href:"https://www.instragram.es",children:f.jsx(tt,{className:"icon",icon:"mdi:instagram"})}),f.jsx("a",{href:"https://www.twitter.es",children:f.jsx(tt,{className:"icon",icon:"mdi:twitter"})})]})]})]}),f.jsx("div",{className:`modal fade justify-content-center align-items-baseline align-items-md-center ${g?"show":""}`,id:"recompensas",style:{display:g?"flex":"none"},onClick:k=>{k.stopPropagation(),se()},children:f.jsx("div",{className:"recompensas modal-content w-70",children:f.jsxs("div",{className:"modal-body",onClick:k=>k.stopPropagation(),children:[f.jsxs("div",{children:[f.jsx("h2",{className:"display-6",children:"Calendario de recompensas"}),f.jsx("button",{onClick:se,type:"button",className:"btn position-absolute top-0 end-0",children:f.jsx(tt,{className:"display-1",icon:"material-symbols:close-rounded"})})]}),f.jsx("div",{className:"d-flex flex-wrap justify-content-center",style:{gap:y.length>0?`${y[0].recompensas.length}rem`:"0rem"},children:y.length>0&&y[0].recompensas.map(k=>f.jsxs("div",{className:"recompensas__recompensa d-flex flex-column align-items-center "+(w.recompensa_n+1!=k.number?"recompensas__recompensa--desactivado":""),children:[f.jsx("div",{className:"recompensas__recompensa__foto",children:f.jsx("img",{className:"w-100",src:k.foto,alt:""})}),f.jsxs("p",{children:["Día ",k.number]}),f.jsxs("p",{children:[k.premio," Bookoins"]}),w.recompensa_n+1==k.number&&w.last_recompensa.seconds+24*60*60-10<Math.floor(new Date().getTime()/1e3)?f.jsx("button",{onClick:()=>{ee(k.premio)},className:"btn btn-primary",children:"Reclamar"}):f.jsx("button",{className:"btn btn-primary",disabled:!0,children:"Reclamar"})]},k.number+k.premio))})]})})}),h&&f.jsx("div",{className:`modal fade justify-content-center align-items-center ${h?"show":""}`,id:"recompensas",style:{display:h?"flex":"none"},onClick:k=>{k.stopPropagation(),P()},children:f.jsx("div",{className:"configuracion modal-content w-md-50",children:f.jsxs("div",{className:"modal-body",onClick:k=>k.stopPropagation(),children:[f.jsxs("div",{children:[f.jsx("h2",{className:"display-6",children:"Configuración"}),f.jsx("button",{onClick:P,type:"button",className:"btn position-absolute top-0 end-0",children:f.jsx(tt,{className:"display-1",icon:"material-symbols:close-rounded"})})]}),f.jsx("div",{className:"d-flex flex-column align-items-center flex-wrap gap-5 w-100",children:f.jsx(xie,{onGuardado:P,juego:I,config:w})})]})})}),f.jsx("div",{className:`modal fade justify-content-center align-items-center ${C!=0?"show":""}`,id:"recompensas",style:{display:C!=0?"flex":"none"},onClick:k=>{k.stopPropagation(),q()},children:f.jsx("div",{className:"grupos modal-content w-50",children:f.jsxs("div",{className:"modal-body",onClick:k=>k.stopPropagation(),children:[f.jsx("div",{children:f.jsx("button",{onClick:q,type:"button",className:"btn position-absolute top-0 end-0",children:f.jsx(tt,{className:"display-1",icon:"material-symbols:close-rounded"})})}),f.jsxs("div",{className:"d-flex flex-wrap justify-content-center py-5",children:[C===1&&f.jsx(DN,{onUnido:()=>{O(!C),Y()},number:1,user_id:e.uid}),C===2&&f.jsx(DN,{onUnido:()=>{O(!C),Y()},number:2,user_id:e.uid})]})]})})}),x&&f.jsx(Aee,{})]})}const Sie="/assets/hero-DEtkDv5K.png",cB="/assets/libro-CZEcxVHz.png",Tie="/assets/retos-RhUFZe0W.png",Cie="/assets/estadisticas-Z9C_K74R.jpeg",Aie="/assets/amigos-BYquAlm8.jpeg",Iie="/assets/img_retos-O8cM5NqO.jpeg",Pie="/assets/cuidados-CliCvYsK.jpeg",Oie="/assets/personalizable-D8q7d6fn.jpeg";function kie(){let[t,e]=S.useState([]),[n,r]=S.useState(null);return S.useEffect(()=>{fetch("https://www.googleapis.com/books/v1/volumes?q=Cuco").then(i=>{if(!i.ok)throw new Error("Network response was not ok");return i.json()}).then(i=>{e(i.items)}).catch(i=>{console.error("There was a problem with the fetch operation:",i)})},[]),S.useEffect(()=>{const i=Ni();Di(i,o=>{r(!!o)})},[]),f.jsxs(f.Fragment,{children:[f.jsxs("section",{id:"hero",className:"d-flex flex-column flex-md-row justify-content-center align-items-center",children:[f.jsxs("div",{className:"content",children:[f.jsx("h1",{className:"display-1",children:"¡Es hora de volver a leer!"}),f.jsxs(Ne,{className:"fade__title display-2",to:n?"/home":"/inicio-sesion",children:["Empezar ahora",f.jsx(tt,{icon:"mingcute:right-line"})]})]}),f.jsx("div",{className:"picture d-none d-md-block",children:f.jsx("img",{src:Sie,alt:"Pila de libros"})})]}),f.jsxs("section",{id:"ranking",className:"d-flex flex-column align-items-center",children:[f.jsx("h2",{className:"display-2 my-5",children:"Libros más populares"}),f.jsx("section",{className:"ranking__books d-flex gap-3 flex-column  gap-md-0 flex-md-row justify-content-evenly w-100",children:t.slice(0,4).map(i=>f.jsxs("div",{className:"ranking__book",children:[f.jsx("img",{className:"ranking__book__img",src:i.volumeInfo.imageLinks==null?cB:i.volumeInfo.imageLinks.thumbnail,alt:""}),f.jsx("h3",{className:"display-6 ranking__book__h3",children:i.volumeInfo.title}),f.jsxs(Ne,{to:"/detalle/libro/"+i.id,className:"ranking__book__a",children:["Ver más ",f.jsx(tt,{icon:"mingcute:right-line"})]})]},i.id))})]}),f.jsxs("section",{id:"explain",className:"py-5 text-center text-md-start",children:[f.jsxs("section",{className:"explain__section d-flex flex-column flex-md-row",children:[f.jsxs("article",{className:"explain__section--content",children:[f.jsx("h3",{children:"Empieza un reto"}),f.jsx("p",{children:"Dentro de esta aplicación tendrá una cantidad de retos para afrontar su vuelta a la lectura donde podrá conocer nuevos libros y adentrarse en una nueva aventura que es el leer. ¿A qué espera para comenzar una nueva aventura? Recuerde que siempre es un buen momento para leer."})]}),f.jsx("article",{className:"explain__section--img",children:f.jsx("img",{src:Tie,alt:"Imagen de libros abiertos"})})]}),f.jsxs("section",{className:"explain__section d-flex flex-column flex-md-row-reverse",children:[f.jsxs("article",{className:"explain__section--content",children:[f.jsx("h3",{children:"Controla tus estadísticas"}),f.jsx("p",{children:"Dentro de la aplicación podrás ver cuantos libros has leido y cuantos retos has completado correctamente. Nunca es tarde para empezar uno nuevo y siempre tener en cuenta que sus amigos también podrán ver que ha leido. ¿Dejará que sus amigos lean más que usted? ¡Es el momento de sacarles ventaja con un buen libro!"})]}),f.jsx("article",{className:"explain__section--img",children:f.jsx("img",{src:Cie,alt:"Imagen explicativa de uso de gráficos"})})]}),f.jsxs("section",{className:"explain__section d-flex flex-column flex-md-row",children:[f.jsxs("article",{className:"explain__section--content",children:[f.jsx("h3",{children:"Agrega a tus amigos"}),f.jsx("p",{children:"Comparte la aplicación con sus amigos más cercanos y compartan una buena lectura afrontando un reto juntos. Puede ser divertido competir por leer y disfrutar después de una agradable conversación sobre ese libro. Por lo que ahora debe llamar a sus amigos para que se unan."})]}),f.jsx("article",{className:"explain__section--img",children:f.jsx("img",{src:Aie,alt:"Imagen explicativa de agregar amigos"})})]}),f.jsxs("section",{className:"explain__section d-flex flex-column flex-md-row-reverse",children:[f.jsxs("article",{className:"explain__section--content",children:[f.jsx("h3",{children:"Únete a retos"}),f.jsx("p",{children:"La competitividad hará que su vuelta a la lectura sea mucho más agradable y divertida, ¡nunca es tarde para afrontar un buen libro! Podrá unirse a nuestros retos o crear uno personal donde sus amigos se unan, ¿quién acabará de leer todos los libros a tiempo? Y si no lo consigue siempre podrá volver a intentarlo."})]}),f.jsx("article",{className:"explain__section--img",children:f.jsx("img",{src:Iie,alt:"Imagen de una persona uniendose a un reto"})})]}),f.jsxs("section",{className:"explain__section d-flex flex-column flex-md-row",children:[f.jsxs("article",{className:"explain__section--content w-100 w-md-50",children:[f.jsx("h3",{children:"Cuida a tu Booku"}),f.jsx("p",{children:"No dejes que tu Booku pase a mejor vida para ello deberá completar retos y aprobar los examenes de los grupos para así conseguir monedas y alimentar a su nueva máscota. En cada reto tendrás la posibilidad de ganar hasta 1000 bookoins, ¿vas a dejar que tu Booku muera de hambre?"})]}),f.jsx("article",{className:"explain__section--img",children:f.jsx("img",{src:Pie,alt:"Imagen de un hombre cuidando a su booku"})})]}),f.jsxs("section",{className:"explain__section d-flex flex-column flex-md-row-reverse",children:[f.jsxs("article",{className:"explain__section--content  w-100 w-md-50",children:[f.jsx("h3",{children:"Personaliza tu Booku"}),f.jsx("p",{children:"A la hora de crear tu booku siempre podrás darle el nombre que más te guste, y eso hará que su amigo este más contento de estar con usted. Siempre podrás cambiarle el nombre si es que le deja de gustar. Y esto lo podrá hacer en cualquier momento y de forma totalmente gratuita."})]}),f.jsx("article",{className:"explain__section--img",children:f.jsx("img",{src:Oie,alt:"Imagen que explica como personalizar al booku"})})]})]})]})}function od(){return f.jsxs("div",{className:"d-flex flex-column h-100 w-100 justify-content-center align-items-center",children:[f.jsx("div",{className:"w-100 h-25"}),f.jsx("div",{className:"loader",children:f.jsxs("div",{className:"book-wrapper",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"white",viewBox:"0 0 126 75",className:"book",children:[f.jsx("rect",{strokeWidth:"5",stroke:"#304A6E",rx:"7.5",height:"70",width:"121",y:"2.5",x:"2.5"}),f.jsx("line",{strokeWidth:"5",stroke:"#304A6E",y2:"75",x2:"63.5",x1:"63.5"}),f.jsx("path",{strokeLinecap:"round",strokeWidth:"4",stroke:"#AE445A",d:"M25 20H50"}),f.jsx("path",{strokeLinecap:"round",strokeWidth:"4",stroke:"#AE445A",d:"M101 20H76"}),f.jsx("path",{strokeLinecap:"round",strokeWidth:"4",stroke:"#AE445A",d:"M16 30L50 30"}),f.jsx("path",{strokeLinecap:"round",strokeWidth:"4",stroke:"#AE445A",d:"M110 30L76 30"})]}),f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"#ffffff74",viewBox:"0 0 65 75",className:"book-page",children:[f.jsx("path",{strokeLinecap:"round",strokeWidth:"4",stroke:"#AE445A",d:"M40 20H15"}),f.jsx("path",{strokeLinecap:"round",strokeWidth:"4",stroke:"#AE445A",d:"M49 30L15 30"}),f.jsx("path",{strokeWidth:"5",stroke:"#304A6E",d:"M2.5 2.5H55C59.1421 2.5 62.5 5.85786 62.5 10V65C62.5 69.1421 59.1421 72.5 55 72.5H2.5V2.5Z"})]})]})}),f.jsxs("div",{className:"content",children:[f.jsx("div",{className:"text",children:"CARGANDO..."}),f.jsx("div",{className:"text",children:"CARGANDO..."})]})]})}function Wd({Component:t}){const[e,n]=S.useState(!1),[r,i]=S.useState(!0);return S.useEffect(()=>{Di(sa,o=>{n(!!o),i(!1)})},[]),r?f.jsx(od,{}):e?f.jsx(t,{}):f.jsx(xT,{to:"/"})}function Nie(){const[t,e]=S.useState(""),[n,r]=S.useState("");let[i,o]=S.useState([]),s=co();function a(d,h,p){const m=me(le,"config"),v=me(le,"amigos"),y=me(le,"almacen"),b=nt(m,rt("user_id","==",d));let g=!1;Ue(b).then(_=>_.size==0?(g=!0,tm(m,{actual:[],historial:[],user_id:d,user_name:h,permisos:0,foto:p,status:1,recompensa_n:0,id_grupos:[],id_retos:[],last_recompensa:new Date,monedas:1e3})):Promise.resolve()).then(()=>{if(g){const _=Ae(v,d);return Do(_,{amigos:[],pendientes:[],solicitudes:[]}).then(()=>{const w=Ae(y,d);return Do(w,{})})}else return""})}function l(){o([]);const d=new Ur;Cy(sa,d).then(h=>{Ur.credentialFromResult(h).accessToken;const m=h.user;a(m.uid,m.email,m.photoURL),s("/home")}).catch(h=>{h.code;const p=h.message;h.customData.email,Ur.credentialFromError(h),o([...i,p])})}function c(){tQ(sa,t,n).then(d=>{const h=d.user;a(h.uid,h.email,"https://firebasestorage.googleapis.com/v0/b/lee-con-booku.appspot.com/o/fotos%2Fperfil-de-usuario-google-chrome-vacio-1654188725.jpg?alt=media&token=474869b1-c5ce-42a5-9ecb-a8508deed293"),s("/home")}).catch(d=>{const h=d.code;d.message,h=="auth/missing-email"&&(document.getElementById("inicioMail").classList.add("err"),o(["No tiene ninguna cuenta asociada"])),h=="auth/invalid-email"&&(document.getElementById("inicioMail").classList.add("err"),o(["No tiene ninguna cuenta asociada"])),h=="auth/invalid-credential"&&(document.getElementById("inicioMail").classList.add("err"),document.getElementById("inicioPass").classList.add("err"),o(["Error en el inicio de sesión"]))})}function u(){o([]);const d=new Vr;Cy(sa,d).then(h=>{const p=h.user;Vr.credentialFromResult(h).accessToken,a(p.uid,p.email,p.photoURL),s("/home")}).catch(h=>{h.code;const p=h.message;h.customData.email,Vr.credentialFromError(h),o([...i,p])})}return f.jsxs("div",{id:"login",children:[f.jsxs("div",{className:"d-flex justify-content-between justify-content-md-end align-items-center position-absolute top-0 start-0 w-100 py-2 px-4",children:[f.jsx(Ne,{to:"/registro",className:"d-md-none btn btn-primary-superior",children:" REGISTRATE"}),f.jsx(Ne,{to:"/",children:f.jsx("button",{className:"login-close btn",children:f.jsx(tt,{icon:"iconamoon:close-bold"})})})]}),f.jsx("h2",{className:"display-2",children:"Inicia Sesión"}),f.jsxs("section",{className:"login-form",children:[f.jsx("div",{className:"form-input my-4",children:f.jsx("input",{type:"text",name:"user",id:"inicioMail",placeholder:"Usuario",onChange:d=>{e(d.target.value),document.getElementById("inicioMail").classList.remove("err")}})}),f.jsx("div",{className:"form-input my-4",children:f.jsx("input",{type:"password",name:"password",id:"inicioPass",placeholder:"Contraseña",onChange:d=>{r(d.target.value),document.getElementById("inicioPass").classList.remove("err")}})}),f.jsx("button",{className:"btn btn-primary",onClick:c,children:"ENTRAR"}),f.jsx("section",{className:"text-danger login-err",children:i.map((d,h)=>f.jsx("p",{className:"text-center",children:d},h))})]}),f.jsxs("section",{className:"login-bottom my-5",children:[f.jsxs("p",{className:"login-bottom--text d-flex align-items-center",children:[f.jsx("div",{className:"line mx-3"})," O ",f.jsx("div",{className:"line mx-3"})]}),f.jsxs("div",{className:"login-bottom--buttons my-3",children:[f.jsxs("button",{className:"btn btn-primary",onClick:u,children:[f.jsx(tt,{icon:"gg:facebook"})," FACEBOOK"]}),f.jsxs("button",{className:"btn btn-primary",onClick:l,children:[f.jsx(tt,{icon:"gg:google"})," GOOGLE"]})]}),f.jsx("p",{className:"text-center",children:"Al registrarte en Booku, aceptas nuestros Términos y Política de privacidad."})]}),f.jsx("section",{className:"login-extra d-none d-md-flex flex-column",children:f.jsxs("h4",{children:["¿Aún no tienes cuenta? ",f.jsx(Ne,{to:"/registro",children:"REGISTRATE"})]})})]})}function Rie(){return f.jsxs("div",{id:"error",children:[f.jsx("p",{className:"error",children:"404"}),f.jsxs("p",{children:[f.jsx("span",{children:"¡Oops!"})," Parece que ",f.jsx("b",{children:"Booku"})," ha salido corriendo al ver esta ruta"]}),f.jsxs(Ne,{className:"link",to:"/",children:[f.jsx(tt,{icon:"mingcute:left-line"})," VOLVER"]})]})}function jie(){const[t,e]=S.useState(""),[n,r]=S.useState(""),[i,o]=S.useState("");let[s,a]=S.useState([]),l=co();function c(p,m,v){const y=me(le,"config"),b=me(le,"amigos"),g=me(le,"almacen"),_=nt(y,rt("user_id","==",p));let w=!1;Ue(_).then(E=>E.size==0?(w=!0,tm(y,{actual:[],historial:[],user_id:p,user_name:m,permisos:0,foto:v,status:2,recompensa_n:0,id_grupos:[],id_retos:[],last_recompensa:new Date,monedas:1e3}).then(()=>{l("/home")})):Promise.resolve()).then(()=>{if(w){const E=Ae(b,p);return Do(E,{amigos:[],pendientes:[],solicitudes:[]}).then(()=>{const x=Ae(g,p);return Do(x,{})})}else return""})}function u(){a([]);try{if(n!=i)throw new Error("Las contraseñas no coinciden");eQ(sa,t,n).then(p=>{const m=p.user;c(m.uid,m.email,"https://firebasestorage.googleapis.com/v0/b/lee-con-booku.appspot.com/o/fotos%2Fperfil-de-usuario-google-chrome-vacio-1654188725.jpg?alt=media&token=474869b1-c5ce-42a5-9ecb-a8508deed293")}).catch(p=>{const m=p.code,v=p.message;m=="auth/weak-password"&&(document.getElementById("registroPass").classList.add("err"),a(["La contraseña necesita más caracteres"])),m=="auth/invalid-email"&&(document.getElementById("registroMail").classList.add("err"),a(["Este email no puede ser usado"])),m=="auth/email-already-in-use"&&(document.getElementById("registroMail").classList.add("err"),a(["Este email ya esta registrado"]))})}catch{a(["Las contraseñas no coinciden"])}}function d(){a([]);const p=new Ur;Cy(sa,p).then(m=>{Ur.credentialFromResult(m).accessToken;const y=m.user;c(y.uid,y.email,y.photoURL),l("/home")}).catch(m=>{m.code;const v=m.message;m.customData.email,Ur.credentialFromError(m),a([...s,v])})}function h(){a([]);const p=new Vr;Cy(sa,p).then(m=>{const v=m.user;Vr.credentialFromResult(m).accessToken,c(v.uid,v.email,v.photoURL),l("/home")}).catch(m=>{m.code;const v=m.message;m.customData.email,Vr.credentialFromError(m),a([...s,v])})}return f.jsxs("div",{id:"login",children:[f.jsxs("div",{className:"d-flex justify-content-between justify-content-md-end align-items-center position-absolute top-0 start-0 w-100 py-2 px-4",children:[f.jsx(Ne,{to:"/inicio-sesion",className:"d-md-none btn btn-primary-superior",children:" INICIO SESIÓN"}),f.jsx(Ne,{to:"/",children:f.jsx("button",{className:"login-close btn",children:f.jsx(tt,{icon:"iconamoon:close-bold"})})})]}),f.jsx("h2",{className:"display-2 mt-5",children:"Registrate"}),f.jsxs("section",{className:"login-form",children:[f.jsx("div",{className:"form-input my-4",children:f.jsx("input",{type:"text",name:"user",id:"registroMail",placeholder:"Email",onChange:p=>{e(p.target.value),document.getElementById("registroMail").classList.remove("err")}})}),f.jsx("div",{className:"form-input my-4",children:f.jsx("input",{type:"password",name:"password",id:"registroPass",placeholder:"Contraseña",onChange:p=>{r(p.target.value),document.getElementById("registroPass").classList.remove("err")}})}),f.jsx("div",{className:"form-input my-4",children:f.jsx("input",{type:"password",name:"password",id:"registroPass",placeholder:"Confirma contraseña",onChange:p=>{o(p.target.value),document.getElementById("registroPass").classList.remove("err")}})}),f.jsx("button",{className:"btn btn-primary",onClick:u,children:"DAR DE ALTA"}),f.jsx("section",{className:"text-danger login-err",children:s.map((p,m)=>f.jsx("p",{className:"text-center",children:p},m))})]}),f.jsxs("section",{className:"login-bottom my-5",children:[f.jsxs("p",{className:"login-bottom--text d-flex align-items-center",children:[f.jsx("div",{className:"line mx-3"})," O ",f.jsx("div",{className:"line mx-3"})]}),f.jsxs("div",{className:"login-bottom--buttons my-3",children:[f.jsxs("button",{className:"btn btn-primary",onClick:h,children:[f.jsx(tt,{icon:"gg:facebook"})," FACEBOOK"]}),f.jsxs("button",{className:"btn btn-primary",onClick:d,children:[f.jsx(tt,{icon:"gg:google"})," GOOGLE"]})]}),f.jsx("p",{className:"text-center",children:"Al registrarte en Booku, aceptas nuestros Términos y Política de privacidad."})]}),f.jsx("section",{className:"login-extra d-none d-md-flex flex-column",children:f.jsxs("h4",{children:["¿Ya tienes cuenta? ",f.jsx(Ne,{to:"/inicio-sesion",children:"INICIA SESIÓN"})]})})]})}var va=S;const Uf=/^[a-z0-9]+(-[a-z0-9]+)*$/,o0=(t,e,n,r="")=>{const i=t.split(":");if(t.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;r=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const a=i.pop(),l=i.pop(),c={provider:i.length>0?i[0]:r,prefix:l,name:a};return e&&!Mg(c)?null:c}const o=i[0],s=o.split("-");if(s.length>1){const a={provider:r,prefix:s.shift(),name:s.join("-")};return e&&!Mg(a)?null:a}if(n&&r===""){const a={provider:r,prefix:"",name:o};return e&&!Mg(a,n)?null:a}return null},Mg=(t,e)=>t?!!((t.provider===""||t.provider.match(Uf))&&(e&&t.prefix===""||t.prefix.match(Uf))&&t.name.match(Uf)):!1,uB=Object.freeze({left:0,top:0,width:16,height:16}),Qy=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),bA=Object.freeze({...uB,...Qy}),H1=Object.freeze({...bA,body:"",hidden:!1});function Mie(t,e){const n={};!t.hFlip!=!e.hFlip&&(n.hFlip=!0),!t.vFlip!=!e.vFlip&&(n.vFlip=!0);const r=((t.rotate||0)+(e.rotate||0))%4;return r&&(n.rotate=r),n}function BN(t,e){const n=Mie(t,e);for(const r in H1)r in Qy?r in t&&!(r in n)&&(n[r]=Qy[r]):r in e?n[r]=e[r]:r in t&&(n[r]=t[r]);return n}function Die(t,e){const n=t.icons,r=t.aliases||Object.create(null),i=Object.create(null);function o(s){if(n[s])return i[s]=[];if(!(s in i)){i[s]=null;const a=r[s]&&r[s].parent,l=a&&o(a);l&&(i[s]=[a].concat(l))}return i[s]}return(e||Object.keys(n).concat(Object.keys(r))).forEach(o),i}function $ie(t,e,n){const r=t.icons,i=t.aliases||Object.create(null);let o={};function s(a){o=BN(r[a]||i[a],o)}return s(e),n.forEach(s),BN(t,o)}function dB(t,e){const n=[];if(typeof t!="object"||typeof t.icons!="object")return n;t.not_found instanceof Array&&t.not_found.forEach(i=>{e(i,null),n.push(i)});const r=Die(t);for(const i in r){const o=r[i];o&&(e(i,$ie(t,i,o)),n.push(i))}return n}const Lie={provider:"",aliases:{},not_found:{},...uB};function sw(t,e){for(const n in e)if(n in t&&typeof t[n]!=typeof e[n])return!1;return!0}function fB(t){if(typeof t!="object"||t===null)return null;const e=t;if(typeof e.prefix!="string"||!t.icons||typeof t.icons!="object"||!sw(t,Lie))return null;const n=e.icons;for(const i in n){const o=n[i];if(!i.match(Uf)||typeof o.body!="string"||!sw(o,H1))return null}const r=e.aliases||Object.create(null);for(const i in r){const o=r[i],s=o.parent;if(!i.match(Uf)||typeof s!="string"||!n[s]&&!r[s]||!sw(o,H1))return null}return e}const zN=Object.create(null);function Fie(t,e){return{provider:t,prefix:e,icons:Object.create(null),missing:new Set}}function Ll(t,e){const n=zN[t]||(zN[t]=Object.create(null));return n[e]||(n[e]=Fie(t,e))}function wA(t,e){return fB(e)?dB(e,(n,r)=>{r?t.icons[n]=r:t.missing.add(n)}):[]}function Vie(t,e,n){try{if(typeof n.body=="string")return t.icons[e]={...n},!0}catch{}return!1}let Fh=!1;function hB(t){return typeof t=="boolean"&&(Fh=t),Fh}function Uie(t){const e=typeof t=="string"?o0(t,!0,Fh):t;if(e){const n=Ll(e.provider,e.prefix),r=e.name;return n.icons[r]||(n.missing.has(r)?null:void 0)}}function Bie(t,e){const n=o0(t,!0,Fh);if(!n)return!1;const r=Ll(n.provider,n.prefix);return Vie(r,n.name,e)}function zie(t,e){if(typeof t!="object")return!1;if(typeof e!="string"&&(e=t.provider||""),Fh&&!e&&!t.prefix){let i=!1;return fB(t)&&(t.prefix="",dB(t,(o,s)=>{s&&Bie(o,s)&&(i=!0)})),i}const n=t.prefix;if(!Mg({provider:e,prefix:n,name:"a"}))return!1;const r=Ll(e,n);return!!wA(r,t)}const pB=Object.freeze({width:null,height:null}),mB=Object.freeze({...pB,...Qy}),Wie=/(-?[0-9.]*[0-9]+[0-9.]*)/g,Hie=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function WN(t,e,n){if(e===1)return t;if(n=n||100,typeof t=="number")return Math.ceil(t*e*n)/n;if(typeof t!="string")return t;const r=t.split(Wie);if(r===null||!r.length)return t;const i=[];let o=r.shift(),s=Hie.test(o);for(;;){if(s){const a=parseFloat(o);isNaN(a)?i.push(o):i.push(Math.ceil(a*e*n)/n)}else i.push(o);if(o=r.shift(),o===void 0)return i.join("");s=!s}}const qie=t=>t==="unset"||t==="undefined"||t==="none";function Gie(t,e){const n={...bA,...t},r={...mB,...e},i={left:n.left,top:n.top,width:n.width,height:n.height};let o=n.body;[n,r].forEach(m=>{const v=[],y=m.hFlip,b=m.vFlip;let g=m.rotate;y?b?g+=2:(v.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),v.push("scale(-1 1)"),i.top=i.left=0):b&&(v.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),v.push("scale(1 -1)"),i.top=i.left=0);let _;switch(g<0&&(g-=Math.floor(g/4)*4),g=g%4,g){case 1:_=i.height/2+i.top,v.unshift("rotate(90 "+_.toString()+" "+_.toString()+")");break;case 2:v.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:_=i.width/2+i.left,v.unshift("rotate(-90 "+_.toString()+" "+_.toString()+")");break}g%2===1&&(i.left!==i.top&&(_=i.left,i.left=i.top,i.top=_),i.width!==i.height&&(_=i.width,i.width=i.height,i.height=_)),v.length&&(o='<g transform="'+v.join(" ")+'">'+o+"</g>")});const s=r.width,a=r.height,l=i.width,c=i.height;let u,d;s===null?(d=a===null?"1em":a==="auto"?c:a,u=WN(d,l/c)):(u=s==="auto"?l:s,d=a===null?WN(u,c/l):a==="auto"?c:a);const h={},p=(m,v)=>{qie(v)||(h[m]=v.toString())};return p("width",u),p("height",d),h.viewBox=i.left.toString()+" "+i.top.toString()+" "+l.toString()+" "+c.toString(),{attributes:h,body:o}}const Kie=/\sid="(\S+)"/g,Qie="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let Yie=0;function Xie(t,e=Qie){const n=[];let r;for(;r=Kie.exec(t);)n.push(r[1]);if(!n.length)return t;const i="suffix"+(Math.random()*16777216|Date.now()).toString(16);return n.forEach(o=>{const s=typeof e=="function"?e(o):e+(Yie++).toString(),a=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+a+')([")]|\\.[a-z])',"g"),"$1"+s+i+"$3")}),t=t.replace(new RegExp(i,"g"),""),t}const q1=Object.create(null);function Jie(t,e){q1[t]=e}function G1(t){return q1[t]||q1[""]}function xA(t){let e;if(typeof t.resources=="string")e=[t.resources];else if(e=t.resources,!(e instanceof Array)||!e.length)return null;return{resources:e,path:t.path||"/",maxURL:t.maxURL||500,rotate:t.rotate||750,timeout:t.timeout||5e3,random:t.random===!0,index:t.index||0,dataAfterTimeout:t.dataAfterTimeout!==!1}}const EA=Object.create(null),Hd=["https://api.simplesvg.com","https://api.unisvg.com"],Dg=[];for(;Hd.length>0;)Hd.length===1||Math.random()>.5?Dg.push(Hd.shift()):Dg.push(Hd.pop());EA[""]=xA({resources:["https://api.iconify.design"].concat(Dg)});function Zie(t,e){const n=xA(e);return n===null?!1:(EA[t]=n,!0)}function SA(t){return EA[t]}const eoe=()=>{let t;try{if(t=fetch,typeof t=="function")return t}catch{}};let HN=eoe();function toe(t,e){const n=SA(t);if(!n)return 0;let r;if(!n.maxURL)r=0;else{let i=0;n.resources.forEach(s=>{i=Math.max(i,s.length)});const o=e+".json?icons=";r=n.maxURL-i-n.path.length-o.length}return r}function noe(t){return t===404}const roe=(t,e,n)=>{const r=[],i=toe(t,e),o="icons";let s={type:o,provider:t,prefix:e,icons:[]},a=0;return n.forEach((l,c)=>{a+=l.length+1,a>=i&&c>0&&(r.push(s),s={type:o,provider:t,prefix:e,icons:[]},a=l.length),s.icons.push(l)}),r.push(s),r};function ioe(t){if(typeof t=="string"){const e=SA(t);if(e)return e.path}return"/"}const ooe=(t,e,n)=>{if(!HN){n("abort",424);return}let r=ioe(e.provider);switch(e.type){case"icons":{const o=e.prefix,a=e.icons.join(","),l=new URLSearchParams({icons:a});r+=o+".json?"+l.toString();break}case"custom":{const o=e.uri;r+=o.slice(0,1)==="/"?o.slice(1):o;break}default:n("abort",400);return}let i=503;HN(t+r).then(o=>{const s=o.status;if(s!==200){setTimeout(()=>{n(noe(s)?"abort":"next",s)});return}return i=501,o.json()}).then(o=>{if(typeof o!="object"||o===null){setTimeout(()=>{o===404?n("abort",o):n("next",i)});return}setTimeout(()=>{n("success",o)})}).catch(()=>{n("next",i)})},soe={prepare:roe,send:ooe};function aoe(t){const e={loaded:[],missing:[],pending:[]},n=Object.create(null);t.sort((i,o)=>i.provider!==o.provider?i.provider.localeCompare(o.provider):i.prefix!==o.prefix?i.prefix.localeCompare(o.prefix):i.name.localeCompare(o.name));let r={provider:"",prefix:"",name:""};return t.forEach(i=>{if(r.name===i.name&&r.prefix===i.prefix&&r.provider===i.provider)return;r=i;const o=i.provider,s=i.prefix,a=i.name,l=n[o]||(n[o]=Object.create(null)),c=l[s]||(l[s]=Ll(o,s));let u;a in c.icons?u=e.loaded:s===""||c.missing.has(a)?u=e.missing:u=e.pending;const d={provider:o,prefix:s,name:a};u.push(d)}),e}function gB(t,e){t.forEach(n=>{const r=n.loaderCallbacks;r&&(n.loaderCallbacks=r.filter(i=>i.id!==e))})}function loe(t){t.pendingCallbacksFlag||(t.pendingCallbacksFlag=!0,setTimeout(()=>{t.pendingCallbacksFlag=!1;const e=t.loaderCallbacks?t.loaderCallbacks.slice(0):[];if(!e.length)return;let n=!1;const r=t.provider,i=t.prefix;e.forEach(o=>{const s=o.icons,a=s.pending.length;s.pending=s.pending.filter(l=>{if(l.prefix!==i)return!0;const c=l.name;if(t.icons[c])s.loaded.push({provider:r,prefix:i,name:c});else if(t.missing.has(c))s.missing.push({provider:r,prefix:i,name:c});else return n=!0,!0;return!1}),s.pending.length!==a&&(n||gB([t],o.id),o.callback(s.loaded.slice(0),s.missing.slice(0),s.pending.slice(0),o.abort))})}))}let coe=0;function uoe(t,e,n){const r=coe++,i=gB.bind(null,n,r);if(!e.pending.length)return i;const o={id:r,icons:e,callback:t,abort:i};return n.forEach(s=>{(s.loaderCallbacks||(s.loaderCallbacks=[])).push(o)}),i}function doe(t,e=!0,n=!1){const r=[];return t.forEach(i=>{const o=typeof i=="string"?o0(i,e,n):i;o&&r.push(o)}),r}var foe={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function hoe(t,e,n,r){const i=t.resources.length,o=t.random?Math.floor(Math.random()*i):t.index;let s;if(t.random){let x=t.resources.slice(0);for(s=[];x.length>1;){const T=Math.floor(Math.random()*x.length);s.push(x[T]),x=x.slice(0,T).concat(x.slice(T+1))}s=s.concat(x)}else s=t.resources.slice(o).concat(t.resources.slice(0,o));const a=Date.now();let l="pending",c=0,u,d=null,h=[],p=[];typeof r=="function"&&p.push(r);function m(){d&&(clearTimeout(d),d=null)}function v(){l==="pending"&&(l="aborted"),m(),h.forEach(x=>{x.status==="pending"&&(x.status="aborted")}),h=[]}function y(x,T){T&&(p=[]),typeof x=="function"&&p.push(x)}function b(){return{startTime:a,payload:e,status:l,queriesSent:c,queriesPending:h.length,subscribe:y,abort:v}}function g(){l="failed",p.forEach(x=>{x(void 0,u)})}function _(){h.forEach(x=>{x.status==="pending"&&(x.status="aborted")}),h=[]}function w(x,T,C){const O=T!=="success";switch(h=h.filter(I=>I!==x),l){case"pending":break;case"failed":if(O||!t.dataAfterTimeout)return;break;default:return}if(T==="abort"){u=C,g();return}if(O){u=C,h.length||(s.length?E():g());return}if(m(),_(),!t.random){const I=t.resources.indexOf(x.resource);I!==-1&&I!==t.index&&(t.index=I)}l="completed",p.forEach(I=>{I(C)})}function E(){if(l!=="pending")return;m();const x=s.shift();if(x===void 0){if(h.length){d=setTimeout(()=>{m(),l==="pending"&&(_(),g())},t.timeout);return}g();return}const T={status:"pending",resource:x,callback:(C,O)=>{w(T,C,O)}};h.push(T),c++,d=setTimeout(E,t.rotate),n(x,e,T.callback)}return setTimeout(E),b}function yB(t){const e={...foe,...t};let n=[];function r(){n=n.filter(a=>a().status==="pending")}function i(a,l,c){const u=hoe(e,a,l,(d,h)=>{r(),c&&c(d,h)});return n.push(u),u}function o(a){return n.find(l=>a(l))||null}return{query:i,find:o,setIndex:a=>{e.index=a},getIndex:()=>e.index,cleanup:r}}function qN(){}const aw=Object.create(null);function poe(t){if(!aw[t]){const e=SA(t);if(!e)return;const n=yB(e),r={config:e,redundancy:n};aw[t]=r}return aw[t]}function moe(t,e,n){let r,i;if(typeof t=="string"){const o=G1(t);if(!o)return n(void 0,424),qN;i=o.send;const s=poe(t);s&&(r=s.redundancy)}else{const o=xA(t);if(o){r=yB(o);const s=t.resources?t.resources[0]:"",a=G1(s);a&&(i=a.send)}}return!r||!i?(n(void 0,424),qN):r.query(e,i,n)().abort}const GN="iconify2",Vh="iconify",vB=Vh+"-count",KN=Vh+"-version",_B=36e5,goe=168;function K1(t,e){try{return t.getItem(e)}catch{}}function TA(t,e,n){try{return t.setItem(e,n),!0}catch{}}function QN(t,e){try{t.removeItem(e)}catch{}}function Q1(t,e){return TA(t,vB,e.toString())}function Y1(t){return parseInt(K1(t,vB))||0}const s0={local:!0,session:!0},bB={local:new Set,session:new Set};let CA=!1;function yoe(t){CA=t}let Km=typeof window>"u"?{}:window;function wB(t){const e=t+"Storage";try{if(Km&&Km[e]&&typeof Km[e].length=="number")return Km[e]}catch{}s0[t]=!1}function xB(t,e){const n=wB(t);if(!n)return;const r=K1(n,KN);if(r!==GN){if(r){const a=Y1(n);for(let l=0;l<a;l++)QN(n,Vh+l.toString())}TA(n,KN,GN),Q1(n,0);return}const i=Math.floor(Date.now()/_B)-goe,o=a=>{const l=Vh+a.toString(),c=K1(n,l);if(typeof c=="string"){try{const u=JSON.parse(c);if(typeof u=="object"&&typeof u.cached=="number"&&u.cached>i&&typeof u.provider=="string"&&typeof u.data=="object"&&typeof u.data.prefix=="string"&&e(u,a))return!0}catch{}QN(n,l)}};let s=Y1(n);for(let a=s-1;a>=0;a--)o(a)||(a===s-1?(s--,Q1(n,s)):bB[t].add(a))}function EB(){if(!CA){yoe(!0);for(const t in s0)xB(t,e=>{const n=e.data,r=e.provider,i=n.prefix,o=Ll(r,i);if(!wA(o,n).length)return!1;const s=n.lastModified||-1;return o.lastModifiedCached=o.lastModifiedCached?Math.min(o.lastModifiedCached,s):s,!0})}}function voe(t,e){const n=t.lastModifiedCached;if(n&&n>=e)return n===e;if(t.lastModifiedCached=e,n)for(const r in s0)xB(r,i=>{const o=i.data;return i.provider!==t.provider||o.prefix!==t.prefix||o.lastModified===e});return!0}function _oe(t,e){CA||EB();function n(r){let i;if(!s0[r]||!(i=wB(r)))return;const o=bB[r];let s;if(o.size)o.delete(s=Array.from(o).shift());else if(s=Y1(i),!Q1(i,s+1))return;const a={cached:Math.floor(Date.now()/_B),provider:t.provider,data:e};return TA(i,Vh+s.toString(),JSON.stringify(a))}e.lastModified&&!voe(t,e.lastModified)||Object.keys(e.icons).length&&(e.not_found&&(e=Object.assign({},e),delete e.not_found),n("local")||n("session"))}function YN(){}function boe(t){t.iconsLoaderFlag||(t.iconsLoaderFlag=!0,setTimeout(()=>{t.iconsLoaderFlag=!1,loe(t)}))}function woe(t,e){t.iconsToLoad?t.iconsToLoad=t.iconsToLoad.concat(e).sort():t.iconsToLoad=e,t.iconsQueueFlag||(t.iconsQueueFlag=!0,setTimeout(()=>{t.iconsQueueFlag=!1;const{provider:n,prefix:r}=t,i=t.iconsToLoad;delete t.iconsToLoad;let o;if(!i||!(o=G1(n)))return;o.prepare(n,r,i).forEach(a=>{moe(n,a,l=>{if(typeof l!="object")a.icons.forEach(c=>{t.missing.add(c)});else try{const c=wA(t,l);if(!c.length)return;const u=t.pendingIcons;u&&c.forEach(d=>{u.delete(d)}),_oe(t,l)}catch(c){console.error(c)}boe(t)})})}))}const xoe=(t,e)=>{const n=doe(t,!0,hB()),r=aoe(n);if(!r.pending.length){let l=!0;return e&&setTimeout(()=>{l&&e(r.loaded,r.missing,r.pending,YN)}),()=>{l=!1}}const i=Object.create(null),o=[];let s,a;return r.pending.forEach(l=>{const{provider:c,prefix:u}=l;if(u===a&&c===s)return;s=c,a=u,o.push(Ll(c,u));const d=i[c]||(i[c]=Object.create(null));d[u]||(d[u]=[])}),r.pending.forEach(l=>{const{provider:c,prefix:u,name:d}=l,h=Ll(c,u),p=h.pendingIcons||(h.pendingIcons=new Set);p.has(d)||(p.add(d),i[c][u].push(d))}),o.forEach(l=>{const{provider:c,prefix:u}=l;i[c][u].length&&woe(l,i[c][u])}),e?uoe(e,r,o):YN};function Eoe(t,e){const n={...t};for(const r in e){const i=e[r],o=typeof i;r in pB?(i===null||i&&(o==="string"||o==="number"))&&(n[r]=i):o===typeof n[r]&&(n[r]=r==="rotate"?i%4:i)}return n}const Soe=/[\s,]+/;function Toe(t,e){e.split(Soe).forEach(n=>{switch(n.trim()){case"horizontal":t.hFlip=!0;break;case"vertical":t.vFlip=!0;break}})}function Coe(t,e=0){const n=t.replace(/^-?[0-9.]*/,"");function r(i){for(;i<0;)i+=4;return i%4}if(n===""){const i=parseInt(t);return isNaN(i)?0:r(i)}else if(n!==t){let i=0;switch(n){case"%":i=25;break;case"deg":i=90}if(i){let o=parseFloat(t.slice(0,t.length-n.length));return isNaN(o)?0:(o=o/i,o%1===0?r(o):0)}}return e}function Aoe(t,e){let n=t.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const r in e)n+=" "+r+'="'+e[r]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+t+"</svg>"}function Ioe(t){return t.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function Poe(t){return"data:image/svg+xml,"+Ioe(t)}function Ooe(t){return'url("'+Poe(t)+'")'}let Bf;function koe(){try{Bf=window.trustedTypes.createPolicy("iconify",{createHTML:t=>t})}catch{Bf=null}}function Noe(t){return Bf===void 0&&koe(),Bf?Bf.createHTML(t):t}const SB={...mB,inline:!1},Roe={xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},joe={display:"inline-block"},X1={backgroundColor:"currentColor"},TB={backgroundColor:"transparent"},XN={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},JN={WebkitMask:X1,mask:X1,background:TB};for(const t in JN){const e=JN[t];for(const n in XN)e[t+n]=XN[n]}const Moe={...SB,inline:!0};function ZN(t){return t+(t.match(/^[-0-9.]+$/)?"px":"")}const Doe=(t,e,n,r)=>{const i=n?Moe:SB,o=Eoe(i,e),s=e.mode||"svg",a={},l=e.style||{},c={...s==="svg"?Roe:{},ref:r};for(let b in e){const g=e[b];if(g!==void 0)switch(b){case"icon":case"style":case"children":case"onLoad":case"mode":case"_ref":case"_inline":break;case"inline":case"hFlip":case"vFlip":o[b]=g===!0||g==="true"||g===1;break;case"flip":typeof g=="string"&&Toe(o,g);break;case"color":a.color=g;break;case"rotate":typeof g=="string"?o[b]=Coe(g):typeof g=="number"&&(o[b]=g);break;case"ariaHidden":case"aria-hidden":g!==!0&&g!=="true"&&delete c["aria-hidden"];break;default:i[b]===void 0&&(c[b]=g)}}const u=Gie(t,o),d=u.attributes;if(o.inline&&(a.verticalAlign="-0.125em"),s==="svg"){c.style={...a,...l},Object.assign(c,d);let b=0,g=e.id;return typeof g=="string"&&(g=g.replace(/-/g,"_")),c.dangerouslySetInnerHTML={__html:Noe(Xie(u.body,g?()=>g+"ID"+b++:"iconifyReact"))},va.createElement("svg",c)}const{body:h,width:p,height:m}=t,v=s==="mask"||(s==="bg"?!1:h.indexOf("currentColor")!==-1),y=Aoe(h,{...d,width:p+"",height:m+""});return c.style={...a,"--svg":Ooe(y),width:ZN(d.width),height:ZN(d.height),...joe,...v?X1:TB,...l},va.createElement("span",c)};hB(!0);Jie("",soe);if(typeof document<"u"&&typeof window<"u"){EB();const t=window;if(t.IconifyPreload!==void 0){const e=t.IconifyPreload,n="Invalid IconifyPreload syntax.";typeof e=="object"&&e!==null&&(e instanceof Array?e:[e]).forEach(r=>{try{(typeof r!="object"||r===null||r instanceof Array||typeof r.icons!="object"||typeof r.prefix!="string"||!zie(r))&&console.error(n)}catch{console.error(n)}})}if(t.IconifyProviders!==void 0){const e=t.IconifyProviders;if(typeof e=="object"&&e!==null)for(let n in e){const r="IconifyProviders["+n+"] is invalid.";try{const i=e[n];if(typeof i!="object"||!i||i.resources===void 0)continue;Zie(n,i)||console.error(r)}catch{console.error(r)}}}}class CB extends va.Component{constructor(e){super(e),this.state={icon:null}}_abortLoading(){this._loading&&(this._loading.abort(),this._loading=null)}_setData(e){this.state.icon!==e&&this.setState({icon:e})}_checkIcon(e){const n=this.state,r=this.props.icon;if(typeof r=="object"&&r!==null&&typeof r.body=="string"){this._icon="",this._abortLoading(),(e||n.icon===null)&&this._setData({data:r});return}let i;if(typeof r!="string"||(i=o0(r,!1,!0))===null){this._abortLoading(),this._setData(null);return}const o=Uie(i);if(!o){(!this._loading||this._loading.name!==r)&&(this._abortLoading(),this._icon="",this._setData(null),o!==null&&(this._loading={name:r,abort:xoe([i],this._checkIcon.bind(this,!1))}));return}if(this._icon!==r||n.icon===null){this._abortLoading(),this._icon=r;const s=["iconify"];i.prefix!==""&&s.push("iconify--"+i.prefix),i.provider!==""&&s.push("iconify--"+i.provider),this._setData({data:o,classes:s}),this.props.onLoad&&this.props.onLoad(r)}}componentDidMount(){this._checkIcon(!1)}componentDidUpdate(e){e.icon!==this.props.icon&&this._checkIcon(!0)}componentWillUnmount(){this._abortLoading()}render(){const e=this.props,n=this.state.icon;if(n===null)return e.children?e.children:va.createElement("span",{});let r=e;return n.classes&&(r={...e,className:(typeof e.className=="string"?e.className+" ":"")+n.classes.join(" ")}),Doe({...bA,...n.data},r,e._inline,e._ref)}}const $oe=va.forwardRef(function(e,n){const r={...e,_ref:n,_inline:!1};return va.createElement(CB,r)});va.forwardRef(function(e,n){const r={...e,_ref:n,_inline:!0};return va.createElement(CB,r)});var Pe=$oe;const AB="/assets/booku-2iuGTB22.png";function Loe(){var se;let t=Gl();co();let[e,n]=S.useState([]);S.useState(0);let[r,i]=S.useState(""),[o,s]=S.useState([]),[a,l]=S.useState(!1),[c,u]=S.useState([]),[d,h]=S.useState([]),[p,m]=S.useState(""),[v,y]=S.useState([]),[b,g]=S.useState({}),[_,w]=S.useState([]),[E,x]=S.useState([]),[T,C]=S.useState([]),[O,I]=S.useState([]);S.useState(!1),S.useState(0);let D=(se=t.state)==null?void 0:se.mensaje,[L,j]=S.useState(D||""),[B,Y]=S.useState(!1);S.useEffect(()=>{const Q=Ni();Di(Q,ee=>{if(i(ee),ee){let J=me(le,"config"),k=nt(J,rt("user_id","==",ee.uid)),A=me(le,"amigos"),$=Ae(A,ee.uid);Ue(k).then(G=>{G.forEach(H=>{let ae=H.data(),de=ae.actual.filter(pe=>{let Se=new Date().getTime();return pe.fecha_end.seconds*1e3+Math.floor(pe.fecha_end.nanoseconds/1e6)>Se});de.length!==ae.actual.length&&(ae.actual=de,De(H.ref,ae).then(()=>{console.log("Documento actualizado correctamente.")}).catch(pe=>{console.error("Error al actualizar documento:",pe)})),w(ae.historial),C(ae.actual)})}),ot($).then(G=>{G.exists()&&G.data().amigos.map(ae=>{let de=nt(J,rt("user_id","==",ae));Ue(de).then(pe=>{let Se=[];pe.forEach(gt=>{Se.push(gt.data()),s(je=>[...je,...Se])})})})}),fetch("https://api-booku.vercel.app/reto/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ee.accessToken}`}}).then(G=>G.json()).then(G=>{y(G.data)});let R=me(le,"juego"),F=Ae(R,ee.uid);ot(F).then(G=>{if(G.exists()){let H=G.data(),ae=new Date,de=Math.floor(Math.floor(Math.floor(ae.getTime()/1e3-H.last_fed.seconds)/60/60)/2);H.estado.comida-de>=0?H.estado.comida-=de:H.estado.vida-=de,H.last_fed=ae,De(F,H),g(H)}else{let H={estado:{comida:100,vida:100},nombre:"Hola",last_fed:new Date};Do(F,H),g(H)}})}}),fetch("https://www.googleapis.com/books/v1/volumes?q=Cuco").then(ee=>{if(!ee.ok)throw new Error("Network response was not ok");return ee.json()}).then(ee=>{n(ee.items)})},[]),S.useEffect(()=>{(_.length>0||T.length>0)&&W()},[_,T]),S.useEffect(()=>{if(L!=""){const Q=setTimeout(()=>{j("")},5e3);return()=>clearTimeout(Q)}},[L]);function X(Q,ee){let J=me(le,"amigos"),k=Ae(J,r.uid),A=[],$=Ae(J,Q);ot(k).then(R=>{if(R.exists()){let F=R.data(),G=[];F.solicitudes.map(H=>{H!=Q&&A.push(H)}),De(k,{solicitudes:A}),s(A),ee==!0&&(F.amigos.map(H=>{G.push(H)}),G.push(Q),De(k,{amigos:G}))}}),ot($).then(R=>{if(R.exists()){let F=R.data(),G=[...F.pendientes],H=r.uid;G=G.filter(ae=>ae!==H),De($,{pendientes:G}).then(()=>{U(),M()}),ee&&(G=[...F.amigos],G.push(r.uid),De($,{amigos:G}).then(()=>{U(),M()}))}})}function U(){let Q=me(le,"config"),ee=nt(Q,rt("user_name","==",d));Ue(ee).then(J=>{let k="";J.forEach(R=>{k=R.data(),u([k])}),J.empty&&u(["No hay resultados"]);let A=me(le,"amigos"),$=Ae(A,r.uid);ot($).then(R=>{if(R.exists()){let F=R.data(),G=!1;F.solicitudes.map(H=>{H==k.user_id&&(m(f.jsxs("div",{children:[f.jsx("button",{onClick:()=>{X(k.user_id,!1)},className:"btn text-danger",children:f.jsx(Pe,{className:"display-3",icon:"material-symbols:close-small"})}),f.jsx("button",{onClick:()=>{X(k.user_id,!0)},className:"btn text-success",children:f.jsx(Pe,{className:"display-3",icon:"dashicons:yes"})})]},k.user_id)),G=!0)}),F.pendientes.map(H=>{H==k.user_id&&(m("Solicitado"),G=!0)}),F.amigos.map(H=>{H==k.user_id&&(m("Agregado"),G=!0)}),G||m(f.jsx("button",{className:"btn btn-primary",onClick:()=>{q(k.user_id)},children:"Solicitar"},k.user_id))}})})}function M(){let Q=me(le,"amigos"),ee=Ae(Q,r.uid);ot(ee).then(J=>{if(J.exists()){let k=J.data();s([]),k.amigos.map(A=>{let $=me(le,"config"),R=nt($,rt("user_id","==",A));Ue(R).then(F=>{let G=[];F.forEach(H=>{G.push(H.data())}),s(H=>[...H,...G])})})}})}function q(Q){let ee=me(le,"amigos"),J=Ae(ee,r.uid),k=Ae(ee,Q);ot(J).then(A=>{if(A.exists()){let $=[];$.push(...A.data().pendientes),$.push(Q),De(J,{pendientes:$}).then(()=>{U()})}}),ot(k).then(A=>{if(A.exists()){let R=A.data().solicitudes;R.push(r.uid),De(k,{solicitudes:R})}})}function N(){l(!1)}function P(){l(!0)}function W(){let Q=_.map(J=>fetch(`https://api-booku.vercel.app/reto/show/${J.id_reto}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r.accessToken}`}}).then(k=>k.json())),ee=T.map(J=>fetch(`https://api-booku.vercel.app/reto/show/${J.id_reto}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r.accessToken}`}}).then(k=>k.json()));Promise.all(Q).then(J=>{x(J.map(k=>k.data))}),Promise.all(ee).then(J=>{I(J.map(k=>k.data))})}function Z(){Y(!B)}return f.jsxs(f.Fragment,{children:[L!=""&&f.jsx("div",{className:"w-100 d-flex justify-content-center",children:f.jsx("div",{className:"alert alert-success w-50 fade show position-absolute",role:"alert",children:L})}),f.jsxs("div",{className:"d-flex flex-column flex-lg-row align-items-center justify-content-center h-100 gap-5 py-5 py-lg-0",children:[f.jsxs("div",{className:"home-cubos d-flex flex-column align-items-center justify-content-evenly h-75 rounded-5",children:[f.jsx("div",{className:"home-cubos-booku",children:f.jsx("img",{className:"w-100",src:AB,alt:""})}),f.jsxs("div",{id:"juego_estados",className:"d-flex flex-column align-items-center w-75 gap-5",children:[b&&Object.keys(b).length!==0&&f.jsxs("div",{className:"d-flex flex-column w-100 gap-2",children:[f.jsxs("div",{className:"progress",children:[f.jsx("label",{className:"fs-1",htmlFor:"",children:"❤️"}),f.jsxs("div",{className:"progress-bar bg-success fs-2",style:{width:`${b.estado.vida}%`},children:[b.estado.vida,"%"]})]}),f.jsxs("div",{className:"progress",children:[f.jsx("label",{className:"fs-1",htmlFor:"",children:"🍎"}),f.jsxs("div",{className:"progress-bar bg-warning fs-2",style:{width:`${b.estado.comida}%`},children:[b.estado.comida,"%"]})]})]}),f.jsx(Ne,{to:"/play",className:"btn btn-primary",children:"JUGAR"})]})]}),f.jsxs("div",{className:"home-cubos-centro d-flex flex-column h-75 gap-5",children:[f.jsxs("div",{className:"home-cubos-bloque d-flex flex-column h-50 rounded-5",children:[f.jsxs("div",{className:"px-5 py-4 d-flex justify-content-between",children:[f.jsx("h2",{className:"display-3 fw-bold text-primary",children:"Retos actuales"}),f.jsx("button",{onClick:Z,className:"btn btn-secondary-small",children:"Historial"})]}),T.length===0?f.jsx("div",{className:"px-5 py-4",children:f.jsx("p",{className:"fs-3 text-primary py-0 my-0 text-center",children:"No estas en ningún reto ahora mismo"})}):T.map((Q,ee)=>{let J=O.find(k=>Q.id_reto===k.id);return f.jsxs("div",{className:"d-flex justify-content-between align-items-center px-5",children:[f.jsxs("div",{className:"d-flex flex-column",children:[f.jsx("p",{className:"fs-1 text-primary py-0 my-0",children:J==null?void 0:J.nombre}),f.jsx("p",{className:"text-primary fw-bold py-0 my-0",children:Q?new Date(Q.fecha_start.seconds*1e3).toLocaleDateString():"No encontrado"})]}),f.jsx(Ne,{to:"/detalle/reto/"+Q.id_reto,className:"btn btn-primary",children:f.jsx(Pe,{icon:"material-symbols:info-outline"})})]},Q.id_reto+Q.fecha_start.seconds)})]}),f.jsxs("div",{className:"home-cubos-bloque d-flex flex-column h-50 rounded-5  gap-3",children:[f.jsx("h2",{className:"display-3 fw-bold text-primary ps-5",children:"Retos recomendados"}),v.filter(Q=>Q.uid==null).slice(0,4).map(Q=>f.jsxs("article",{className:"d-flex w-100 px-5 justify-content-between align-items-center",children:[f.jsx("p",{className:"fs-1 text-primary",children:Q.nombre}),f.jsx(Ne,{to:"/detalle/reto/"+Q.id,className:"btn btn-primary",children:f.jsx(Pe,{className:"fs-1",icon:"simple-line-icons:user-follow"})})]},Q.id)),f.jsx(Ne,{to:"/retos",className:"reto_show_more",children:"Ver más"})]})]}),f.jsxs("div",{className:"home-cubos d-flex flex-column h-75 rounded-5 position-relative",children:[f.jsx("h2",{className:"display-3 fw-bold text-primary ps-5",children:"Amigos"}),f.jsxs("div",{className:"position-absolute top-5 end-0 mt-2 me-5",children:[f.jsx("button",{onClick:M,className:" fs-3 btn",children:f.jsx(Pe,{icon:"oi:reload"})}),f.jsx("button",{onClick:P,className:" fs-1 btn",children:f.jsx(Pe,{icon:"material-symbols:search"})})]}),f.jsx("section",{className:"lista_amigos d-flex flex-column w-100 gap-1",children:o.length===0?f.jsx("div",{className:"px-5 py-4 d-flex justify-content-center align-items-center h-100",children:f.jsx("p",{className:"fs-1 text-primary py-0 my-0 text-center",children:"Parece que aún no tienes amigos"})}):f.jsx(f.Fragment,{children:o.map((Q,ee)=>f.jsxs(Ne,{to:"/detalle/amigo/"+Q.user_id,className:"d-flex align-items-center justify-content-evenly",children:[f.jsxs("div",{className:"d-flex w-75 align-items-center",children:[f.jsx("div",{className:"foto-perfil pe-3",children:f.jsx("img",{className:"rounded-5",src:Q.foto==""?ejemplo:Q.foto,alt:"Foto de: "+Q.user_name})}),f.jsx("p",{className:"fs-1",children:Q.user_name})]}),f.jsx("button",{className:"btn btn-primary",user:Q.user_id,children:f.jsx(Pe,{icon:"mdi:eye"})})]},"amigos"+ee))})})]}),f.jsx("div",{className:` modal fade ${a?"show":""}`,id:"buscarAmigos",style:{display:a?"block":"none"},children:f.jsx("div",{className:" modal-dialog",children:f.jsxs("div",{className:"formularios modal-content",children:[f.jsxs("div",{className:"modal-header",children:[f.jsx("h2",{className:"display-3",id:"exampleModalLabel",children:"Buscar amigos"}),f.jsx("button",{type:"button",className:"btn btn-close-white",onClick:N,children:f.jsx(Pe,{className:"display-1",icon:"material-symbols:close-rounded"})})]}),f.jsx("div",{className:"modal-body",children:f.jsxs("div",{className:"form",children:[f.jsxs("div",{className:"form-input-small",children:[f.jsx("input",{className:"input-small",type:"text",id:"buscar",placeholder:"Buscar",onKeyDown:Q=>{Q.key==="Enter"&&U()},onChange:Q=>{h(Q.target.value)}}),f.jsx("button",{onClick:U,children:f.jsx(Pe,{icon:"material-symbols:search"})})]}),c.map((Q,ee)=>Q!="No hay resultados"?f.jsxs("div",{className:"d-flex w-100 justify-content-between fs-1 align-items-center py-5 px-2",children:[f.jsx("div",{className:"w-25",children:f.jsx("img",{className:"w-100",src:Q.foto,alt:"Foto de perfil de "+Q.user_name})}),f.jsx("p",{children:Q.user_name}),p]},"resultados"+ee):f.jsx("div",{className:"d-flex w-100 justify-content-between fs-1 align-items-center py-5 px-2",children:f.jsx("p",{children:Q})},"resultados"+ee))]})})]})})}),f.jsx("div",{className:`modal fade justify-content-center align-items-center ${B!=0?"show":""}`,style:{display:B!=0?"flex":"none"},onClick:Q=>{Q.stopPropagation(),Z()},children:f.jsx("div",{className:"grupos modal-content w-md-50",children:f.jsxs("div",{className:"modal-body",onClick:Q=>Q.stopPropagation(),children:[f.jsxs("div",{children:[f.jsx("h2",{className:"display-6",children:"Historial"}),f.jsx("button",{onClick:Z,type:"button",className:"btn position-absolute top-0 end-0",children:f.jsx(Pe,{className:"display-1",icon:"material-symbols:close-rounded"})})]}),f.jsx("div",{className:"d-flex flex-wrap py-5 h-100",children:f.jsx("div",{className:"f-flex flex-column gap-3 overflow-y-auto w-100",children:_.length===0?f.jsx("div",{className:"px-5 py-4",children:f.jsx("p",{className:"fs-1 text-primary py-0 my-0",children:"Aún no has completado ningún reto"})}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"d-flex justify-content-between align-items-center px-5 w-100",children:[f.jsx("p",{className:"w-33 fs-1 fw-bold text-primary py-0 my-0",children:"Nombre"}),f.jsx("p",{className:"w-33 fs-1 text-primary fw-bold py-0 my-0 text-center",children:"Fecha"}),f.jsx("p",{className:"w-33 fs-1 text-primary fw-bold py-0 my-0 text-end",children:"Acciones"})]}),f.jsx("div",{className:"d-flex flex-column gap-3",children:_.map((Q,ee)=>{let J=E.find(k=>k.id===Q.id_reto);return f.jsxs("div",{className:"d-flex justify-content-between align-items-center px-5 w-100",children:[f.jsx("p",{className:"w-33 fs-2 text-primary py-0 my-0",children:J==null?void 0:J.nombre}),f.jsx("p",{className:"w-33 fs-2 text-primary py-0 my-0 text-center",children:Q?new Date(Q.fecha.seconds*1e3).toLocaleDateString():"No encontrado"}),f.jsx("div",{className:"w-33 d-flex justify-content-end",children:f.jsx(Ne,{to:"/detalle/reto/"+Q.id_reto,className:" btn btn-primary",children:f.jsx(Pe,{icon:"material-symbols:info-outline"})})})]},"historial"+ee)})})]})})})]})})})]})]})}function Foe(t){let[e,n]=S.useState([]);const r=me(le,"almacen");function i(o){let s=[];if(t.monedas-o.precio>=0){let a=Ae(r,t.user_id),l=me(le,"config"),c=nt(l,rt("user_id","==",t.user_id));ot(a).then(u=>{if(!u.exists())Do(a,{[o.nombre]:{producto:o,cantidad:1}});else if(u.data()&&u.data()[o.nombre]){let d=u.data();d[o.nombre].cantidad+=1,De(a,d)}else{let d=u.data();d[o.nombre]={producto:o,cantidad:1},Do(a,d)}Ue(c).then(d=>{d.forEach(h=>{De(h.ref,{monedas:t.monedas-o.precio}).then(()=>{const p={...t.config,monedas:t.monedas-o.precio};t.actualizarConfiguracion(p)})})})}),n(s)}else s.comprar="¡Te faltan monedas!",n(s)}return f.jsx(f.Fragment,{children:t.tienda&&f.jsxs(f.Fragment,{children:[f.jsx("p",{className:"text-danger fs-1",children:e.comprar}),f.jsx("div",{className:"d-flex flex-wrap justify-content-center align-items-end gap-5",children:t.tienda.map(o=>f.jsxs("div",{className:"d-flex flex-column align-items-center",children:[f.jsx("img",{src:o.foto,alt:o.nombre,style:{width:"100px"}}),f.jsxs("div",{className:"d-flex w-100 justify-content-evenly align-items-center",children:[f.jsxs("span",{className:"fs-3",children:["❤️ ",o.vida]}),f.jsxs("span",{className:"fs-3",children:["🍎 ",o.comida]})]}),f.jsx("h2",{children:o.nombre}),f.jsxs("p",{className:"fs-1",children:[o.precio,"🪙"]}),f.jsx("button",{onClick:()=>{i(o)},className:"btn btn-primary",children:"Comprar"})]},o.nombre))})]})})}function Voe(t){const e=me(le,"almacen"),n=me(le,"juego");function r(i){let o=Ae(e,t.config.user_id),s=Ae(n,t.config.user_id);ot(o).then(a=>{let l=a.data(),c=i.producto.nombre;l[c]&&(l[c].cantidad-=1,l[c].cantidad===0&&delete l[c],Do(o,l).then(()=>{t.onTomarProducto()}),ot(s).then(u=>{let d=u.data();d.estado.comida+i.producto.comida<=100?d.estado.comida+=i.producto.comida:d.estado.comida+i.producto.comida>100&&(d.estado.comida=100),d.estado.vida+i.producto.vida<=100?d.estado.vida+=i.producto.vida:d.estado.vida+i.producto.vida>100?d.estado.vida=100:d.estado.vida+i.producto.vida<=0&&(d.estado.vida=0),De(s,d).then(()=>{t.onActualizarEstado()})}))})}return f.jsx("div",{className:"d-flex flex-wrap w-100 justify-content-center align-items-end gap-5",children:Object.entries(t.almacen).length>0?Object.entries(t.almacen).map(([i,o])=>f.jsxs("div",{className:"d-flex flex-column align-items-center",children:[f.jsx("img",{src:o.producto.foto,alt:i,style:{width:"100px"}}),f.jsxs("div",{className:"d-flex w-100 justify-content-evenly align-items-center",children:[f.jsxs("span",{className:"fs-3",children:["❤️ ",o.producto.vida]}),f.jsxs("span",{className:"fs-3",children:["🍎 ",o.producto.comida]})]}),f.jsxs("h2",{children:[o.producto.nombre," x",o.cantidad]}),f.jsx("button",{onClick:()=>{r(o)},className:"btn btn-primary",children:"Tomar"})]},i)):f.jsx("h2",{className:"display-2 pt-5 mt-4",children:"Parece que aun no tienes productos"})})}function Uoe(){const[t,e]=S.useState({}),[n,r]=S.useState(""),[i,o]=S.useState(!1),[s,a]=S.useState([]),[l,c]=S.useState([]),[u,d]=S.useState(!1);S.useEffect(()=>{const _=Ni();Di(_,w=>{if(w){let E=me(le,"config"),x=nt(E,rt("user_id","==",w.uid));Ue(x).then(T=>{T.forEach(C=>{r(C.data())})})}})},[]),S.useEffect(()=>{n&&(m(),h())},[n]);function h(){let _=me(le,"juego"),w=Ae(_,n.user_id);ot(w).then(E=>{if(E.exists())e(E.data());else{let x={estado:{comida:100,vida:100},nombre:"Hola",last_fed:new Date};Do(w,x),e(x)}})}function p(){let _=me(le,"tienda");Ue(_).then(w=>{let E=[];w.forEach(x=>{E.push(x.data())}),a(E),o(!i)})}function m(){let _=me(le,"almacen"),w=Ae(_,n.user_id);ot(w).then(E=>{E.exists&&c(E.data())})}function v(){u||m(),d(!u)}function y(){p()}function b(_){r(_),m()}function g(){let _=0;for(const w in l)l.hasOwnProperty(w)&&l[w].cantidad&&(_+=l[w].cantidad);return _}return f.jsxs(f.Fragment,{children:[f.jsx(Ne,{to:"/home",className:"btn btn-secondary mt-5 ms-5",children:"Volver"}),f.jsxs("div",{className:"d-flex flex-column flex-md-row h-100 align-items-center",children:[f.jsxs("section",{id:"juego_info",className:"d-flex flex-column align-items-center w-50",children:[f.jsx("div",{className:"w-md-25",children:f.jsx("img",{className:"w-100",src:AB,alt:"Aquí está Booku"})}),f.jsx("h2",{className:"display-2 mt-5",children:t.nombre})]}),f.jsxs("section",{id:"juego_estados",className:"h-100 w-50 d-flex flex-column justify-content-center",children:[t&&Object.keys(t).length!==0&&f.jsxs("article",{className:"h-25 w-md-50 d-flex flex-column justify-content-evenly",children:[f.jsxs("div",{className:"progress",children:[f.jsx("label",{className:"fs-1",htmlFor:"",children:"❤️"}),f.jsxs("div",{className:"progress-bar bg-success fs-2",style:{width:`${t.estado.vida}%`},children:[t.estado.vida,"%"]})]}),f.jsxs("div",{className:"progress",children:[f.jsx("label",{className:"fs-1",htmlFor:"",children:"🍎"}),f.jsxs("div",{className:"progress-bar bg-warning fs-2",style:{width:`${t.estado.comida}%`},children:[t.estado.comida,"%"]})]})]}),f.jsxs("article",{className:"d-flex h-50 w-md-50 align-items-center justify-content-evenly gap-3",children:[f.jsxs("button",{onClick:v,className:"btn btn-primary d-flex flex-column",children:[f.jsx(Pe,{className:"btn-juego p-4",icon:"streamline:refrigerator-solid"})," ",g()," 🍔"]}),f.jsxs("button",{onClick:y,className:"btn btn-primary d-flex flex-column",children:[f.jsx(Pe,{className:"btn-juego p-4",icon:"bi:shop"}),n.monedas," 🪙"]})]})]})]}),f.jsx("div",{className:`modal fade justify-content-center align-items-baseline mt-5 pt-5 ${i?"show":""}`,id:"recompensas",style:{display:i?"flex":"none"},onClick:_=>{_.stopPropagation(),y()},children:f.jsx("div",{className:"tienda modal-content w-50",children:f.jsxs("div",{className:"modal-body",onClick:_=>_.stopPropagation(),children:[f.jsxs("div",{children:[f.jsx("h2",{className:"display-6",children:"Tienda"}),f.jsx("button",{onClick:y,type:"button",className:"btn position-absolute top-0 end-0",children:f.jsx(Pe,{className:"display-1 ",icon:"material-symbols:close-rounded"})})]}),f.jsx("div",{className:"d-flex flex-column justify-content-center align-items-center gap-5",children:f.jsx(Foe,{config:n,actualizarConfiguracion:b,user_id:n.user_id,monedas:n.monedas,tienda:s})})]})})}),f.jsx("div",{className:`modal fade justify-content-center align-items-baseline mt-5 pt-5 ${u?"show":""}`,id:"recompensas",style:{display:u?"flex":"none"},onClick:_=>{_.stopPropagation(),v()},children:f.jsx("div",{className:"almacen modal-content w-50",children:f.jsxs("div",{className:"modal-body",onClick:_=>_.stopPropagation(),children:[f.jsxs("div",{children:[f.jsx("h2",{className:"display-6",children:"Almacen"}),f.jsx("button",{onClick:v,type:"button",className:"btn position-absolute top-0 end-0",children:f.jsx(Pe,{className:"display-1 ",icon:"material-symbols:close-rounded"})})]}),f.jsx("div",{className:"d-flex flex-column justify-content-center align-items-center gap-5",children:f.jsx(Voe,{onActualizarEstado:h,onTomarProducto:m,config:n,almacen:l})})]})})})]})}function J1(t){S.useState([]);let[e,n]=S.useState(["",""]),[r,i]=S.useState(""),[o,s]=S.useState([]),[a,l]=S.useState([]),[c,u]=S.useState(0),[d,h]=S.useState([]),[p,m]=S.useState("");S.useEffect(()=>{(t.nombre!==""||t.libroReto.length>0)&&(m(t.nombre),l(t.libroReto))},[t.nombre,t.libroReto]);function v(){fetch("https://www.googleapis.com/books/v1/volumes?q="+r+"&maxResults=12").then(I=>{if(!I.ok)throw new Error("Network response was not ok");return I.json()}).then(I=>{s(I.items)})}function y(I){a.includes(I)||l([...a,I])}function b(){u(I=>I===0?Math.max(0,o.length-3):I-3)}function g(){u(I=>I===Math.max(0,o.length-3)?0:I+3)}function _(I){l(a.filter(D=>D.id!==I))}function w(){let I=[];p===""&&(I.nombre="El nombre no puede estar vacío"),e[0]===""&&(I.duracion="La duración no puede estar vacía"),e[1]===""&&(I.duracion="Elige un tipo de duración"),a.length===0&&(I.librosReto="Debes añadir mínimo un libro"),h(I),Object.keys(I).length===0&&C()}function E(I,D){let L=new Date(I);return L.setDate(L.getDate()+D),L}function x(I,D){return E(I,D*7)}function T(I,D){let L=new Date(I);return L.setMonth(L.getMonth()+D),L}function C(){let I=[];Array.isArray(a)&&a.forEach(L=>{L&&L.id&&I.push(L.id)});const D={nombre:p,id_libros:I,uid:t.usuario.uid,duracion:[e[0],e[1]]};fetch("https://api-booku.vercel.app/reto/create",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.usuario.accessToken}`},body:JSON.stringify(D)}).then(L=>L.json()).then(L=>{if(t.grupo){const B=nt(me(le,"grupos"),rt("nombre","==",t.grupo.nombre));Ue(B).then(Y=>{Y.forEach(X=>{let U=Ae(le,"grupos",X.id),M=new Date;switch(e[1]){case"1":M=E(M,parseInt(e[0]));break;case"2":M=x(M,parseInt(e[0]));break;case"3":M=T(M,parseInt(e[0]));break}De(U,{reto_id:{fecha_max:M,id:L.head.id}}).then(()=>{t.onCreado()})})})}const j=nt(me(le,"config"),rt("user_id","==",t.usuario.uid));Ue(j).then(B=>{B.forEach(Y=>{let X=Ae(le,"config",Y.id),U=new Date;switch(e[1]){case"1":U=E(U,parseInt(e[0]));break;case"2":U=x(U,parseInt(e[0]));break;case"3":U=T(U,parseInt(e[0]));break}let M=Y.data().actual;M.push({fecha_end:U,fecha_start:new Date,id_reto:L.head.id}),De(X,{actual:M}).then(()=>{t.onCreado(L.head.id)})})})})}function O(I){let D=[...e];D[1]=I,n(D)}return f.jsx(f.Fragment,{children:f.jsx("div",{className:"d-flex flex-column align-items-center flex-wrap gap-5 w-100",children:f.jsxs("div",{className:"d-flex flex-column gap-5 w-100",children:[f.jsxs("div",{className:"form-input",children:[f.jsx("label",{htmlFor:"nombre",children:"Nombre"}),f.jsx("input",{className:p.length>=0?"text-white":"",type:"text",name:"nombre",id:"nombre",value:p,onChange:I=>m(I.target.value)})]}),d.nombre&&f.jsx("p",{className:"fs-2 text-danger",children:d.nombre}),f.jsxs("div",{className:"form-two-input",children:[f.jsx("label",{className:"form-two-input__label",htmlFor:"duracion1",children:"Duración"}),f.jsxs("div",{className:"form-value",children:[f.jsx("div",{className:"form-value__duracion",children:f.jsx("input",{type:"text",id:"duracion1",onChange:I=>{let D=[...e];D[0]=I.target.value,n(D)}})}),f.jsxs("div",{className:"form-value__tipo",children:[f.jsx("input",{hidden:!0,type:"radio",name:"duracion2",id:"duracionDia",checked:e[1]==="1",onChange:()=>O("1")}),f.jsx("label",{htmlFor:"duracionDia",children:"Día"}),f.jsx("input",{hidden:!0,type:"radio",name:"duracion2",id:"duracionSemana",checked:e[1]==="2",onChange:()=>O("2")}),f.jsx("label",{className:"form-value__tipo__selected",htmlFor:"duracionSemana",children:"Semana"}),f.jsx("input",{hidden:!0,type:"radio",name:"duracion2",id:"duracionMes",checked:e[1]==="3",onChange:()=>O("3")}),f.jsx("label",{htmlFor:"duracionMes",children:"Mes"})]})]})]}),d.fecha&&f.jsx("p",{className:"fs-2 text-danger",children:d.fecha}),f.jsxs("div",{className:"form-input-search-mini",children:[f.jsx("label",{htmlFor:"buscar",children:"Buscar Libro"}),f.jsx("input",{className:r.length>=0?"text-white":"",type:"text",name:"buscar",id:"buscar",onKeyDown:I=>{I.key==="Enter"&&v()},onChange:I=>i(I.target.value)}),f.jsx("button",{onClick:v,children:f.jsx(Pe,{icon:"material-symbols:search"})})]}),d.librosReto&&f.jsx("p",{className:"fs-2 text-danger",children:d.librosReto}),f.jsx("div",{className:"d-flex flex-column flex-md-row w-100 align-items-center justify-content-between",children:o&&f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:b,className:"btn btn-primary btn-carrousel",children:"❮"}),o.slice(c,c+3).map(I=>f.jsxs("div",{className:"ranking__book",children:[f.jsx("img",{className:"ranking__book__img",src:I.volumeInfo.imageLinks?I.volumeInfo.imageLinks.thumbnail:"",alt:"Portada de "+I.volumeInfo.title}),f.jsx("p",{className:"ranking__book__title",children:I.volumeInfo.title}),f.jsx("button",{className:"btn btn-primary",onClick:()=>y(I),children:"Añadir"})]},I.id)),f.jsx("button",{onClick:g,className:"btn btn-primary btn-carrousel",children:"❯"})]})}),a.length>0&&f.jsxs("div",{className:"d-flex flex-column gap-3",children:[f.jsxs("h2",{children:["Libros añadidos (",a.length,")"]}),f.jsx("div",{className:"listado-retos d-flex flex-column gap-3",children:a.map(I=>f.jsxs("div",{className:"d-flex w-100 justify-content-between align-items-center",children:[f.jsxs("div",{className:"d-flex w-100",children:[f.jsx("span",{className:"fs-1 text-secondary w-50 gap-5",children:I.volumeInfo.title}),f.jsx("span",{className:"fs-1 text-secondary w-50 gap-5",children:I.volumeInfo.authors[0]})]}),f.jsx("button",{onClick:()=>_(I.id),className:"btn btn-primary",children:f.jsx(Pe,{className:"display-2",icon:"solar:trash-bin-2-bold"})})]},I.id))})]}),f.jsx("button",{onClick:w,className:"btn btn-primary",children:"Crear Reto"})]})})})}function Boe(){let t=co(),[e,n]=S.useState([]);S.useState(""),S.useState("");let[r,i]=S.useState(!1);S.useState(),S.useState(),S.useState([]),S.useState(0),S.useState();let[o,s]=S.useState();S.useState([]),S.useEffect(()=>{const l=Ni();Di(l,c=>{c&&(s(c),fetch("https://api-booku.vercel.app/reto/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c.accessToken}`}}).then(u=>u.json()).then(u=>{n(u.data)}))})},[]);function a(){i(!r)}return f.jsxs(f.Fragment,{children:[f.jsx(Ne,{to:"/home",className:"mt-5 ms-5 btn btn-secondary",children:"Volver"}),f.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-center align-items-center h-100 gap-5 py-5 py-md-0",children:[e.map((l,c)=>!l.uid||l.uid===""?f.jsx(Ne,{to:"/detalle/reto/"+l.id,className:"tarjeta-grande",children:f.jsx("p",{children:l.nombre})},c):""),f.jsx("button",{onClick:a,className:"btn tarjeta-grande",children:f.jsx("p",{children:"Crear"})}),f.jsx("div",{className:`modal fade justify-content-center align-items-baseline ${r?"show":""}`,style:{display:r?"flex":"none"},onClick:l=>{l.stopPropagation(),a()},children:f.jsx("div",{className:"configuracion modal-content w-md-50",children:f.jsxs("div",{className:"modal-body",onClick:l=>l.stopPropagation(),children:[f.jsxs("div",{children:[f.jsx("h2",{className:"display-6",children:"Crea tu reto"}),f.jsx("button",{onClick:a,type:"button",className:"btn btn-close-white position-absolute top-0 end-0",children:f.jsx(Pe,{className:"display-1",icon:"material-symbols:close-rounded"})})]}),f.jsx("div",{className:"d-flex flex-column align-items-center flex-wrap gap-5 w-100",children:f.jsx(J1,{nombre:"",libroReto:[],usuario:o,onCreado:l=>{t(`/detalle/reto/${l}`,{state:{mensaje:"Reto creado correctamente"}})}})})]})})})]})]})}function zoe(t){const[e,n]=S.useState(!1),[r,i]=S.useState(0);let[o,s]=S.useState("");S.useEffect(()=>{t.usuario.uid&&a()},[t.usuario]);function a(){const d=me(le,"amigos"),h=Ae(d,t.usuario.uid);ot(h).then(p=>{p.exists()?p.data().solicitudes.includes(t.id)?s(f.jsxs("div",{className:"d-flex gap-2 w-100",children:[" ",f.jsx("button",{onClick:()=>{l(t.id,!0)},className:"btn btn-success w-50",children:"Aceptar"})," ",f.jsx("button",{onClick:()=>{l(t.id,!1)},className:"btn btn-danger w-50",children:"Rechazar"})," "]})):p.data().pendientes.includes(t.id)?s(f.jsx("button",{className:"btn btn-warning",children:"Solicitado"})):p.data().amigos.includes(t.id)?s(f.jsx("button",{onClick:()=>{i(t.id),n(!e)},className:"btn btn-danger",children:"Eliminar amigo"})):t.id!=t.usuario.uid&&s(f.jsx("button",{onClick:()=>{c(t.id)},className:"btn btn-info",children:"Enviar petición"})):console.log("No such document!")}).catch(p=>{console.error("Error fetching document:",p)})}function l(d,h){let p=me(le,"amigos"),m=Ae(p,t.usuario.uid),v=[],y=Ae(p,d);ot(m).then(b=>{if(b.exists()){let g=b.data(),_=[];g.solicitudes.map(w=>{w!=d&&v.push(w)}),De(m,{solicitudes:v}).then(()=>{t.onActualizarAmigos()}),h==!0&&(g.amigos.map(w=>{_.push(w)}),_.push(d),De(m,{amigos:_}).then(()=>{t.onActualizarAmigos()}))}}),ot(y).then(b=>{if(b.exists()){let g=b.data(),_=[...g.pendientes],w=t.usuario.uid;_=_.filter(E=>E!==w),De(y,{pendientes:_}).then(()=>{a()}),h&&(_=[...g.amigos],_.push(t.usuario.uid),De(y,{amigos:_}).then(()=>{a()}))}})}function c(d){let h=me(le,"amigos"),p=Ae(h,t.usuario.uid),m=Ae(h,d);t.onActualizarAmigos();let v=!1;ot(p).then(y=>{if(y.exists()){let b=[];b.push(...y.data().pendientes),y.data().solicitudes.includes(d)||(b.push(d),v=!0),De(p,{pendientes:b}).then(()=>{t.onActualizarAmigos(),a()})}}),ot(m).then(y=>{if(y.exists()){let g=y.data().solicitudes;v&&g.push(t.usuario.uid),De(m,{solicitudes:g})}})}function u(d){let h=t.amigosUser,p=me(le,"amigos"),m=Ae(p,t.usuario.uid),v=Ae(p,d);ot(m).then(y=>{y.exists()&&(h=h.filter(b=>b.user_id!==d).map(b=>b.user_id),De(m,{amigos:h}).then(()=>{a()}),n(!e),t.onActualizarAmigos())}),ot(v).then(y=>{if(y.exists()){let g=y.data().amigos.filter(_=>_!==t.usuario.uid);De(v,{amigos:g})}})}return f.jsxs("section",{className:"detalle",children:[f.jsxs("section",{className:"d-flex flex-column gap-5",children:[f.jsxs("div",{className:"d-flex gap-5",children:[f.jsx("div",{className:"detalle__foto",children:f.jsx("img",{className:"w-100",src:t.info.foto,alt:"Foto de perfil de "+t.info.user_name})}),f.jsxs("div",{className:"d-flex flex-column text-primary",children:[f.jsx("h2",{className:"fs-1 fw-bold",children:t.info.user_name}),t.lastConx&&f.jsxs("p",{className:"fs-3",children:[f.jsx("b",{children:"Última conexión: "}),new Date(t.lastConx.seconds*1e3).getDate()+"/"+(new Date(t.lastConx.seconds*1e3).getMonth()+1)+"/"+new Date(t.lastConx.seconds*1e3).getFullYear()]}),o]})]}),f.jsxs("div",{className:"home-cubos rounded-5 h-40 px-5 retos",children:[f.jsx("h2",{children:"Retos Actuales"}),t.retoAmigoActual&&t.retoAmigoActual.map(d=>f.jsxs("article",{className:"retos_reto",children:[f.jsxs("div",{className:"d-flex flex-column align-items-baseline",children:[f.jsx("p",{children:d.nombre}),f.jsx("p",{children:new Date(d.fecha.seconds*1e3).getDate()+"/"+(new Date(d.fecha.seconds*1e3).getMonth()+1)+"/"+new Date(d.fecha.seconds*1e3).getFullYear()})]}),f.jsx(Ne,{to:"/detalle/reto/"+d.id,className:"btn btn-primary",children:f.jsx(Pe,{className:"fs-1",icon:"simple-line-icons:user-follow"})})]},"actual"+d.id+"_"+d.fecha.nanoseconds))]}),f.jsxs("div",{className:"home-cubos rounded-5 h-40 py-2 px-5 retos",children:[f.jsx("h2",{children:"Historial"}),t.retoAmigo&&t.retoAmigo.map(d=>f.jsxs("article",{className:"retos_reto",children:[f.jsxs("div",{className:"d-flex flex-column align-items-baseline",children:[f.jsx("p",{children:d.nombre}),f.jsx("p",{children:new Date(d.fecha.seconds*1e3).getDate()+"/"+(new Date(d.fecha.seconds*1e3).getMonth()+1)+"/"+new Date(d.fecha.seconds*1e3).getFullYear()})]}),f.jsx(Ne,{to:"/detalle/reto/"+d.id,className:"btn btn-primary",children:f.jsx(Pe,{className:"fs-1",icon:"simple-line-icons:user-follow"})})]},"historial"+d.id+"_"+d.fecha.nanoseconds))]})]}),f.jsxs("section",{className:"lista_amigos home-cubos rounded-5 px-5 py-2 d-flex flex-column w-md-50 gap-1",children:[f.jsx("h2",{children:"Lista de amigos"}),t.amigosUser.map(d=>f.jsxs(Ne,{to:"/detalle/amigo/"+d.user_id,className:"d-flex align-items-center justify-content-evenly",children:[f.jsxs("div",{className:"d-flex w-75 align-items-center",children:[f.jsx("div",{className:"foto-perfil pe-3",children:f.jsx("img",{className:"rounded-5",src:d.foto==""?ejemplo:d.foto,alt:"Foto de: "+d.user_name})}),f.jsx("p",{className:"fs-1",children:d.user_name})]}),f.jsx("button",{className:"btn btn-primary",onClick:h=>{i(t.id),n(!e)},children:f.jsx(Pe,{icon:"ri:delete-bin-6-line"})})]},d.user_id+Date.now()))]}),f.jsx("div",{className:`modal fade justify-content-center align-items-center ${e?"show":""}`,style:{display:e?"flex":"none"},children:f.jsx("div",{className:"modal-content w-md-50",children:f.jsx("div",{className:"modal-body",children:f.jsxs("div",{className:"d-flex flex-column py-5",children:[f.jsx("h2",{className:"fs-1 fw-bold text-primary text-center",children:"¿Quieres borrar este amigo?"}),f.jsxs("div",{className:"d-flex justify-content-between mt-5 pt-5",children:[f.jsx("button",{onClick:()=>{u(r)},className:"btn btn-danger-long",children:"Borrar"}),f.jsx("button",{className:"btn btn-tertiary-dark",onClick:()=>{n(!e)},children:"Cerrar"})]})]})})})})]})}function Woe(t){let[e,n]=S.useState(""),[r,i]=S.useState({}),[o,s]=S.useState({}),[a,l]=S.useState(""),[c,u]=S.useState(""),[d,h]=S.useState(""),[p,m]=S.useState(""),[v,y]=S.useState(!1),[b,g]=S.useState(""),[_,w]=S.useState(!1),E=Ae(le,"grupos",t.idGrupo);S.useEffect(()=>{b==""&&x()},[]);function x(){ot(E).then(I=>{if(I.exists()){const D=I.data();n(D.nombre),l(D.password),g(D);let L=D.reto_id.id;L&&fetch(`https://api-booku.vercel.app/reto/show/${L}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.usuario.accessToken}`}}).then(j=>j.json()).then(j=>{i(j.data)}).catch(j=>{console.error("Error fetching reto data:",j)})}}).catch(I=>{console.error("Error fetching grupo data:",I)})}function T(){let I={};c!=""&&d!=""&&(c!==a&&(I.contrasena="Contraseñas no coinciden"),d!==p&&(I.contrasena="Contraseñas no coinciden")),e||(I.nombre="El nombre no puede estar vacío"),Object.keys(I).length===0?C():s(I)}function C(){const I=Ae(le,"grupos",t.idGrupo);De(I,{...b,nombre:e,password:c==a&&d!=""?d:a}).then(()=>{t.onMensaje()}).catch(D=>{t.onError()})}function O(){delete b.reto_id,Do(E,b).then(()=>{t.onRemove(),w(!_)}).catch(I=>{t.onError()})}return f.jsxs("section",{className:"w-100",children:[f.jsxs("article",{className:"form-input",children:[f.jsx("h2",{children:"Código de unión"}),f.jsx("p",{className:"fs-2",children:t.idGrupo})]}),f.jsx("h2",{className:"text-center",children:"Modificar"}),f.jsxs("article",{className:"form-input",children:[f.jsx("h3",{className:"fs-1 text-primary",children:"Nombre de grupo"}),f.jsx("input",{value:e,onChange:I=>n(I.target.value)})]}),r&&f.jsxs("article",{className:"form-input",children:[f.jsx("h3",{className:"fs-1 text-primary",children:"Nombre de reto"}),f.jsxs("div",{className:"d-flex w-100 justify-content-center gap-3 align-items-center",children:[f.jsx("p",{className:"fs-2 text-secondary",children:r.nombre}),f.jsx("button",{onClick:()=>{w(!_)},className:"btn btn-primary",children:f.jsx(Pe,{icon:"solar:trash-bin-minimalistic-bold"})})]})]}),f.jsxs("article",{className:"form-input",children:[f.jsxs("div",{className:"form-input",style:{display:v?"none":"flex"},children:[f.jsx("h3",{className:"fs-1 text-primary",children:"Contraseña"}),f.jsx("button",{className:"btn fs-2 text-secondary p-0",onClick:()=>y(!v),children:"Restablecer contraseña"})]}),f.jsxs("div",{className:"w-100",style:{display:v?"block":"none"},children:[f.jsxs("article",{className:"form-input",children:[f.jsx("h3",{className:"fs-1 text-primary",children:"Contraseña actual"}),f.jsx("input",{type:"password",onChange:I=>u(I.target.value)})]}),f.jsxs("article",{className:"form-input",children:[f.jsx("h3",{className:"fs-1 text-primary",children:"Contraseña nueva"}),f.jsx("input",{type:"password",onChange:I=>h(I.target.value)})]}),f.jsxs("article",{className:"form-input",children:[f.jsx("h3",{className:"fs-1 text-primary",children:"Confirma nueva contraseña"}),f.jsx("input",{type:"password",onChange:I=>m(I.target.value)})]}),f.jsx("div",{className:"d-flex justify-content-center w-100 mt-5",children:f.jsx("button",{className:"btn fs-2 text-secondary p-0",onClick:()=>y(!v),children:"Cancelar"})})]})]}),Object.keys(o).length>0&&f.jsx("div",{className:"d-flex justify-content-center w-100 mt-5",children:f.jsx("ul",{children:Object.keys(o).map(I=>f.jsx("li",{className:"text-danger fs-2",children:o[I]},I))})}),f.jsx("div",{className:"d-flex justify-content-center w-100 mt-5",children:f.jsx("button",{onClick:T,className:"btn btn-primary",children:"Guardar"})}),f.jsx("div",{className:`modal fade justify-content-center align-items-center ${_?"show":""}`,style:{display:_?"flex":"none"},children:f.jsx("div",{className:"modal-content w-30",children:f.jsx("div",{className:"modal-body",children:f.jsxs("div",{className:"d-flex flex-column py-5",children:[f.jsx("h2",{className:"fs-1 fw-bold text-primary text-center",children:"¿Quieres borrar el reto? Deberás crear otro nuevo"}),f.jsxs("div",{className:"d-flex justify-content-between mt-5 pt-5",children:[f.jsx("button",{onClick:()=>{O()},className:"btn btn-danger-long",children:"Borrar"}),f.jsx("button",{className:"btn btn-tertiary-dark",onClick:()=>{w(!_)},children:"Cerrar"})]})]})})})})]})}function Hoe(t){const[e,n]=S.useState([]);S.useState(""),S.useState({});const[r,i]=S.useState({}),[o,s]=S.useState(!1),[a,l]=S.useState(""),[c,u]=S.useState("");S.useEffect(()=>{d()},[t.idGrupo]);function d(){const m=Ae(le,"grupos",t.idGrupo);ot(m).then(v=>{if(v.exists()){const y=v.data(),b={},g=Object.keys(y.notas).map(_=>{const w=me(le,"config"),E=nt(w,rt("user_id","==",_));return Ue(E).then(x=>{x.forEach(T=>{b[_]=T.data().user_name})})});Promise.all(g).then(()=>{i(b)}),n(y.notas)}}).catch(v=>{console.error("Error fetching grupo data:",v)})}function h(m,v){return()=>{s(!o),l(m),u(v)}}function p(m){let v=Ae(le,"grupos",t.idGrupo);ot(v).then(y=>{if(y.exists()){let g={...y.data().notas};delete g[m],De(v,{notas:g})}}).then(()=>{d(),s(!o),t.onActualizarGrupo()}).catch(y=>{console.error("Error fetching grupo data:",y)})}return f.jsxs(f.Fragment,{children:[f.jsx("section",{children:f.jsxs("article",{className:"d-flex flex-column",children:[f.jsx("h2",{children:"Notas de usuarios"}),f.jsx("div",{className:"d-flex flex-column gap-3 mt-2",children:e&&Object.keys(e).length>0?Object.entries(e).map(([m,v])=>f.jsxs("div",{className:"d-flex justify-content-between",children:[f.jsxs("p",{className:"fs-1 text-primary",children:[f.jsx("span",{children:r[m]||"Usuario no encontrado"}),": ",v]}),f.jsx("button",{onClick:h(r[m],m),className:"btn btn-primary",children:f.jsx(Pe,{icon:"ri:delete-bin-2-fill"})})]},m)):e&&Object.keys(e).length===0?f.jsx("p",{className:"fs-1 text-primary",children:"Nadie ha hecho el examen."}):f.jsx("p",{className:"fs-1 text-primary",children:"Cargando notas..."})})]})}),f.jsx("div",{className:`modal fade justify-content-center align-items-center ${o?"show":""}`,style:{display:o?"flex":"none"},children:f.jsx("div",{className:"modal-content w-md-50",children:f.jsx("div",{className:"modal-body",children:f.jsxs("div",{className:"d-flex flex-column py-5",children:[f.jsxs("h2",{className:"display-1 fw-bold text-primary",children:["¿Quieres borrar la nota de ",a,"?"]}),f.jsxs("div",{className:"d-flex justify-content-between mt-5 pt-5",children:[f.jsx("button",{onClick:()=>{p(c)},className:"btn btn-danger-long",children:"Borrar"}),f.jsx("button",{className:"btn btn-tertiary-dark",onClick:()=>{s(!o)},children:"Cerrar"})]})]})})})})]})}function qoe(){var Yn,lr,Yr;let t=co(),e=Gl(),n=(Yn=e.state)==null?void 0:Yn.mensaje,r=(lr=e.state)==null?void 0:lr.error,{check:i,id:o}=Rp(),[s,a]=S.useState([]),[l,c]=S.useState(""),[u,d]=S.useState([]),[h,p]=S.useState([]),[m,v]=S.useState([]),[y,b]=S.useState([]),[g,_]=S.useState([]),[w,E]=S.useState([]),[x,T]=S.useState([]),[C,O]=S.useState([]),[I,D]=S.useState(!1),[L,j]=S.useState(""),[B,Y]=S.useState(""),[X,U]=S.useState(""),[M,q]=S.useState(!1),[N,P]=S.useState([]),[W,Z]=S.useState([]),[se,Q]=S.useState(""),[ee,J]=S.useState(0),[k,A]=S.useState(""),[$,R]=S.useState(""),[F,G]=S.useState([]),[H,ae]=S.useState([]),[de,pe]=S.useState([]),[Se,gt]=S.useState([]),[je,Rt]=S.useState(!1),[mn,Tn]=S.useState(!1),[_t,Ut]=S.useState(n||""),[ar,Dr]=S.useState(r||""),[$r,gn]=S.useState(!0),[hi,Cn]=S.useState(""),[Lr,Bo]=S.useState(!1),[zo,fo]=S.useState(!1);S.useEffect(()=>{if(_t!=""){const ne=setTimeout(()=>{Ut("")},5e3);return()=>clearTimeout(ne)}},[_t]),S.useEffect(()=>{if(ar!=""){const ne=setTimeout(()=>{Dr("")},5e3);return()=>clearTimeout(ne)}},[ar]),S.useEffect(()=>{const ne=Ni();Di(ne,Ve=>{c(Ve),Ve&&(i=="reto"?fetch("https://api-booku.vercel.app/reto/show/"+o,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ve.accessToken}`}}).then(Te=>Te.json()).then(Te=>{a(Te.data)}):i=="libro"&&(fetch("https://www.googleapis.com/books/v1/volumes/"+o).then(Te=>Te.json()).then(Te=>{O(Te),A(Te.volumeInfo.description),R(K(Te.volumeInfo.description,200))}),te()))})},[i,o]),S.useEffect(()=>{if(l)switch(i){case"reto":Wo(),Ie();break;case"grupo":Oe(),ke();break;case"amigo":fe(),Ke();break}},[l,i,o]),S.useEffect(()=>{if(s&&s.id_libros&&s.id_libros.length>0){const ne=s.id_libros.map(Ve=>fetch(`https://www.googleapis.com/books/v1/volumes/${Ve}`).then(Te=>Te.json()));Promise.all(ne).then(Ve=>{const Te=Ve.map(Me=>Me);d(Te)})}},[s,i,o]),S.useEffect(()=>{x&&x.user_id&&we()},[x]);function Wo(){const ne=me(le,"config"),Ve=nt(ne,rt("user_id","==",l.uid));Ue(Ve).then(Te=>{let Me=!1;Te.forEach($e=>{if(Me)return;const Be=$e.data();Be.actual!==void 0?Be.actual.forEach(_e=>{_e.id_reto==o&&(Cn(f.jsxs("div",{className:"d-flex flex-column gap-3",children:[f.jsx("button",{onClick:oc,className:"btn btn-primary",children:"Completar reto"}),f.jsx("button",{onClick:()=>{Bo(!0)},className:"btn btn-outline-secondary fs-4",children:"Abandonar reto"})]})),Me=!0)}):(Be.actual=[],De(Ae(le,"config",$e.id),Be).then(()=>{Ut("Documento actualizado correctamente")}).catch(_e=>{console.error("Error al actualizar documento:",_e)})),Me||Be.historial.forEach(_e=>{_e.id_reto===o&&(Cn(f.jsx("button",{className:"btn btn-primary",onClick:Ps,children:"Repetir reto"})),Me=!0)})}),Me||Cn(f.jsx("button",{className:"btn btn-primary",onClick:Ps,children:"Unirse a reto"}))}).catch(Te=>{console.error("Error obteniendo documentos:",Te)})}function Da(){const ne=me(le,"config"),Ve=nt(ne,rt("user_id","==",l.uid));Ue(Ve).then(Te=>{Te.forEach(Me=>{const $e=Me.data();$e.actual=$e.actual.filter(Be=>Be.id_reto!=o),De(Ae(le,"config",Me.id),$e).then(()=>{Ut("Has salido del reto... No te rindas el siguiente irá mejor!"),Wo(),Bo(!1)}).catch(Be=>{console.error("Error al actualizar documento:",Be)})})})}function ic(ne,Ve){let Te=new Date(ne);return Te.setDate(Te.getDate()+Ve),Te}function $a(ne,Ve){return ic(ne,Ve*7)}function wd(ne,Ve){let Te=new Date(ne);return Te.setMonth(Te.getMonth()+Ve),Te}function Ps(){const ne=me(le,"config"),Ve=nt(ne,rt("user_id","==",l.uid));Ue(Ve).then(Te=>{Te.forEach(Me=>{const $e=Me.data();let Be=new Date,_e;fetch("https://api-booku.vercel.app/reto/show/"+o,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l.accessToken}`}}).then(Ce=>Ce.json()).then(Ce=>{if(_e=Ce.data,_e&&_e.duracion&&_e.duracion.tipo)switch(_e.duracion.tipo){case"1":Be=ic(Be,parseInt(_e.duracion.duracion));break;case"2":Be=$a(Be,parseInt(_e.duracion.duracion));break;case"3":Be=wd(Be,parseInt(_e.duracion.duracion));break;default:console.error("Tipo de duración no válido");return}else{console.error("reto.duracion.tipo es undefined");return}let qe={fecha_start:new Date,fecha_end:Be,id_reto:o};$e.actual.push(qe),De(Ae(le,"config",Me.id),$e).then(()=>{Ut("Te has unido correctamente"),Wo()}).catch($t=>{console.error("Error al actualizar documento:",$t)})})})})}function oc(){const ne=me(le,"config"),Ve=nt(ne,rt("user_id","==",l.uid));Ue(Ve).then(Te=>{Te.forEach(Me=>{const $e=Me.data();let Be={fecha:new Date,id_reto:o},_e=$e.actual.filter(Fi=>Fi.id_reto==o),Ce=new Date,qe=_e[0].fecha_start.seconds*1e3,$t=Ce-qe,ho=Math.floor($t/(1e3*60*60*24))*50;$e.actual=$e.actual.filter(Fi=>Fi.id_reto!=o),$e.historial.push(Be),$e.monedas+=ho,De(Ae(le,"config",Me.id),$e).then(()=>{Ut("Enhorabuena reto completado! Has ganado: "+ho+"monedas."),Wo()}).catch(Fi=>{console.error("Error al actualizar documento:",Fi)})})})}function z(){D(!I)}function K(ne,Ve){return ne.length<=Ve?ne:ne.substring(0,Ve)+"..."}function te(){let ne=me(le,"resena"),Ve=nt(ne,rt("id_libro","==",o));Ue(Ve).then(Te=>{let Me=[],$e=0,Be=0;Te.forEach(_e=>{let Ce=_e.data();Ce.id=_e.id,Be++,$e+=parseInt(Ce.n_starts);let qe=me(le,"config"),$t=nt(qe,rt("user_id","==",Ce.uid));Ue($t).then(Xr=>{Xr.forEach(ho=>{Ce.nombre=ho.data().user_name,Me.push(Ce),Q(""),J(0)}),P(Me)})}),$e=parseFloat($e)/Be,Z($e.toFixed(2))})}function fe(){let ne=me(le,"config"),Ve=nt(ne,rt("user_id","==",o));Ue(Ve).then(Te=>{Te.forEach(Me=>{T(Me.data());let $e=[],Be=[];Me.data().historial.map(_e=>{fetch("https://api-booku.vercel.app/reto/show/"+_e.id_reto,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l.accessToken}`}}).then(Ce=>Ce.json()).then(Ce=>{Ce.data.fecha=_e.fecha,$e.push(Ce.data),$e.length==Me.data().historial.length&&G($e)})}),Me.data().actual.map(_e=>{fetch("https://api-booku.vercel.app/reto/show/"+_e.id_reto,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l.accessToken}`}}).then(Ce=>Ce.json()).then(Ce=>{Ce.data.fecha=_e.fecha_start,Be.push(Ce.data),Be.length==Me.data().actual.length&&ae(Be)})})})})}function we(){let ne=me(le,"juego"),Ve=Ae(ne,x.user_id);ot(Ve).then(Te=>{j(Te.data().last_fed)})}function Ke(){let ne=me(le,"amigos"),Ve=Ae(ne,l.uid);ot(Ve).then(Te=>{if(Te.exists()){let Me=Te.data();v([]);let $e=[];Me.amigos.map(Be=>{let _e=me(le,"config"),Ce=nt(_e,rt("user_id","==",Be));Ue(Ce).then(qe=>{qe.forEach($t=>{$e.push($t.data()),Me.amigos.length==$e.length&&v($e)})})}),b([]),Me.solicitudes.map(Be=>{let _e=me(le,"config"),Ce=nt(_e,rt("user_id","==",Be));Ue(Ce).then(qe=>{let $t=[];qe.forEach(Xr=>{$t.push(Xr.data()),b($t)})})}),_([]),Me.pendientes.map(Be=>{let _e=me(le,"config"),Ce=nt(_e,rt("user_id","==",Be));Ue(Ce).then(qe=>{let $t=[];qe.forEach(Xr=>{$t.push(Xr.data()),_($t)})})})}})}function Oe(){let ne=me(le,"grupos"),Ve=Ae(ne,o);ot(Ve).then(Te=>{let Me=Te.data();Me.id=Te.id,E(Me),Me.reto_id==null?Je():fetch("https://api-booku.vercel.app/reto/show/"+Me.reto_id.id,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l.accessToken}`}}).then($e=>$e.json()).then($e=>{Y($e.data);let Be=[];$e.data.id_libros.map(_e=>{fetch("https://www.googleapis.com/books/v1/volumes/"+_e).then(Ce=>Ce.json()).then(Ce=>{Be.push(Ce),pe(Be)})})})})}function ke(){let ne=me(le,"config"),Ve=nt(ne,rt("id_grupos","array-contains",o));Ue(Ve).then(Te=>{let Me=[];Te.forEach($e=>{Me.push($e.data()),gt(Me)})})}function Ie(){let ne=me(le,"amigos"),Ve=Ae(ne,l.uid);ot(Ve).then(Te=>{Te.exists()&&Te.data().amigos.map($e=>{let Be=me(le,"config"),_e=nt(Be,rt("user_id","==",$e));Ue(_e).then(Ce=>{let qe=[];Ue(_e).then($t=>{let Xr=[];$t.forEach(ho=>{let Fi=ho.data();Array.isArray(Fi.actual)&&Fi.actual.map(Z0=>{Z0.id_reto==o&&Xr.push(Fi)})}),p(ho=>[...ho,...Xr])}),p(qe)})})})}function Je(){q(!M),C.volumeInfo!=null&&U("Leer "+C.volumeInfo.title),M&&(Ut("Reto creado correctamente"),Oe())}function sn(){tm(me(le,"resena"),{comentario:se,fecha:new Date,id_libro:o,n_starts:ee,uid:l.uid}).then(()=>{te()})}function Qe(){const ne=me(le,"config"),Ve=nt(ne,rt("user_id","==",l.uid));Ue(Ve).then(Te=>{Te.forEach(Me=>{const Be=Me.data().id_grupos.filter(_e=>_e!==o);De(Me.ref,{id_grupos:Be}).then(()=>{t("/home",{state:{mensaje:"Has abandonado el grupo"}})}).catch(_e=>{console.error("Error actualizando el documento:",_e),Ut("Error al abandonar el grupo"),gn(!0)})})}).catch(Te=>{console.error("Error obteniendo documentos:",Te)})}let at={1:"Días",2:"Semanas",3:"Meses"},wt=f.jsxs("section",{className:"detalle detalle__reto",children:[f.jsx("section",{className:"detalle__reto__libros",children:u&&u.map(ne=>f.jsxs(Ne,{to:"/detalle/libro/"+ne.id,className:"detalle__reto__libros__content text-decoration-none",children:[f.jsx("div",{className:"detalle__reto__libros__content--img",children:f.jsx("img",{className:"w-100",src:ne.volumeInfo.imageLinks.thumbnail,alt:"Libro de "+ne.volumeInfo.title})}),f.jsx("h2",{children:ne.volumeInfo.title})]},ne.id))}),f.jsxs("div",{className:"detalle__reto__info pb-md-5",children:[f.jsxs("section",{className:"detalle__reto__info__tecnicos",children:[f.jsxs("p",{className:"detalle__reto__info__tecnicos__datos",children:[f.jsx("b",{children:"Nombre: "}),s.nombre]}),s.duracion&&f.jsxs("p",{className:"detalle__reto__info__tecnicos__datos",children:[f.jsx("b",{children:"Duración: "}),s.duracion.duracion," ",at[s.duracion.tipo]]}),hi]}),f.jsxs("section",{className:"detalle__reto__info__amigos",children:[f.jsx("h2",{children:"Amigos unidos al reto"}),f.jsx("section",{className:"detalle__reto__info__amigos__listado",children:h&&h.map(ne=>f.jsxs(Ne,{to:"/detalle/amigo/"+ne.user_id,className:"detalle__reto__info__amigos__listado__amigo text-decoration-none",children:[f.jsx("div",{className:"detalle__reto__info__amigos__listado__amigo__foto",children:f.jsx("img",{className:"w-100",src:ne.foto,alt:"Foto de "+ne.user_name})}),f.jsx("h3",{className:"detalle__reto__info__amigos__listado__amigo__nombre",children:ne.user_name})]},ne.user_id))})]})]}),f.jsx("div",{className:`modal fade justify-content-center align-items-center ${Lr?"show":""}`,style:{display:Lr?"flex":"none"},children:f.jsx("div",{className:"modal-content w-md-50",children:f.jsx("div",{className:"modal-body",children:f.jsxs("div",{className:"d-flex flex-column py-5",children:[f.jsx("h2",{className:"display-1 fw-bold text-primary",children:"¿Estas seguro de abandonar el reto?"}),f.jsxs("div",{className:"d-flex justify-content-between mt-5 pt-5",children:[f.jsx("button",{onClick:()=>{Da()},className:"btn btn-danger-long",children:"Abandonar"}),f.jsx("button",{className:"btn btn-tertiary-dark",onClick:()=>{Bo(!Lr)},children:"Cerrar"})]})]})})})})]}),An=f.jsxs("section",{className:"detalle detalle_grupo",children:[l.uid==w.uid&&w.reto_id==null&&f.jsx("div",{className:`modal fade justify-content-center align-items-center ${M?"show":""}`,style:{display:M?"flex":"none"},children:f.jsx("div",{className:"configuracion modal-content w-md-50",children:f.jsxs("div",{className:"modal-body",children:[f.jsx("div",{children:f.jsx("h2",{className:"display-6",children:"Crea reto para tu grupo"})}),f.jsx(J1,{onCreado:Je,usuario:l,nombre:"Reto de grupo "+w.nombre,libroReto:[],grupo:w})]})})}),f.jsxs("section",{className:"detalle_grupo__izquierda",children:[f.jsx("h2",{className:"detalle_grupo__izquierda--title",children:B.nombre}),w.reto_id&&f.jsxs("p",{className:"detalle_grupo__izquierda--info mt-2",children:["Fecha para completar el reto ",new Date(w.reto_id.fecha_max.seconds*1e3).toLocaleDateString()]}),f.jsx("p",{className:"detalle_grupo__izquierda--info mt-3",children:"Libros: "}),f.jsx("div",{className:"d-flex flex-wrap gap-3",children:de&&de.map(ne=>f.jsxs(Ne,{to:"/detalle/libro/"+ne.id,className:"detalle_grupo__izquierda__libros__content text-decoration-none",children:[f.jsx("div",{className:"detalle_grupo__izquierda__libros__content--img",children:f.jsx("img",{className:"w-100",src:ne.volumeInfo.imageLinks.thumbnail,alt:"Libro de "+ne.volumeInfo.title})}),f.jsx("h2",{children:ne.volumeInfo.title})]},ne.id))})]}),f.jsxs("section",{className:"detalle_grupo__derecha",children:[l.uid==w.uid&&f.jsxs("div",{className:"d-flex flex-column gap-3",children:[f.jsx("button",{onClick:()=>{Rt(!je)},className:"btn btn-primary",children:"Configuración del grupo"}),w.examen_id&&f.jsx("button",{onClick:()=>{Tn(!je)},className:"btn btn-primary",children:"Notas de examen"}),w.examen_id==null&&f.jsx(Ne,{to:"/examen/"+w.id+"/crear",className:"btn btn-primary",children:"Crear Examen"}),w.examen_id&&f.jsx(Ne,{to:"/examen/"+w.id+"/editar",className:"btn btn-primary",children:"Editar Examen"})]}),f.jsxs("div",{className:"d-flex flex-column gap-3 mt-3 mb-5",children:[w&&f.jsx("button",{className:"btn btn-primary",onClick:()=>{fo(!zo)},children:"Salir de grupo"}),w.examen_id&&!((Yr=w.notas)!=null&&Yr[l.uid])&&f.jsx(Ne,{to:"/examen/"+w.id,className:"btn btn-primary",children:"Hacer Examen"}),w.notas&&w.notas[l.uid]&&f.jsxs("h2",{className:"text-center text-primary",children:[" Nota ",w.notas[l.uid]]})]}),f.jsx("h2",{className:"detalle_grupo__derecha--title text-center",children:"Usuarios en este grupo"}),f.jsx("div",{className:"d-flex flex-column gap-3 px-5 mt-3",children:Se&&Se.map(ne=>f.jsxs(Ne,{to:"/detalle/amigo/"+ne.user_id,className:"d-flex text-decoration-none align-items-center w-100 gap-3",children:[f.jsx("div",{className:"w-15",children:f.jsx("img",{className:"w-100",src:ne.foto,alt:"Foto de "+ne.user_name})}),f.jsx("p",{className:"fs-1",children:ne.user_name})]},ne.user_id))})]}),je==1&&f.jsx("div",{className:`modal fade justify-content-center align-items-center ${je!=0?"show":""}`,style:{display:je!=0?"flex":"none"},onClick:()=>{Rt(!je)},children:f.jsx("div",{className:"grupos modal-content w-md-50",children:f.jsxs("div",{className:"modal-body",onClick:ne=>ne.stopPropagation(),children:[f.jsx("div",{children:f.jsx("button",{onClick:()=>{Rt(!je)},type:"button",className:"btn position-absolute top-0 end-0",children:f.jsx(Pe,{className:"display-1",icon:"material-symbols:close-rounded"})})}),f.jsx("div",{className:"d-flex flex-wrap justify-content-center py-5",children:f.jsx(Woe,{onRemove:()=>{Ut("El grupo ha sido editado correctamente"),gn(!0),Rt(!je),Oe()},onMensaje:()=>{Ut("El grupo ha sido editado correctamente"),gn(!0),Rt(!je),Oe()},onError:()=>{setError("El grupo no ha sido editado")},usuario:l,idGrupo:o})})]})})}),w.examen_id&&f.jsx("div",{className:`modal fade justify-content-center align-items-center ${mn!=0?"show":""}`,style:{display:mn!=0?"flex":"none"},onClick:()=>{Tn(!mn)},children:f.jsx("div",{className:"grupos modal-content w-md-50",children:f.jsxs("div",{className:"modal-body",onClick:ne=>ne.stopPropagation(),children:[f.jsx("div",{children:f.jsx("button",{onClick:()=>{Tn(!mn)},type:"button",className:"btn position-absolute top-0 end-0",children:f.jsx(Pe,{className:"display-1",icon:"material-symbols:close-rounded"})})}),f.jsx("div",{className:"d-flex flex-wrap justify-content-center py-5",children:f.jsx(Hoe,{onActualizarGrupo:Oe,usuario:l,idGrupo:o})})]})})}),f.jsx("div",{className:`modal fade justify-content-center align-items-center ${zo?"show":""}`,style:{display:zo?"flex":"none"},children:f.jsx("div",{className:"modal-content w-md-50",children:f.jsx("div",{className:"modal-body",children:f.jsxs("div",{className:"d-flex flex-column py-5",children:[f.jsx("h2",{className:"display-1 fw-bold text-primary",children:"¿Estas seguro de abandonar el grupo?"}),f.jsxs("div",{className:"d-flex justify-content-between mt-5 pt-5",children:[f.jsx("button",{onClick:()=>{Qe()},className:"btn btn-danger-long",children:"Abandonar"}),f.jsx("button",{className:"btn btn-tertiary-dark",onClick:()=>{fo(!zo)},children:"Cerrar"})]})]})})})})]}),en=f.jsx(zoe,{onActualizarAmigos:Ke,info:x,lastConx:L,retoAmigoActual:H,retoAmigo:F,amigosUser:m,usuario:l,id:o,solicitadosUser:y,pendientesUser:g}),Li=f.jsxs("section",{className:"detalle detalle__libro",children:[C.volumeInfo&&f.jsxs(f.Fragment,{children:[f.jsxs("section",{className:"detalle__libro__book",children:[f.jsx("div",{className:"detalle__libro__book__caratula",children:f.jsx("img",{className:"w-100 h-100",src:C.volumeInfo.imageLinks.thumbnail,alt:"Portada de "+C.volumeInfo.title})}),f.jsx("h2",{className:"detalle__libro__book__title",children:C.volumeInfo.title})]}),f.jsxs("section",{className:"d-flex detalle__libro__info",children:[f.jsxs("div",{className:"d-flex flex-column gap-5",children:[f.jsxs("div",{children:[f.jsxs("p",{className:"detalle__libro__info__data",children:[f.jsx("b",{children:"Autor: "}),C.volumeInfo.authors[0]]}),f.jsxs("p",{className:"detalle__libro__info__data",children:[f.jsx("b",{children:"ISBN: "}),C.volumeInfo.industryIdentifiers[1].identifier]}),f.jsxs("div",{children:[f.jsx("p",{className:"detalle__libro__info__data",children:f.jsx("b",{children:"Descripción:"})}),f.jsx("div",{className:"detalle__libro__info__desc",dangerouslySetInnerHTML:{__html:I?k:$}})]}),f.jsx("button",{onClick:z,className:"btn fs-3 text-selected fw-bold",children:I?f.jsxs(f.Fragment,{children:["Ver menos ",f.jsx(Pe,{icon:"mingcute:up-fill"})," "]}):f.jsxs(f.Fragment,{children:["Ver más ",f.jsx(Pe,{icon:"mingcute:down-fill"})]})})]}),f.jsx("button",{onClick:Je,className:"btn btn-primary",children:"Leer!"})]}),f.jsxs("div",{className:"detalle__libro__info__resenas",children:[f.jsxs("h2",{children:["Reseñas: ",isNaN(W)?"":W+"/5"]}),f.jsxs("section",{className:"d-flex flex-column align-items-center w-100 gap-2",children:[f.jsxs("div",{className:"star-rating",children:[f.jsx("input",{type:"radio",checked:ee==5,id:"star5",name:"rating",value:"5",onChange:ne=>{J(ne.target.value)}}),f.jsx("label",{htmlFor:"star5",title:"5 stars"}),f.jsx("input",{type:"radio",checked:ee==4,id:"star4",name:"rating",value:"4",onChange:ne=>{J(ne.target.value)}}),f.jsx("label",{htmlFor:"star4",title:"4 stars"}),f.jsx("input",{type:"radio",checked:ee==3,id:"star3",name:"rating",value:"3",onChange:ne=>{J(ne.target.value)}}),f.jsx("label",{htmlFor:"star3",title:"3 stars"}),f.jsx("input",{type:"radio",checked:ee==2,id:"star2",name:"rating",value:"2",onChange:ne=>{J(ne.target.value)}}),f.jsx("label",{htmlFor:"star2",title:"2 stars"}),f.jsx("input",{type:"radio",checked:ee==1,id:"star1",name:"rating",value:"1",onChange:ne=>{J(ne.target.value)}}),f.jsx("label",{htmlFor:"star1",title:"1 star"})]}),f.jsx("textarea",{className:"w-100",name:"comentario",id:"comentario",value:se,onChange:ne=>{Q(ne.target.value)}}),f.jsx("button",{onClick:sn,className:"btn btn-tertiary-dark",children:"Comentar"})]}),f.jsx("section",{className:"resenas w-100",children:N&&N.map(ne=>f.jsxs("article",{className:"resenas__resena",children:[f.jsx("div",{className:"Stars",style:{"--rating":ne.n_starts},"aria-label":"Rating of this product is 2.3 out of 5."}),f.jsx("p",{className:"resenas__resena__text",children:ne.comentario}),f.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[f.jsx("p",{className:"resenas__resena__info",children:ne.nombre}),f.jsx("p",{className:"resenas__resena__info",children:new Date(ne.fecha.seconds*1e3).getDate()+"/"+(new Date(ne.fecha.seconds*1e3).getMonth()+1)+"/"+new Date(ne.fecha.seconds*1e3).getFullYear()})]})]},ne.id))})]})]})]}),C&&X&&f.jsx("div",{className:`modal fade justify-content-center align-items-baseline ${M?"show":""}`,style:{display:M?"flex":"none"},onClick:ne=>{ne.stopPropagation(),q(!M)},children:f.jsx("div",{className:"configuracion modal-content w-md-50",children:f.jsxs("div",{className:"modal-body",onClick:ne=>ne.stopPropagation(),children:[f.jsxs("div",{children:[f.jsx("h2",{className:"display-6",children:"Crea tu reto"}),f.jsx("button",{onClick:()=>{q(!M)},type:"button",className:"btn btn-close-white position-absolute top-0 end-0",children:f.jsx(Pe,{className:"display-1",icon:"material-symbols:close-rounded"})})]}),f.jsx(J1,{usuario:l,nombre:X,libroReto:[C],onCreado:ne=>{t(`/detalle/reto/${ne}`,{state:{mensaje:"Reto creado correctamente"}})}})]})})})]});return i==="reto"&&s?f.jsxs(f.Fragment,{children:[f.jsx(Ne,{to:"/home",className:"mt-5 ms-5 btn btn-secondary",children:"Volver"}),f.jsxs("section",{className:"d-flex flex-column align-items-center",children:[$r&&_t&&f.jsx("div",{className:"alert alert-success w-50 fade show",role:"alert",children:_t}),wt]})]}):i==="grupo"&&w?f.jsxs(f.Fragment,{children:[f.jsx(Ne,{to:"/home",className:"mt-5 ms-5 btn btn-secondary",children:"Volver"}),f.jsxs("section",{className:"d-flex flex-column align-items-center",children:[$r&&_t&&f.jsx("div",{className:"alert alert-success w-50 fade show",role:"alert",children:_t}),ar!=""&&f.jsx("div",{className:"alert alert-danger w-50 fade show",role:"alert",children:ar}),An]})]}):i==="amigo"&&x&&m&&y&&g?f.jsxs(f.Fragment,{children:[f.jsx(Ne,{to:"/home",className:"mt-5 ms-5 btn btn-secondary",children:"Volver"}),f.jsxs("section",{className:"d-flex flex-column align-items-center",children:[$r&&_t&&f.jsx("div",{className:"alert alert-success w-50 fade show",role:"alert",children:_t}),en]})]}):i==="libro"&&C?f.jsxs(f.Fragment,{children:[f.jsx(Ne,{to:"/home",className:"mt-5 ms-5 btn btn-secondary",children:"Volver"}),f.jsxs("section",{className:"d-flex flex-column align-items-center",children:[$r&&_t&&f.jsx("div",{className:"alert alert-success w-50 fade show",role:"alert",children:_t}),Li]})]}):f.jsx(od,{})}function Goe(t){let e=co();const[n,r]=S.useState([{question:"",options:["","","",""],solution:""}]);let[i,o]=S.useState(!1),[s,a]=S.useState(""),[l,c]=S.useState(""),[u,d]=S.useState(""),[h,p]=S.useState(""),[m,v]=S.useState({}),[y,b]=S.useState(),[g,_]=S.useState("password"),[w,E]=S.useState("password"),[x,T]=S.useState(!0);S.useEffect(()=>{t.accion==="editar"&&t.idGrupo&&t.usuario.accessToken&&C()},[t.accion,t.idGrupo,t.usuario.accessToken]);function C(){let U=Ae(le,"grupos",t.idGrupo);ot(U).then(M=>{M.exists()&&(b(M.data().examen_id),fetch("https://api-booku.vercel.app/examenes/show/"+M.data().examen_id,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t.usuario.accessToken}}).then(q=>q.json()).then(q=>{const N=q.data;a(new Date(N.fecha).toISOString().slice(0,16)),c(new Date(N.tiempo).toISOString().slice(0,16)),d(N.contrasena);const P=N.examen.preguntas.map((W,Z)=>({question:W,options:N.examen.respuestas[Z],solution:N.examen.solucion[Z]}));r(P)}))})}function O(){r([...n,{question:"",options:["","","",""],solution:""}])}function I(U,M){const q=[...n];q[U].question=M,r(q)}function D(U,M,q){const N=[...n];N[U].options[M]=q,r(N)}function L(U,M){const q=[...n];q[U].solution=q[U].options[M],r(q)}function j(U){const M=n.filter((q,N)=>N!==U);r(M)}function B(){let U={};new Date(s)>=new Date(l)&&(U.date="La fecha del examen debe ser anterior a la fecha de entrega.");for(let M=0;M<n.length;M++)n[M].question.trim()===""&&(U.preguntas="Hay preguntas vacías en el examen");for(let M=0;M<n.length;M++)for(let q=0;q<n[M].options.length;q++)n[M].options[q].trim()===""&&(U.opciones="Hay opciones vacías en el examen");for(let M=0;M<n.length;M++)(n[M].solution===void 0||n[M].solution.trim()==="")&&(U.soluciones="Hay soluciones sin marcar en el examen");u.trim().length<6&&(U.contrasena="La longitud mínima de la contraseña debe ser de al menos 6 caracteres."),(u.trim()===""||h.trim()==="")&&(U.contrasena="La contraseña y su confirmación son requeridas."),u!==h&&(U.contrasena="La contraseña y su confirmación no coinciden."),Object.keys(U).length>0?v(U):(v({}),t.check==="editar"?Y():X())}function Y(){let U=n.map(P=>P.question),M=n.map(P=>P.options),q=n.map(P=>P.solution),N={preguntas:U,respuestas:M,solucion:q,contrasena:u,id_grupo:t.idGrupo,uid:t.usuario.uid,fecha:new Date(s),tiempo:new Date(l)};fetch("https://api-booku.vercel.app/examenes/edit/"+y,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.usuario.accessToken}`},body:JSON.stringify(N)}).then(P=>P.json()).then(P=>{e(`/detalle/grupo/${t.idGrupo}`,{state:{mensaje:"El examen ha sido editado correctamente."}})})}function X(){let U=n.map(P=>P.question),M=n.map(P=>P.options),q=n.map(P=>P.solution),N={preguntas:U,respuestas:M,solucion:q,contrasena:u,id_grupo:t.idGrupo,uid:t.usuario.uid,fecha:new Date(s),tiempo:new Date(l)};fetch("https://api-booku.vercel.app/examenes/create",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.usuario.accessToken}`},body:JSON.stringify(N)}).then(P=>P.json()).then(P=>{let W=Ae(le,"grupos",t.idGrupo);ot(W).then(Z=>{if(Z.exists())return De(W,{examen_id:P.head.id}).then(()=>{e(`/detalle/grupo/${t.idGrupo}`,{state:{mensaje:"El examen ha sido creado correctamente."}})})})})}return f.jsxs("section",{className:"examen",children:[f.jsxs("h2",{className:"examen--title",children:[f.jsx("span",{children:t.check})," examen"]}),n.map((U,M)=>f.jsxs("article",{id:"pregunta"+M,className:"examen__pregunta__vacia position-relative",children:[f.jsx("button",{onClick:()=>j(M),className:"btn btn-danger badge position-absolute end-0 top-0 mt-3 me-5",children:f.jsx(Pe,{className:"fs-2",icon:"solar:trash-bin-minimalistic-2-outline"})}),f.jsx("input",{className:"examen__pregunta__vacia--pregunta",type:"text",placeholder:"Añade la pregunta",value:U.question,onChange:q=>I(M,q.target.value)}),U.options.map((q,N)=>f.jsxs("div",{className:"d-flex",children:[f.jsx("input",{type:"radio",name:"solucion_"+M,onChange:()=>L(M,N),checked:U.solution===q}),f.jsx("input",{className:"examen__pregunta__vacia--opcion",type:"text",placeholder:"Añade opciones",value:q,onChange:P=>D(M,N,P.target.value)})]},N))]},"article"+M)),f.jsx("button",{className:"btn mt-4",onClick:O,children:f.jsx(Pe,{className:"icon",icon:"ph:plus-circle"})}),f.jsx("button",{onClick:()=>o(!i),className:"btn btn-primary mb-3",children:t.check=="editar"?"Editar":"Crear"}),f.jsxs("section",{className:"menu__examen",style:{top:40-(n.length<=10?n.length:15)+"%",width:x?"min-content":"50vw"},children:[f.jsx("div",{className:"d-flex flex-wrap w-100 overflow-hidden gap-3 menu__examen__preguntas",children:n.map((U,M)=>f.jsx("a",{href:"#pregunta"+M,className:"menu__examen--item",children:M+1},M))}),f.jsxs("div",{className:"d-flex menu__examen__controladores "+(x?"flex-column":"flex-row"),children:[f.jsx("a",{href:"#pregunta0",className:"menu__examen__controladores--item",children:f.jsx(Pe,{icon:"lets-icons:up"})}),f.jsx("a",{href:"#pregunta"+(n.length-1),className:"menu__examen__controladores--item",children:f.jsx(Pe,{icon:"lets-icons:down"})}),f.jsx("button",{className:"menu__examen__controladores--item",onClick:()=>{T(!x)},children:x?f.jsx(Pe,{className:"display-5",icon:"mingcute:left-line"}):f.jsx(Pe,{className:"display-5",icon:"mingcute:right-line"})})]})]}),f.jsx("div",{className:`modal fade justify-content-center align-items-center ${i?"show":""}`,id:"recompensas",style:{display:i?"flex":"none"},onClick:U=>{U.stopPropagation(),o(!i)},children:f.jsx("div",{className:"recompensas modal-content w-md-50",children:f.jsxs("div",{className:"modal-body",onClick:U=>U.stopPropagation(),children:[f.jsxs("div",{children:[f.jsx("h2",{className:"display-6",children:"Acabemos de crear el examen"}),f.jsx("button",{onClick:()=>o(!i),type:"button",className:"btn position-absolute top-0 end-0",children:f.jsx(Pe,{className:"display-1",icon:"material-symbols:close-rounded"})})]}),f.jsx("div",{className:"d-flex flex-column align-items-center flex-wrap gap-5 w-100",children:f.jsxs("div",{className:"d-flex flex-column w-50 gap-5",children:[f.jsxs("div",{className:"form-input",children:[f.jsx("label",{htmlFor:"fecha",children:"Fecha de examen"}),f.jsx("input",{type:"datetime-local",id:"fecha",value:s,onChange:U=>a(U.target.value)})]}),f.jsxs("div",{className:"form-input",children:[f.jsx("label",{htmlFor:"entrega",children:"Fecha de entrega"}),f.jsx("input",{type:"datetime-local",id:"entrega",value:l,onChange:U=>c(U.target.value)})]}),f.jsxs("div",{className:"form-input d-flex flex-column w-100",children:[f.jsx("label",{htmlFor:"contrasena",children:"Contraseña"}),f.jsx("div",{className:"w-100",children:f.jsxs("div",{className:"form-input position-relative",children:[f.jsx("input",{type:g,id:"contrasena",value:u,onChange:U=>d(U.target.value)}),f.jsx("button",{className:"btn position-absolute top-0 end-0 mt-2",onClick:()=>{_(g=="password"?"text":"password")},children:g=="password"?f.jsx(Pe,{className:"display-1 text-white",icon:"ph:eye-closed"}):f.jsx(Pe,{className:"display-1 text-white",icon:"mdi:eye-outline"})})]})})]}),f.jsxs("div",{className:"form-input d-flex flex-column w-100",children:[f.jsx("label",{htmlFor:"conf-contrasena",children:"Confirmar contraseña"}),f.jsx("div",{className:"w-100",children:f.jsxs("div",{className:"form-input position-relative",children:[f.jsx("input",{type:w,id:"conf-contrasena",value:h,onChange:U=>p(U.target.value)}),f.jsx("button",{className:"btn position-absolute top-0 end-0 mt-2",onClick:()=>{E(w=="password"?"text":"password")},children:w=="password"?f.jsx(Pe,{className:"display-1 text-white",icon:"ph:eye-closed"}):f.jsx(Pe,{className:"display-1 text-white",icon:"mdi:eye-outline"})})]})})]}),Object.keys(m).length>0&&f.jsx("div",{className:"text-danger",children:f.jsx("ul",{children:Object.values(m).map((U,M)=>f.jsx("li",{children:U},M))})}),f.jsx("button",{onClick:B,className:"btn btn-primary",children:t.check=="editar"?"Editar":"Crear"})]})})]})})})]})}function Koe(t){let[e,n]=S.useState([{question:"",options:["","","",""],solution:""}]),[r,i]=S.useState([]),[o,s]=S.useState(""),[a,l]=S.useState(""),[c,u]=S.useState(""),[d,h]=S.useState(),[p,m]=S.useState(!0);const v=co();S.useEffect(()=>{t.idGrupo&&t.usuario.accessToken&&b()},[t.idGrupo,t.usuario.accessToken]);function y(_,w){const E=[...r];E.includes(w)?(E[_]="",i(E)):(E[_]=w,i(E))}function b(){let _=Ae(le,"grupos",t.idGrupo);ot(_).then(w=>{w.exists()&&(h(w.data().examen_id),fetch("https://api-booku.vercel.app/examenes/show/"+w.data().examen_id,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t.usuario.accessToken}}).then(E=>E.json()).then(E=>{const x=E.data;s(new Date(x.fecha).toISOString().slice(0,16)),l(new Date(x.tiempo).toISOString().slice(0,16)),u(x.contrasena);const T=x.examen.preguntas.map((C,O)=>({question:C,options:x.examen.respuestas[O],solution:x.examen.solucion[O]}));n(T)}))})}function g(){let _=0;e.forEach((T,C)=>{T.solution===r[C]&&_++});let w=(_*10/e.length).toFixed(2),E=100,x=[];fetch(`https://api-booku.vercel.app/examenes/show/${d}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t.usuario.accessToken}}).then(T=>T.json()).then(T=>{let C=new Date(T.data.tiempo),O=new Date,I=C.getTime(),D=O.getTime();if(!(I>D))v(`/detalle/grupo/${t.idGrupo}`,{state:{error:"Examen no se ha entregado ha pasado el tiempo de entrega."}});else{if(w>=5){let j=me(le,"config"),B=nt(j,rt("user_id","==",t.usuario.uid));x.push(Ue(B).then(Y=>{let X=[];return Y.forEach(U=>{let M=U.data();M.monedas=M.monedas+E*w,X.push(De(U.ref,M))}),Promise.all(X)}))}let L=Ae(le,"grupos",t.idGrupo);x.push(ot(L).then(j=>{if(j.exists()){let B=j.data(),Y=t.usuario.uid;return B.notas&&typeof B.notas=="object"?B.notas[Y]=w:B.notas={[Y]:w},De(j.ref,B)}})),Promise.all(x).then(()=>{v(`/detalle/grupo/${t.idGrupo}`,{state:{mensaje:"Examen entregado exitosamente"}})}).catch(j=>{console.error("Error updating document: ",j)})}})}return f.jsxs("section",{className:"examen",children:[f.jsx("h2",{className:"examen--title",children:"Hacer examen"}),e.map((_,w)=>f.jsxs("article",{id:"pregunta"+w,className:"examen__pregunta__vacia position-relative bg-secondary-800",children:[f.jsx("h2",{className:"text-white display-2 fw-bold",children:_.question}),f.jsx("div",{className:"d-flex flex-wrap w-100 justify-content-evenly row-gap-3",children:_.options.map((E,x)=>f.jsx("div",{className:E.length>=50?"w-100":"w-45",children:f.jsx("button",{onClick:()=>{y(w,E)},className:"btn w-100 "+(r.includes(E)?"btn-selected":"btn-primary"),htmlFor:"option_"+w+"_"+x,children:E})},x))})]},"article"+w)),f.jsx("button",{onClick:g,className:"btn btn-primary mb-3",children:"Entregar"}),f.jsxs("section",{className:"menu__examen",style:{top:40-(e.length<=10?e.length:15)+"%",width:p?"min-content":"50vw"},children:[f.jsx("div",{className:"d-flex flex-wrap w-100 overflow-hidden gap-3 menu__examen__preguntas",children:e.map((_,w)=>f.jsx("a",{href:"#pregunta"+w,className:"menu__examen--item",children:w+1},w))}),f.jsxs("div",{className:"d-flex menu__examen__controladores "+(p?"flex-column":"flex-row"),children:[f.jsx("a",{href:"#pregunta0",className:"menu__examen__controladores--item",children:f.jsx(Pe,{icon:"lets-icons:up"})}),f.jsx("a",{href:"#pregunta"+(e.length-1),className:"menu__examen__controladores--item",children:f.jsx(Pe,{icon:"lets-icons:down"})}),f.jsx("button",{className:"menu__examen__controladores--item",onClick:()=>{m(!p)},children:p?f.jsx(Pe,{className:"display-5",icon:"mingcute:left-line"}):f.jsx(Pe,{className:"display-5",icon:"mingcute:right-line"})})]})]})]})}function eR(){let[t,e]=S.useState(""),{check:n,id:r}=Rp();return S.useEffect(()=>{const i=Ni();Di(i,o=>{e(o)})},[]),n=="editar"||n=="crear"?f.jsx(Goe,{check:n,usuario:t,accion:n,idGrupo:r}):f.jsx(Koe,{idGrupo:r,usuario:t})}var zt="-ms-",zf="-moz-",Tt="-webkit-",IB="comm",a0="rule",AA="decl",Qoe="@import",PB="@keyframes",Yoe="@layer",OB=Math.abs,IA=String.fromCharCode,Z1=Object.assign;function Xoe(t,e){return Bn(t,0)^45?(((e<<2^Bn(t,0))<<2^Bn(t,1))<<2^Bn(t,2))<<2^Bn(t,3):0}function kB(t){return t.trim()}function Go(t,e){return(t=e.exec(t))?t[0]:t}function et(t,e,n){return t.replace(e,n)}function $g(t,e,n){return t.indexOf(e,n)}function Bn(t,e){return t.charCodeAt(e)|0}function wu(t,e,n){return t.slice(e,n)}function vo(t){return t.length}function NB(t){return t.length}function mf(t,e){return e.push(t),t}function Joe(t,e){return t.map(e).join("")}function tR(t,e){return t.filter(function(n){return!Go(n,e)})}var l0=1,xu=1,RB=0,ji=0,_n=0,sd="";function c0(t,e,n,r,i,o,s,a){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:l0,column:xu,length:s,return:"",siblings:a}}function js(t,e){return Z1(c0("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function dc(t){for(;t.root;)t=js(t.root,{children:[t]});mf(t,t.siblings)}function Zoe(){return _n}function ese(){return _n=ji>0?Bn(sd,--ji):0,xu--,_n===10&&(xu=1,l0--),_n}function ro(){return _n=ji<RB?Bn(sd,ji++):0,xu++,_n===10&&(xu=1,l0++),_n}function ml(){return Bn(sd,ji)}function Lg(){return ji}function u0(t,e){return wu(sd,t,e)}function eE(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function tse(t){return l0=xu=1,RB=vo(sd=t),ji=0,[]}function nse(t){return sd="",t}function lw(t){return kB(u0(ji-1,tE(t===91?t+2:t===40?t+1:t)))}function rse(t){for(;(_n=ml())&&_n<33;)ro();return eE(t)>2||eE(_n)>3?"":" "}function ise(t,e){for(;--e&&ro()&&!(_n<48||_n>102||_n>57&&_n<65||_n>70&&_n<97););return u0(t,Lg()+(e<6&&ml()==32&&ro()==32))}function tE(t){for(;ro();)switch(_n){case t:return ji;case 34:case 39:t!==34&&t!==39&&tE(_n);break;case 40:t===41&&tE(t);break;case 92:ro();break}return ji}function ose(t,e){for(;ro()&&t+_n!==57;)if(t+_n===84&&ml()===47)break;return"/*"+u0(e,ji-1)+"*"+IA(t===47?t:ro())}function sse(t){for(;!eE(ml());)ro();return u0(t,ji)}function ase(t){return nse(Fg("",null,null,null,[""],t=tse(t),0,[0],t))}function Fg(t,e,n,r,i,o,s,a,l){for(var c=0,u=0,d=s,h=0,p=0,m=0,v=1,y=1,b=1,g=0,_="",w=i,E=o,x=r,T=_;y;)switch(m=g,g=ro()){case 40:if(m!=108&&Bn(T,d-1)==58){$g(T+=et(lw(g),"&","&\f"),"&\f",OB(c?a[c-1]:0))!=-1&&(b=-1);break}case 34:case 39:case 91:T+=lw(g);break;case 9:case 10:case 13:case 32:T+=rse(m);break;case 92:T+=ise(Lg()-1,7);continue;case 47:switch(ml()){case 42:case 47:mf(lse(ose(ro(),Lg()),e,n,l),l);break;default:T+="/"}break;case 123*v:a[c++]=vo(T)*b;case 125*v:case 59:case 0:switch(g){case 0:case 125:y=0;case 59+u:b==-1&&(T=et(T,/\f/g,"")),p>0&&vo(T)-d&&mf(p>32?rR(T+";",r,n,d-1,l):rR(et(T," ","")+";",r,n,d-2,l),l);break;case 59:T+=";";default:if(mf(x=nR(T,e,n,c,u,i,a,_,w=[],E=[],d,o),o),g===123)if(u===0)Fg(T,e,x,x,w,o,d,a,E);else switch(h===99&&Bn(T,3)===110?100:h){case 100:case 108:case 109:case 115:Fg(t,x,x,r&&mf(nR(t,x,x,0,0,i,a,_,i,w=[],d,E),E),i,E,d,a,r?w:E);break;default:Fg(T,x,x,x,[""],E,0,a,E)}}c=u=p=0,v=b=1,_=T="",d=s;break;case 58:d=1+vo(T),p=m;default:if(v<1){if(g==123)--v;else if(g==125&&v++==0&&ese()==125)continue}switch(T+=IA(g),g*v){case 38:b=u>0?1:(T+="\f",-1);break;case 44:a[c++]=(vo(T)-1)*b,b=1;break;case 64:ml()===45&&(T+=lw(ro())),h=ml(),u=d=vo(_=T+=sse(Lg())),g++;break;case 45:m===45&&vo(T)==2&&(v=0)}}return o}function nR(t,e,n,r,i,o,s,a,l,c,u,d){for(var h=i-1,p=i===0?o:[""],m=NB(p),v=0,y=0,b=0;v<r;++v)for(var g=0,_=wu(t,h+1,h=OB(y=s[v])),w=t;g<m;++g)(w=kB(y>0?p[g]+" "+_:et(_,/&\f/g,p[g])))&&(l[b++]=w);return c0(t,e,n,i===0?a0:a,l,c,u,d)}function lse(t,e,n,r){return c0(t,e,n,IB,IA(Zoe()),wu(t,2,-2),0,r)}function rR(t,e,n,r,i){return c0(t,e,n,AA,wu(t,0,r),wu(t,r+1,-1),r,i)}function jB(t,e,n){switch(Xoe(t,e)){case 5103:return Tt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Tt+t+t;case 4789:return zf+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Tt+t+zf+t+zt+t+t;case 5936:switch(Bn(t,e+11)){case 114:return Tt+t+zt+et(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Tt+t+zt+et(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Tt+t+zt+et(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return Tt+t+zt+t+t;case 6165:return Tt+t+zt+"flex-"+t+t;case 5187:return Tt+t+et(t,/(\w+).+(:[^]+)/,Tt+"box-$1$2"+zt+"flex-$1$2")+t;case 5443:return Tt+t+zt+"flex-item-"+et(t,/flex-|-self/g,"")+(Go(t,/flex-|baseline/)?"":zt+"grid-row-"+et(t,/flex-|-self/g,""))+t;case 4675:return Tt+t+zt+"flex-line-pack"+et(t,/align-content|flex-|-self/g,"")+t;case 5548:return Tt+t+zt+et(t,"shrink","negative")+t;case 5292:return Tt+t+zt+et(t,"basis","preferred-size")+t;case 6060:return Tt+"box-"+et(t,"-grow","")+Tt+t+zt+et(t,"grow","positive")+t;case 4554:return Tt+et(t,/([^-])(transform)/g,"$1"+Tt+"$2")+t;case 6187:return et(et(et(t,/(zoom-|grab)/,Tt+"$1"),/(image-set)/,Tt+"$1"),t,"")+t;case 5495:case 3959:return et(t,/(image-set\([^]*)/,Tt+"$1$`$1");case 4968:return et(et(t,/(.+:)(flex-)?(.*)/,Tt+"box-pack:$3"+zt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Tt+t+t;case 4200:if(!Go(t,/flex-|baseline/))return zt+"grid-column-align"+wu(t,e)+t;break;case 2592:case 3360:return zt+et(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,Go(r.props,/grid-\w+-end/)})?~$g(t+(n=n[e].value),"span",0)?t:zt+et(t,"-start","")+t+zt+"grid-row-span:"+(~$g(n,"span",0)?Go(n,/\d+/):+Go(n,/\d+/)-+Go(t,/\d+/))+";":zt+et(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return Go(r.props,/grid-\w+-start/)})?t:zt+et(et(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return et(t,/(.+)-inline(.+)/,Tt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(vo(t)-1-e>6)switch(Bn(t,e+1)){case 109:if(Bn(t,e+4)!==45)break;case 102:return et(t,/(.+:)(.+)-([^]+)/,"$1"+Tt+"$2-$3$1"+zf+(Bn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~$g(t,"stretch",0)?jB(et(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return et(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,o,s,a,l,c){return zt+i+":"+o+c+(s?zt+i+"-span:"+(a?l:+l-+o)+c:"")+t});case 4949:if(Bn(t,e+6)===121)return et(t,":",":"+Tt)+t;break;case 6444:switch(Bn(t,Bn(t,14)===45?18:11)){case 120:return et(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Tt+(Bn(t,14)===45?"inline-":"")+"box$3$1"+Tt+"$2$3$1"+zt+"$2box$3")+t;case 100:return et(t,":",":"+zt)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return et(t,"scroll-","scroll-snap-")+t}return t}function Yy(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function cse(t,e,n,r){switch(t.type){case Yoe:if(t.children.length)break;case Qoe:case AA:return t.return=t.return||t.value;case IB:return"";case PB:return t.return=t.value+"{"+Yy(t.children,r)+"}";case a0:if(!vo(t.value=t.props.join(",")))return""}return vo(n=Yy(t.children,r))?t.return=t.value+"{"+n+"}":""}function use(t){var e=NB(t);return function(n,r,i,o){for(var s="",a=0;a<e;a++)s+=t[a](n,r,i,o)||"";return s}}function dse(t){return function(e){e.root||(e=e.return)&&t(e)}}function fse(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case AA:t.return=jB(t.value,t.length,n);return;case PB:return Yy([js(t,{value:et(t.value,"@","@"+Tt)})],r);case a0:if(t.length)return Joe(n=t.props,function(i){switch(Go(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":dc(js(t,{props:[et(i,/:(read-\w+)/,":"+zf+"$1")]})),dc(js(t,{props:[i]})),Z1(t,{props:tR(n,r)});break;case"::placeholder":dc(js(t,{props:[et(i,/:(plac\w+)/,":"+Tt+"input-$1")]})),dc(js(t,{props:[et(i,/:(plac\w+)/,":"+zf+"$1")]})),dc(js(t,{props:[et(i,/:(plac\w+)/,zt+"input-$1")]})),dc(js(t,{props:[i]})),Z1(t,{props:tR(n,r)});break}return""})}}var hse={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Jr={},Eu=typeof process<"u"&&Jr!==void 0&&(Jr.REACT_APP_SC_ATTR||Jr.SC_ATTR)||"data-styled",MB="active",DB="data-styled-version",d0="6.1.11",PA=`/*!sc*/
`,OA=typeof window<"u"&&"HTMLElement"in window,pse=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Jr!==void 0&&Jr.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Jr.REACT_APP_SC_DISABLE_SPEEDY!==""?Jr.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Jr.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Jr!==void 0&&Jr.SC_DISABLE_SPEEDY!==void 0&&Jr.SC_DISABLE_SPEEDY!==""&&Jr.SC_DISABLE_SPEEDY!=="false"&&Jr.SC_DISABLE_SPEEDY),f0=Object.freeze([]),Su=Object.freeze({});function mse(t,e,n){return n===void 0&&(n=Su),t.theme!==n.theme&&t.theme||e||n.theme}var $B=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),gse=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,yse=/(^-|-$)/g;function iR(t){return t.replace(gse,"-").replace(yse,"")}var vse=/(a)(d)/gi,Qm=52,oR=function(t){return String.fromCharCode(t+(t>25?39:97))};function nE(t){var e,n="";for(e=Math.abs(t);e>Qm;e=e/Qm|0)n=oR(e%Qm)+n;return(oR(e%Qm)+n).replace(vse,"$1-$2")}var cw,LB=5381,Dc=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},FB=function(t){return Dc(LB,t)};function _se(t){return nE(FB(t)>>>0)}function bse(t){return t.displayName||t.name||"Component"}function uw(t){return typeof t=="string"&&!0}var VB=typeof Symbol=="function"&&Symbol.for,UB=VB?Symbol.for("react.memo"):60115,wse=VB?Symbol.for("react.forward_ref"):60112,xse={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Ese={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},BB={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Sse=((cw={})[wse]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},cw[UB]=BB,cw);function sR(t){return("type"in(e=t)&&e.type.$$typeof)===UB?BB:"$$typeof"in t?Sse[t.$$typeof]:xse;var e}var Tse=Object.defineProperty,Cse=Object.getOwnPropertyNames,aR=Object.getOwnPropertySymbols,Ase=Object.getOwnPropertyDescriptor,Ise=Object.getPrototypeOf,lR=Object.prototype;function zB(t,e,n){if(typeof e!="string"){if(lR){var r=Ise(e);r&&r!==lR&&zB(t,r,n)}var i=Cse(e);aR&&(i=i.concat(aR(e)));for(var o=sR(t),s=sR(e),a=0;a<i.length;++a){var l=i[a];if(!(l in Ese||n&&n[l]||s&&l in s||o&&l in o)){var c=Ase(e,l);try{Tse(t,l,c)}catch{}}}}return t}function Fl(t){return typeof t=="function"}function kA(t){return typeof t=="object"&&"styledComponentId"in t}function ol(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function cR(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=e?e+t[r]:t[r];return n}function Uh(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function rE(t,e,n){if(n===void 0&&(n=!1),!n&&!Uh(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=rE(t[r],e[r]);else if(Uh(e))for(var r in e)t[r]=rE(t[r],e[r]);return t}function NA(t,e){Object.defineProperty(t,"toString",{value:e})}function Vl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var Pse=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,o=i;e>=o;)if((o<<=1)<0)throw Vl(16,"".concat(e));this.groupSizes=new Uint32Array(o),this.groupSizes.set(r),this.length=o;for(var s=i;s<o;s++)this.groupSizes[s]=0}for(var a=this.indexOfGroup(e+1),l=(s=0,n.length);s<l;s++)this.tag.insertRule(a,n[s])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var o=r;o<i;o++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),o=i+r,s=i;s<o;s++)n+="".concat(this.tag.getRule(s)).concat(PA);return n},t}(),Vg=new Map,Xy=new Map,Ug=1,Ym=function(t){if(Vg.has(t))return Vg.get(t);for(;Xy.has(Ug);)Ug++;var e=Ug++;return Vg.set(t,e),Xy.set(e,t),e},Ose=function(t,e){Ug=e+1,Vg.set(t,e),Xy.set(e,t)},kse="style[".concat(Eu,"][").concat(DB,'="').concat(d0,'"]'),Nse=new RegExp("^".concat(Eu,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Rse=function(t,e,n){for(var r,i=n.split(","),o=0,s=i.length;o<s;o++)(r=i[o])&&t.registerName(e,r)},jse=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(PA),i=[],o=0,s=r.length;o<s;o++){var a=r[o].trim();if(a){var l=a.match(Nse);if(l){var c=0|parseInt(l[1],10),u=l[2];c!==0&&(Ose(u,c),Rse(t,u,l[3]),t.getTag().insertRules(c,i)),i.length=0}else i.push(a)}}};function Mse(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var WB=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(a){var l=Array.from(a.querySelectorAll("style[".concat(Eu,"]")));return l[l.length-1]}(n),o=i!==void 0?i.nextSibling:null;r.setAttribute(Eu,MB),r.setAttribute(DB,d0);var s=Mse();return s&&r.setAttribute("nonce",s),n.insertBefore(r,o),r},Dse=function(){function t(e){this.element=WB(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,o=r.length;i<o;i++){var s=r[i];if(s.ownerNode===n)return s}throw Vl(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),$se=function(){function t(e){this.element=WB(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),Lse=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),uR=OA,Fse={isServer:!OA,useCSSOMInjection:!pse},HB=function(){function t(e,n,r){e===void 0&&(e=Su),n===void 0&&(n={});var i=this;this.options=br(br({},Fse),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&OA&&uR&&(uR=!1,function(o){for(var s=document.querySelectorAll(kse),a=0,l=s.length;a<l;a++){var c=s[a];c&&c.getAttribute(Eu)!==MB&&(jse(o,c),c.parentNode&&c.parentNode.removeChild(c))}}(this)),NA(this,function(){return function(o){for(var s=o.getTag(),a=s.length,l="",c=function(d){var h=function(b){return Xy.get(b)}(d);if(h===void 0)return"continue";var p=o.names.get(h),m=s.getGroup(d);if(p===void 0||m.length===0)return"continue";var v="".concat(Eu,".g").concat(d,'[id="').concat(h,'"]'),y="";p!==void 0&&p.forEach(function(b){b.length>0&&(y+="".concat(b,","))}),l+="".concat(m).concat(v,'{content:"').concat(y,'"}').concat(PA)},u=0;u<a;u++)c(u);return l}(i)})}return t.registerId=function(e){return Ym(e)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(br(br({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new Lse(i):r?new Dse(i):new $se(i)}(this.options),new Pse(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(Ym(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(Ym(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(Ym(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),Vse=/&/g,Use=/^\s*\/\/.*$/gm;function qB(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=qB(n.children,e)),n})}function Bse(t){var e,n,r,i=t===void 0?Su:t,o=i.options,s=o===void 0?Su:o,a=i.plugins,l=a===void 0?f0:a,c=function(h,p,m){return m.startsWith(n)&&m.endsWith(n)&&m.replaceAll(n,"").length>0?".".concat(e):h},u=l.slice();u.push(function(h){h.type===a0&&h.value.includes("&")&&(h.props[0]=h.props[0].replace(Vse,n).replace(r,c))}),s.prefix&&u.push(fse),u.push(cse);var d=function(h,p,m,v){p===void 0&&(p=""),m===void 0&&(m=""),v===void 0&&(v="&"),e=v,n=p,r=new RegExp("\\".concat(n,"\\b"),"g");var y=h.replace(Use,""),b=ase(m||p?"".concat(m," ").concat(p," { ").concat(y," }"):y);s.namespace&&(b=qB(b,s.namespace));var g=[];return Yy(b,use(u.concat(dse(function(_){return g.push(_)})))),g};return d.hash=l.length?l.reduce(function(h,p){return p.name||Vl(15),Dc(h,p.name)},LB).toString():"",d}var zse=new HB,iE=Bse(),GB=V.createContext({shouldForwardProp:void 0,styleSheet:zse,stylis:iE});GB.Consumer;V.createContext(void 0);function dR(){return S.useContext(GB)}var Wse=function(){function t(e,n){var r=this;this.inject=function(i,o){o===void 0&&(o=iE);var s=r.name+o.hash;i.hasNameForId(r.id,s)||i.insertRules(r.id,s,o(r.rules,s,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,NA(this,function(){throw Vl(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=iE),this.name+e.hash},t}(),Hse=function(t){return t>="A"&&t<="Z"};function fR(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;Hse(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var KB=function(t){return t==null||t===!1||t===""},QB=function(t){var e,n,r=[];for(var i in t){var o=t[i];t.hasOwnProperty(i)&&!KB(o)&&(Array.isArray(o)&&o.isCss||Fl(o)?r.push("".concat(fR(i),":"),o,";"):Uh(o)?r.push.apply(r,by(by(["".concat(i," {")],QB(o),!1),["}"],!1)):r.push("".concat(fR(i),": ").concat((e=i,(n=o)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in hse||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function gl(t,e,n,r){if(KB(t))return[];if(kA(t))return[".".concat(t.styledComponentId)];if(Fl(t)){if(!Fl(o=t)||o.prototype&&o.prototype.isReactComponent||!e)return[t];var i=t(e);return gl(i,e,n,r)}var o;return t instanceof Wse?n?(t.inject(n,r),[t.getName(r)]):[t]:Uh(t)?QB(t):Array.isArray(t)?Array.prototype.concat.apply(f0,t.map(function(s){return gl(s,e,n,r)})):[t.toString()]}function qse(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Fl(n)&&!kA(n))return!1}return!0}var Gse=FB(d0),Kse=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&qse(e),this.componentId=n,this.baseHash=Dc(Gse,n),this.baseStyle=r,HB.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=ol(i,this.staticRulesId);else{var o=cR(gl(this.rules,e,n,r)),s=nE(Dc(this.baseHash,o)>>>0);if(!n.hasNameForId(this.componentId,s)){var a=r(o,".".concat(s),void 0,this.componentId);n.insertRules(this.componentId,s,a)}i=ol(i,s),this.staticRulesId=s}else{for(var l=Dc(this.baseHash,r.hash),c="",u=0;u<this.rules.length;u++){var d=this.rules[u];if(typeof d=="string")c+=d;else if(d){var h=cR(gl(d,e,n,r));l=Dc(l,h+u),c+=h}}if(c){var p=nE(l>>>0);n.hasNameForId(this.componentId,p)||n.insertRules(this.componentId,p,r(c,".".concat(p),void 0,this.componentId)),i=ol(i,p)}}return i},t}(),Jy=V.createContext(void 0);Jy.Consumer;function Qse(t){var e=V.useContext(Jy),n=S.useMemo(function(){return function(r,i){if(!r)throw Vl(14);if(Fl(r)){var o=r(i);return o}if(Array.isArray(r)||typeof r!="object")throw Vl(8);return i?br(br({},i),r):r}(t.theme,e)},[t.theme,e]);return t.children?V.createElement(Jy.Provider,{value:n},t.children):null}var dw={};function Yse(t,e,n){var r=kA(t),i=t,o=!uw(t),s=e.attrs,a=s===void 0?f0:s,l=e.componentId,c=l===void 0?function(w,E){var x=typeof w!="string"?"sc":iR(w);dw[x]=(dw[x]||0)+1;var T="".concat(x,"-").concat(_se(d0+x+dw[x]));return E?"".concat(E,"-").concat(T):T}(e.displayName,e.parentComponentId):l,u=e.displayName,d=u===void 0?function(w){return uw(w)?"styled.".concat(w):"Styled(".concat(bse(w),")")}(t):u,h=e.displayName&&e.componentId?"".concat(iR(e.displayName),"-").concat(e.componentId):e.componentId||c,p=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,m=e.shouldForwardProp;if(r&&i.shouldForwardProp){var v=i.shouldForwardProp;if(e.shouldForwardProp){var y=e.shouldForwardProp;m=function(w,E){return v(w,E)&&y(w,E)}}else m=v}var b=new Kse(n,h,r?i.componentStyle:void 0);function g(w,E){return function(x,T,C){var O=x.attrs,I=x.componentStyle,D=x.defaultProps,L=x.foldedComponentIds,j=x.styledComponentId,B=x.target,Y=V.useContext(Jy),X=dR(),U=x.shouldForwardProp||X.shouldForwardProp,M=mse(T,Y,D)||Su,q=function(Q,ee,J){for(var k,A=br(br({},ee),{className:void 0,theme:J}),$=0;$<Q.length;$+=1){var R=Fl(k=Q[$])?k(A):k;for(var F in R)A[F]=F==="className"?ol(A[F],R[F]):F==="style"?br(br({},A[F]),R[F]):R[F]}return ee.className&&(A.className=ol(A.className,ee.className)),A}(O,T,M),N=q.as||B,P={};for(var W in q)q[W]===void 0||W[0]==="$"||W==="as"||W==="theme"&&q.theme===M||(W==="forwardedAs"?P.as=q.forwardedAs:U&&!U(W,N)||(P[W]=q[W]));var Z=function(Q,ee){var J=dR(),k=Q.generateAndInjectStyles(ee,J.styleSheet,J.stylis);return k}(I,q),se=ol(L,j);return Z&&(se+=" "+Z),q.className&&(se+=" "+q.className),P[uw(N)&&!$B.has(N)?"class":"className"]=se,P.ref=C,S.createElement(N,P)}(_,w,E)}g.displayName=d;var _=V.forwardRef(g);return _.attrs=p,_.componentStyle=b,_.displayName=d,_.shouldForwardProp=m,_.foldedComponentIds=r?ol(i.foldedComponentIds,i.styledComponentId):"",_.styledComponentId=h,_.target=r?i.target:t,Object.defineProperty(_,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(w){this._foldedDefaultProps=r?function(E){for(var x=[],T=1;T<arguments.length;T++)x[T-1]=arguments[T];for(var C=0,O=x;C<O.length;C++)rE(E,O[C],!0);return E}({},i.defaultProps,w):w}}),NA(_,function(){return".".concat(_.styledComponentId)}),o&&zB(_,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),_}function hR(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var pR=function(t){return Object.assign(t,{isCss:!0})};function jn(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Fl(t)||Uh(t))return pR(gl(hR(f0,by([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?gl(r):pR(gl(hR(r,e)))}function oE(t,e,n){if(n===void 0&&(n=Su),!e)throw Vl(1,e);var r=function(i){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];return t(e,n,jn.apply(void 0,by([i],o,!1)))};return r.attrs=function(i){return oE(t,e,br(br({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return oE(t,e,br(br({},n),i))},r}var YB=function(t){return oE(Yse,t)},st=YB;$B.forEach(function(t){st[t]=YB(t)});var la;function Tu(t,e){return t[e]}function Xse(t=[],e,n=0){return[...t.slice(0,n),e,...t.slice(n)]}function Jse(t=[],e,n="id"){const r=t.slice(),i=Tu(e,n);return i?r.splice(r.findIndex(o=>Tu(o,n)===i),1):r.splice(r.findIndex(o=>o===e),1),r}function mR(t){return t.map((e,n)=>{const r=Object.assign(Object.assign({},e),{sortable:e.sortable||!!e.sortFunction||void 0});return e.id||(r.id=n+1),r})}function Wf(t,e){return Math.ceil(t/e)}function fw(t,e){return Math.min(t,e)}(function(t){t.ASC="asc",t.DESC="desc"})(la||(la={}));const Pn=()=>null;function XB(t,e=[],n=[]){let r={},i=[...n];return e.length&&e.forEach(o=>{if(!o.when||typeof o.when!="function")throw new Error('"when" must be defined in the conditional style object and must be function');o.when(t)&&(r=o.style||{},o.classNames&&(i=[...i,...o.classNames]),typeof o.style=="function"&&(r=o.style(t)||{}))}),{conditionalStyle:r,classNames:i.join(" ")}}function Bg(t,e=[],n="id"){const r=Tu(t,n);return r?e.some(i=>Tu(i,n)===r):e.some(i=>i===t)}function Xm(t,e){return e?t.findIndex(n=>Hf(n.id,e)):-1}function Hf(t,e){return t==e}function Zse(t,e){const n=!t.toggleOnSelectedRowsChange;switch(e.type){case"SELECT_ALL_ROWS":{const{keyField:r,rows:i,rowCount:o,mergeSelections:s}=e,a=!t.allSelected,l=!t.toggleOnSelectedRowsChange;if(s){const c=a?[...t.selectedRows,...i.filter(u=>!Bg(u,t.selectedRows,r))]:t.selectedRows.filter(u=>!Bg(u,i,r));return Object.assign(Object.assign({},t),{allSelected:a,selectedCount:c.length,selectedRows:c,toggleOnSelectedRowsChange:l})}return Object.assign(Object.assign({},t),{allSelected:a,selectedCount:a?o:0,selectedRows:a?i:[],toggleOnSelectedRowsChange:l})}case"SELECT_SINGLE_ROW":{const{keyField:r,row:i,isSelected:o,rowCount:s,singleSelect:a}=e;return a?o?Object.assign(Object.assign({},t),{selectedCount:0,allSelected:!1,selectedRows:[],toggleOnSelectedRowsChange:n}):Object.assign(Object.assign({},t),{selectedCount:1,allSelected:!1,selectedRows:[i],toggleOnSelectedRowsChange:n}):o?Object.assign(Object.assign({},t),{selectedCount:t.selectedRows.length>0?t.selectedRows.length-1:0,allSelected:!1,selectedRows:Jse(t.selectedRows,i,r),toggleOnSelectedRowsChange:n}):Object.assign(Object.assign({},t),{selectedCount:t.selectedRows.length+1,allSelected:t.selectedRows.length+1===s,selectedRows:Xse(t.selectedRows,i),toggleOnSelectedRowsChange:n})}case"SELECT_MULTIPLE_ROWS":{const{keyField:r,selectedRows:i,totalRows:o,mergeSelections:s}=e;if(s){const a=[...t.selectedRows,...i.filter(l=>!Bg(l,t.selectedRows,r))];return Object.assign(Object.assign({},t),{selectedCount:a.length,allSelected:!1,selectedRows:a,toggleOnSelectedRowsChange:n})}return Object.assign(Object.assign({},t),{selectedCount:i.length,allSelected:i.length===o,selectedRows:i,toggleOnSelectedRowsChange:n})}case"CLEAR_SELECTED_ROWS":{const{selectedRowsFlag:r}=e;return Object.assign(Object.assign({},t),{allSelected:!1,selectedCount:0,selectedRows:[],selectedRowsFlag:r})}case"SORT_CHANGE":{const{sortDirection:r,selectedColumn:i,clearSelectedOnSort:o}=e;return Object.assign(Object.assign(Object.assign({},t),{selectedColumn:i,sortDirection:r,currentPage:1}),o&&{allSelected:!1,selectedCount:0,selectedRows:[],toggleOnSelectedRowsChange:n})}case"CHANGE_PAGE":{const{page:r,paginationServer:i,visibleOnly:o,persistSelectedOnPageChange:s}=e,a=i&&s,l=i&&!s||o;return Object.assign(Object.assign(Object.assign(Object.assign({},t),{currentPage:r}),a&&{allSelected:!1}),l&&{allSelected:!1,selectedCount:0,selectedRows:[],toggleOnSelectedRowsChange:n})}case"CHANGE_ROWS_PER_PAGE":{const{rowsPerPage:r,page:i}=e;return Object.assign(Object.assign({},t),{currentPage:i,rowsPerPage:r})}}}const eae=jn`
	pointer-events: none;
	opacity: 0.4;
`,tae=st.div`
	position: relative;
	box-sizing: border-box;
	display: flex;
	flex-direction: column;
	width: 100%;
	height: 100%;
	max-width: 100%;
	${({disabled:t})=>t&&eae};
	${({theme:t})=>t.table.style};
`,nae=jn`
	position: sticky;
	position: -webkit-sticky; /* Safari */
	top: 0;
	z-index: 1;
`,rae=st.div`
	display: flex;
	width: 100%;
	${({$fixedHeader:t})=>t&&nae};
	${({theme:t})=>t.head.style};
`,iae=st.div`
	display: flex;
	align-items: stretch;
	width: 100%;
	${({theme:t})=>t.headRow.style};
	${({$dense:t,theme:e})=>t&&e.headRow.denseStyle};
`,JB=(t,...e)=>jn`
		@media screen and (max-width: ${599}px) {
			${jn(t,...e)}
		}
	`,oae=(t,...e)=>jn`
		@media screen and (max-width: ${959}px) {
			${jn(t,...e)}
		}
	`,sae=(t,...e)=>jn`
		@media screen and (max-width: ${1280}px) {
			${jn(t,...e)}
		}
	`,aae=t=>(e,...n)=>jn`
			@media screen and (max-width: ${t}px) {
				${jn(e,...n)}
			}
		`,ad=st.div`
	position: relative;
	display: flex;
	align-items: center;
	box-sizing: border-box;
	line-height: normal;
	${({theme:t,$headCell:e})=>t[e?"headCells":"cells"].style};
	${({$noPadding:t})=>t&&"padding: 0"};
`,ZB=st(ad)`
	flex-grow: ${({button:t,grow:e})=>e===0||t?0:e||1};
	flex-shrink: 0;
	flex-basis: 0;
	max-width: ${({maxWidth:t})=>t||"100%"};
	min-width: ${({minWidth:t})=>t||"100px"};
	${({width:t})=>t&&jn`
			min-width: ${t};
			max-width: ${t};
		`};
	${({right:t})=>t&&"justify-content: flex-end"};
	${({button:t,center:e})=>(e||t)&&"justify-content: center"};
	${({compact:t,button:e})=>(t||e)&&"padding: 0"};

	/* handle hiding cells */
	${({hide:t})=>t&&t==="sm"&&JB`
    display: none;
  `};
	${({hide:t})=>t&&t==="md"&&oae`
    display: none;
  `};
	${({hide:t})=>t&&t==="lg"&&sae`
    display: none;
  `};
	${({hide:t})=>t&&Number.isInteger(t)&&aae(t)`
    display: none;
  `};
`,lae=jn`
	div:first-child {
		white-space: ${({$wrapCell:t})=>t?"normal":"nowrap"};
		overflow: ${({$allowOverflow:t})=>t?"visible":"hidden"};
		text-overflow: ellipsis;
	}
`,cae=st(ZB).attrs(t=>({style:t.style}))`
	${({$renderAsCell:t})=>!t&&lae};
	${({theme:t,$isDragging:e})=>e&&t.cells.draggingStyle};
	${({$cellStyle:t})=>t};
`;var uae=S.memo(function({id:t,column:e,row:n,rowIndex:r,dataTag:i,isDragging:o,onDragStart:s,onDragOver:a,onDragEnd:l,onDragEnter:c,onDragLeave:u}){const{conditionalStyle:d,classNames:h}=XB(n,e.conditionalCellStyles,["rdt_TableCell"]);return S.createElement(cae,{id:t,"data-column-id":e.id,role:"cell",className:h,"data-tag":i,$cellStyle:e.style,$renderAsCell:!!e.cell,$allowOverflow:e.allowOverflow,button:e.button,center:e.center,compact:e.compact,grow:e.grow,hide:e.hide,maxWidth:e.maxWidth,minWidth:e.minWidth,right:e.right,width:e.width,$wrapCell:e.wrap,style:d,$isDragging:o,onDragStart:s,onDragOver:a,onDragEnd:l,onDragEnter:c,onDragLeave:u},!e.cell&&S.createElement("div",{"data-tag":i},function(p,m,v,y){return m?v&&typeof v=="function"?v(p,y):m(p,y):null}(n,e.selector,e.format,r)),e.cell&&e.cell(n,r,e,t))});const gR="input";var e3=S.memo(function({name:t,component:e=gR,componentOptions:n={style:{}},indeterminate:r=!1,checked:i=!1,disabled:o=!1,onClick:s=Pn}){const a=e,l=a!==gR?n.style:(u=>Object.assign(Object.assign({fontSize:"18px"},!u&&{cursor:"pointer"}),{padding:0,marginTop:"1px",verticalAlign:"middle",position:"relative"}))(o),c=S.useMemo(()=>function(u,...d){let h;return Object.keys(u).map(p=>u[p]).forEach((p,m)=>{typeof p=="function"&&(h=Object.assign(Object.assign({},u),{[Object.keys(u)[m]]:p(...d)}))}),h||u}(n,r),[n,r]);return S.createElement(a,Object.assign({type:"checkbox",ref:u=>{u&&(u.indeterminate=r)},style:l,onClick:o?Pn:s,name:t,"aria-label":t,checked:i,disabled:o},c,{onChange:Pn}))});const dae=st(ad)`
	flex: 0 0 48px;
	min-width: 48px;
	justify-content: center;
	align-items: center;
	user-select: none;
	white-space: nowrap;
`;function fae({name:t,keyField:e,row:n,rowCount:r,selected:i,selectableRowsComponent:o,selectableRowsComponentProps:s,selectableRowsSingle:a,selectableRowDisabled:l,onSelectedRow:c}){const u=!(!l||!l(n));return S.createElement(dae,{onClick:d=>d.stopPropagation(),className:"rdt_TableCell",$noPadding:!0},S.createElement(e3,{name:t,component:o,componentOptions:s,checked:i,"aria-checked":i,onClick:()=>{c({type:"SELECT_SINGLE_ROW",row:n,isSelected:i,keyField:e,rowCount:r,singleSelect:a})},disabled:u}))}const hae=st.button`
	display: inline-flex;
	align-items: center;
	user-select: none;
	white-space: nowrap;
	border: none;
	background-color: transparent;
	${({theme:t})=>t.expanderButton.style};
`;function pae({disabled:t=!1,expanded:e=!1,expandableIcon:n,id:r,row:i,onToggled:o}){const s=e?n.expanded:n.collapsed;return S.createElement(hae,{"aria-disabled":t,onClick:()=>o&&o(i),"data-testid":`expander-button-${r}`,disabled:t,"aria-label":e?"Collapse Row":"Expand Row",role:"button",type:"button"},s)}const mae=st(ad)`
	white-space: nowrap;
	font-weight: 400;
	min-width: 48px;
	${({theme:t})=>t.expanderCell.style};
`;function gae({row:t,expanded:e=!1,expandableIcon:n,id:r,onToggled:i,disabled:o=!1}){return S.createElement(mae,{onClick:s=>s.stopPropagation(),$noPadding:!0},S.createElement(pae,{id:r,row:t,expanded:e,expandableIcon:n,disabled:o,onToggled:i}))}const yae=st.div`
	width: 100%;
	box-sizing: border-box;
	${({theme:t})=>t.expanderRow.style};
	${({$extendedRowStyle:t})=>t};
`;var vae=S.memo(function({data:t,ExpanderComponent:e,expanderComponentProps:n,extendedRowStyle:r,extendedClassNames:i}){const o=["rdt_ExpanderRow",...i.split(" ").filter(s=>s!=="rdt_TableRow")].join(" ");return S.createElement(yae,{className:o,$extendedRowStyle:r},S.createElement(e,Object.assign({data:t},n)))});const hw="allowRowEvents";var Zy,sE,yR;(function(t){t.LTR="ltr",t.RTL="rtl",t.AUTO="auto"})(Zy||(Zy={})),function(t){t.LEFT="left",t.RIGHT="right",t.CENTER="center"}(sE||(sE={})),function(t){t.SM="sm",t.MD="md",t.LG="lg"}(yR||(yR={}));const _ae=jn`
	&:hover {
		${({$highlightOnHover:t,theme:e})=>t&&e.rows.highlightOnHoverStyle};
	}
`,bae=jn`
	&:hover {
		cursor: pointer;
	}
`,wae=st.div.attrs(t=>({style:t.style}))`
	display: flex;
	align-items: stretch;
	align-content: stretch;
	width: 100%;
	box-sizing: border-box;
	${({theme:t})=>t.rows.style};
	${({$dense:t,theme:e})=>t&&e.rows.denseStyle};
	${({$striped:t,theme:e})=>t&&e.rows.stripedStyle};
	${({$highlightOnHover:t})=>t&&_ae};
	${({$pointerOnHover:t})=>t&&bae};
	${({$selected:t,theme:e})=>t&&e.rows.selectedHighlightStyle};
	${({$conditionalStyle:t})=>t};
`;function xae({columns:t=[],conditionalRowStyles:e=[],defaultExpanded:n=!1,defaultExpanderDisabled:r=!1,dense:i=!1,expandableIcon:o,expandableRows:s=!1,expandableRowsComponent:a,expandableRowsComponentProps:l,expandableRowsHideExpander:c,expandOnRowClicked:u=!1,expandOnRowDoubleClicked:d=!1,highlightOnHover:h=!1,id:p,expandableInheritConditionalStyles:m,keyField:v,onRowClicked:y=Pn,onRowDoubleClicked:b=Pn,onRowMouseEnter:g=Pn,onRowMouseLeave:_=Pn,onRowExpandToggled:w=Pn,onSelectedRow:E=Pn,pointerOnHover:x=!1,row:T,rowCount:C,rowIndex:O,selectableRowDisabled:I=null,selectableRows:D=!1,selectableRowsComponent:L,selectableRowsComponentProps:j,selectableRowsHighlight:B=!1,selectableRowsSingle:Y=!1,selected:X,striped:U=!1,draggingColumnId:M,onDragStart:q,onDragOver:N,onDragEnd:P,onDragEnter:W,onDragLeave:Z}){const[se,Q]=S.useState(n);S.useEffect(()=>{Q(n)},[n]);const ee=S.useCallback(()=>{Q(!se),w(!se,T)},[se,w,T]),J=x||s&&(u||d),k=S.useCallback(Se=>{Se.target.getAttribute("data-tag")===hw&&(y(T,Se),!r&&s&&u&&ee())},[r,u,s,ee,y,T]),A=S.useCallback(Se=>{Se.target.getAttribute("data-tag")===hw&&(b(T,Se),!r&&s&&d&&ee())},[r,d,s,ee,b,T]),$=S.useCallback(Se=>{g(T,Se)},[g,T]),R=S.useCallback(Se=>{_(T,Se)},[_,T]),F=Tu(T,v),{conditionalStyle:G,classNames:H}=XB(T,e,["rdt_TableRow"]),ae=B&&X,de=m?G:{},pe=U&&O%2==0;return S.createElement(S.Fragment,null,S.createElement(wae,{id:`row-${p}`,role:"row",$striped:pe,$highlightOnHover:h,$pointerOnHover:!r&&J,$dense:i,onClick:k,onDoubleClick:A,onMouseEnter:$,onMouseLeave:R,className:H,$selected:ae,$conditionalStyle:G},D&&S.createElement(fae,{name:`select-row-${F}`,keyField:v,row:T,rowCount:C,selected:X,selectableRowsComponent:L,selectableRowsComponentProps:j,selectableRowDisabled:I,selectableRowsSingle:Y,onSelectedRow:E}),s&&!c&&S.createElement(gae,{id:F,expandableIcon:o,expanded:se,row:T,onToggled:ee,disabled:r}),t.map(Se=>Se.omit?null:S.createElement(uae,{id:`cell-${Se.id}-${F}`,key:`cell-${Se.id}-${F}`,dataTag:Se.ignoreRowClick||Se.button?null:hw,column:Se,row:T,rowIndex:O,isDragging:Hf(M,Se.id),onDragStart:q,onDragOver:N,onDragEnd:P,onDragEnter:W,onDragLeave:Z}))),s&&se&&S.createElement(vae,{key:`expander-${F}`,data:T,extendedRowStyle:de,extendedClassNames:H,ExpanderComponent:a,expanderComponentProps:l}))}const Eae=st.span`
	padding: 2px;
	color: inherit;
	flex-grow: 0;
	flex-shrink: 0;
	${({$sortActive:t})=>t?"opacity: 1":"opacity: 0"};
	${({$sortDirection:t})=>t==="desc"&&"transform: rotate(180deg)"};
`,Sae=({sortActive:t,sortDirection:e})=>V.createElement(Eae,{$sortActive:t,$sortDirection:e},"▲"),Tae=st(ZB)`
	${({button:t})=>t&&"text-align: center"};
	${({theme:t,$isDragging:e})=>e&&t.headCells.draggingStyle};
`,Cae=jn`
	cursor: pointer;
	span.__rdt_custom_sort_icon__ {
		i,
		svg {
			transform: 'translate3d(0, 0, 0)';
			${({$sortActive:t})=>t?"opacity: 1":"opacity: 0"};
			color: inherit;
			font-size: 18px;
			height: 18px;
			width: 18px;
			backface-visibility: hidden;
			transform-style: preserve-3d;
			transition-duration: 95ms;
			transition-property: transform;
		}

		&.asc i,
		&.asc svg {
			transform: rotate(180deg);
		}
	}

	${({$sortActive:t})=>!t&&jn`
			&:hover,
			&:focus {
				opacity: 0.7;

				span,
				span.__rdt_custom_sort_icon__ * {
					opacity: 0.7;
				}
			}
		`};
`,Aae=st.div`
	display: inline-flex;
	align-items: center;
	justify-content: inherit;
	height: 100%;
	width: 100%;
	outline: none;
	user-select: none;
	overflow: hidden;
	${({disabled:t})=>!t&&Cae};
`,Iae=st.div`
	overflow: hidden;
	white-space: nowrap;
	text-overflow: ellipsis;
`;var Pae=S.memo(function({column:t,disabled:e,draggingColumnId:n,selectedColumn:r={},sortDirection:i,sortIcon:o,sortServer:s,pagination:a,paginationServer:l,persistSelectedOnSort:c,selectableRowsVisibleOnly:u,onSort:d,onDragStart:h,onDragOver:p,onDragEnd:m,onDragEnter:v,onDragLeave:y}){S.useEffect(()=>{typeof t.selector=="string"&&console.error(`Warning: ${t.selector} is a string based column selector which has been deprecated as of v7 and will be removed in v8. Instead, use a selector function e.g. row => row[field]...`)},[]);const[b,g]=S.useState(!1),_=S.useRef(null);if(S.useEffect(()=>{_.current&&g(_.current.scrollWidth>_.current.clientWidth)},[b]),t.omit)return null;const w=()=>{if(!t.sortable&&!t.selector)return;let j=i;Hf(r.id,t.id)&&(j=i===la.ASC?la.DESC:la.ASC),d({type:"SORT_CHANGE",sortDirection:j,selectedColumn:t,clearSelectedOnSort:a&&l&&!c||s||u})},E=j=>S.createElement(Sae,{sortActive:j,sortDirection:i}),x=()=>S.createElement("span",{className:[i,"__rdt_custom_sort_icon__"].join(" ")},o),T=!(!t.sortable||!Hf(r.id,t.id)),C=!t.sortable||e,O=t.sortable&&!o&&!t.right,I=t.sortable&&!o&&t.right,D=t.sortable&&o&&!t.right,L=t.sortable&&o&&t.right;return S.createElement(Tae,{"data-column-id":t.id,className:"rdt_TableCol",$headCell:!0,allowOverflow:t.allowOverflow,button:t.button,compact:t.compact,grow:t.grow,hide:t.hide,maxWidth:t.maxWidth,minWidth:t.minWidth,right:t.right,center:t.center,width:t.width,draggable:t.reorder,$isDragging:Hf(t.id,n),onDragStart:h,onDragOver:p,onDragEnd:m,onDragEnter:v,onDragLeave:y},t.name&&S.createElement(Aae,{"data-column-id":t.id,"data-sort-id":t.id,role:"columnheader",tabIndex:0,className:"rdt_TableCol_Sortable",onClick:C?void 0:w,onKeyPress:C?void 0:j=>{j.key==="Enter"&&w()},$sortActive:!C&&T,disabled:C},!C&&L&&x(),!C&&I&&E(T),typeof t.name=="string"?S.createElement(Iae,{title:b?t.name:void 0,ref:_,"data-column-id":t.id},t.name):t.name,!C&&D&&x(),!C&&O&&E(T)))});const Oae=st(ad)`
	flex: 0 0 48px;
	justify-content: center;
	align-items: center;
	user-select: none;
	white-space: nowrap;
	font-size: unset;
`;function kae({headCell:t=!0,rowData:e,keyField:n,allSelected:r,mergeSelections:i,selectedRows:o,selectableRowsComponent:s,selectableRowsComponentProps:a,selectableRowDisabled:l,onSelectAllRows:c}){const u=o.length>0&&!r,d=l?e.filter(m=>!l(m)):e,h=d.length===0,p=Math.min(e.length,d.length);return S.createElement(Oae,{className:"rdt_TableCol",$headCell:t,$noPadding:!0},S.createElement(e3,{name:"select-all-rows",component:s,componentOptions:a,onClick:()=>{c({type:"SELECT_ALL_ROWS",rows:d,rowCount:p,mergeSelections:i,keyField:n})},checked:r,indeterminate:u,disabled:h}))}function t3(t=Zy.AUTO){const e=typeof window=="object",[n,r]=S.useState(!1);return S.useEffect(()=>{if(e)if(t!=="auto")r(t==="rtl");else{const i=!(!window.document||!window.document.createElement),o=document.getElementsByTagName("BODY")[0],s=document.getElementsByTagName("HTML")[0],a=o.dir==="rtl"||s.dir==="rtl";r(i&&a)}},[t,e]),n}const Nae=st.div`
	display: flex;
	align-items: center;
	flex: 1 0 auto;
	height: 100%;
	color: ${({theme:t})=>t.contextMenu.fontColor};
	font-size: ${({theme:t})=>t.contextMenu.fontSize};
	font-weight: 400;
`,Rae=st.div`
	display: flex;
	align-items: center;
	justify-content: flex-end;
	flex-wrap: wrap;
`,vR=st.div`
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	box-sizing: inherit;
	z-index: 1;
	align-items: center;
	justify-content: space-between;
	display: flex;
	${({$rtl:t})=>t&&"direction: rtl"};
	${({theme:t})=>t.contextMenu.style};
	${({theme:t,$visible:e})=>e&&t.contextMenu.activeStyle};
`;function jae({contextMessage:t,contextActions:e,contextComponent:n,selectedCount:r,direction:i}){const o=t3(i),s=r>0;return n?S.createElement(vR,{$visible:s},S.cloneElement(n,{selectedCount:r})):S.createElement(vR,{$visible:s,$rtl:o},S.createElement(Nae,null,((a,l,c)=>{if(l===0)return null;const u=l===1?a.singular:a.plural;return c?`${l} ${a.message||""} ${u}`:`${l} ${u} ${a.message||""}`})(t,r,o)),S.createElement(Rae,null,e))}const Mae=st.div`
	position: relative;
	box-sizing: border-box;
	overflow: hidden;
	display: flex;
	flex: 1 1 auto;
	align-items: center;
	justify-content: space-between;
	width: 100%;
	flex-wrap: wrap;
	${({theme:t})=>t.header.style}
`,Dae=st.div`
	flex: 1 0 auto;
	color: ${({theme:t})=>t.header.fontColor};
	font-size: ${({theme:t})=>t.header.fontSize};
	font-weight: 400;
`,$ae=st.div`
	flex: 1 0 auto;
	display: flex;
	align-items: center;
	justify-content: flex-end;

	> * {
		margin-left: 5px;
	}
`,Lae=({title:t,actions:e=null,contextMessage:n,contextActions:r,contextComponent:i,selectedCount:o,direction:s,showMenu:a=!0})=>S.createElement(Mae,{className:"rdt_TableHeader",role:"heading","aria-level":1},S.createElement(Dae,null,t),e&&S.createElement($ae,null,e),a&&S.createElement(jae,{contextMessage:n,contextActions:r,contextComponent:i,direction:s,selectedCount:o}));function n3(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}const Fae={left:"flex-start",right:"flex-end",center:"center"},Vae=st.header`
	position: relative;
	display: flex;
	flex: 1 1 auto;
	box-sizing: border-box;
	align-items: center;
	padding: 4px 16px 4px 24px;
	width: 100%;
	justify-content: ${({align:t})=>Fae[t]};
	flex-wrap: ${({$wrapContent:t})=>t?"wrap":"nowrap"};
	${({theme:t})=>t.subHeader.style}
`,Uae=t=>{var{align:e="right",wrapContent:n=!0}=t,r=n3(t,["align","wrapContent"]);return S.createElement(Vae,Object.assign({align:e,$wrapContent:n},r))},Bae=st.div`
	display: flex;
	flex-direction: column;
`,zae=st.div`
	position: relative;
	width: 100%;
	border-radius: inherit;
	${({$responsive:t,$fixedHeader:e})=>t&&jn`
			overflow-x: auto;

			// hidden prevents vertical scrolling in firefox when fixedHeader is disabled
			overflow-y: ${e?"auto":"hidden"};
			min-height: 0;
		`};

	${({$fixedHeader:t=!1,$fixedHeaderScrollHeight:e="100vh"})=>t&&jn`
			max-height: ${e};
			-webkit-overflow-scrolling: touch;
		`};

	${({theme:t})=>t.responsiveWrapper.style};
`,_R=st.div`
	position: relative;
	box-sizing: border-box;
	width: 100%;
	height: 100%;
	${t=>t.theme.progress.style};
`,Wae=st.div`
	position: relative;
	width: 100%;
	${({theme:t})=>t.tableWrapper.style};
`,Hae=st(ad)`
	white-space: nowrap;
	${({theme:t})=>t.expanderCell.style};
`,qae=st.div`
	box-sizing: border-box;
	width: 100%;
	height: 100%;
	${({theme:t})=>t.noData.style};
`,Gae=()=>V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},V.createElement("path",{d:"M7 10l5 5 5-5z"}),V.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),Kae=st.select`
	cursor: pointer;
	height: 24px;
	max-width: 100%;
	user-select: none;
	padding-left: 8px;
	padding-right: 24px;
	box-sizing: content-box;
	font-size: inherit;
	color: inherit;
	border: none;
	background-color: transparent;
	appearance: none;
	direction: ltr;
	flex-shrink: 0;

	&::-ms-expand {
		display: none;
	}

	&:disabled::-ms-expand {
		background: #f60;
	}

	option {
		color: initial;
	}
`,Qae=st.div`
	position: relative;
	flex-shrink: 0;
	font-size: inherit;
	color: inherit;
	margin-top: 1px;

	svg {
		top: 0;
		right: 0;
		color: inherit;
		position: absolute;
		fill: currentColor;
		width: 24px;
		height: 24px;
		display: inline-block;
		user-select: none;
		pointer-events: none;
	}
`,Yae=t=>{var{defaultValue:e,onChange:n}=t,r=n3(t,["defaultValue","onChange"]);return S.createElement(Qae,null,S.createElement(Kae,Object.assign({onChange:n,defaultValue:e},r)),S.createElement(Gae,null))},ue={columns:[],data:[],title:"",keyField:"id",selectableRows:!1,selectableRowsHighlight:!1,selectableRowsNoSelectAll:!1,selectableRowSelected:null,selectableRowDisabled:null,selectableRowsComponent:"input",selectableRowsComponentProps:{},selectableRowsVisibleOnly:!1,selectableRowsSingle:!1,clearSelectedRows:!1,expandableRows:!1,expandableRowDisabled:null,expandableRowExpanded:null,expandOnRowClicked:!1,expandableRowsHideExpander:!1,expandOnRowDoubleClicked:!1,expandableInheritConditionalStyles:!1,expandableRowsComponent:function(){return V.createElement("div",null,"To add an expander pass in a component instance via ",V.createElement("strong",null,"expandableRowsComponent"),". You can then access props.data from this component.")},expandableIcon:{collapsed:V.createElement(()=>V.createElement("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},V.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),V.createElement("path",{d:"M0-.25h24v24H0z",fill:"none"})),null),expanded:V.createElement(()=>V.createElement("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},V.createElement("path",{d:"M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z"}),V.createElement("path",{d:"M0-.75h24v24H0z",fill:"none"})),null)},expandableRowsComponentProps:{},progressPending:!1,progressComponent:V.createElement("div",{style:{fontSize:"24px",fontWeight:700,padding:"24px"}},"Loading..."),persistTableHead:!1,sortIcon:null,sortFunction:null,sortServer:!1,striped:!1,highlightOnHover:!1,pointerOnHover:!1,noContextMenu:!1,contextMessage:{singular:"item",plural:"items",message:"selected"},actions:null,contextActions:null,contextComponent:null,defaultSortFieldId:null,defaultSortAsc:!0,responsive:!0,noDataComponent:V.createElement("div",{style:{padding:"24px"}},"There are no records to display"),disabled:!1,noTableHead:!1,noHeader:!1,subHeader:!1,subHeaderAlign:sE.RIGHT,subHeaderWrap:!0,subHeaderComponent:null,fixedHeader:!1,fixedHeaderScrollHeight:"100vh",pagination:!1,paginationServer:!1,paginationServerOptions:{persistSelectedOnSort:!1,persistSelectedOnPageChange:!1},paginationDefaultPage:1,paginationResetDefaultPage:!1,paginationTotalRows:0,paginationPerPage:10,paginationRowsPerPageOptions:[10,15,20,25,30],paginationComponent:null,paginationComponentOptions:{},paginationIconFirstPage:V.createElement(()=>V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},V.createElement("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),V.createElement("path",{fill:"none",d:"M24 24H0V0h24v24z"})),null),paginationIconLastPage:V.createElement(()=>V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},V.createElement("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),V.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"})),null),paginationIconNext:V.createElement(()=>V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},V.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),V.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),null),paginationIconPrevious:V.createElement(()=>V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},V.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),V.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),null),dense:!1,conditionalRowStyles:[],theme:"default",customStyles:{},direction:Zy.AUTO,onChangePage:Pn,onChangeRowsPerPage:Pn,onRowClicked:Pn,onRowDoubleClicked:Pn,onRowMouseEnter:Pn,onRowMouseLeave:Pn,onRowExpandToggled:Pn,onSelectedRowsChange:Pn,onSort:Pn,onColumnOrderChange:Pn},Xae={rowsPerPageText:"Rows per page:",rangeSeparatorText:"of",noRowsPerPage:!1,selectAllRowsItem:!1,selectAllRowsItemText:"All"},Jae=st.nav`
	display: flex;
	flex: 1 1 auto;
	justify-content: flex-end;
	align-items: center;
	box-sizing: border-box;
	padding-right: 8px;
	padding-left: 8px;
	width: 100%;
	${({theme:t})=>t.pagination.style};
`,Jm=st.button`
	position: relative;
	display: block;
	user-select: none;
	border: none;
	${({theme:t})=>t.pagination.pageButtonsStyle};
	${({$isRTL:t})=>t&&"transform: scale(-1, -1)"};
`,Zae=st.div`
	display: flex;
	align-items: center;
	border-radius: 4px;
	white-space: nowrap;
	${JB`
    width: 100%;
    justify-content: space-around;
  `};
`,r3=st.span`
	flex-shrink: 1;
	user-select: none;
`,ele=st(r3)`
	margin: 0 24px;
`,tle=st(r3)`
	margin: 0 4px;
`;var nle=S.memo(function({rowsPerPage:t,rowCount:e,currentPage:n,direction:r=ue.direction,paginationRowsPerPageOptions:i=ue.paginationRowsPerPageOptions,paginationIconLastPage:o=ue.paginationIconLastPage,paginationIconFirstPage:s=ue.paginationIconFirstPage,paginationIconNext:a=ue.paginationIconNext,paginationIconPrevious:l=ue.paginationIconPrevious,paginationComponentOptions:c=ue.paginationComponentOptions,onChangeRowsPerPage:u=ue.onChangeRowsPerPage,onChangePage:d=ue.onChangePage}){const h=(()=>{const j=typeof window=="object";function B(){return{width:j?window.innerWidth:void 0,height:j?window.innerHeight:void 0}}const[Y,X]=S.useState(B);return S.useEffect(()=>{if(!j)return()=>null;function U(){X(B())}return window.addEventListener("resize",U),()=>window.removeEventListener("resize",U)},[]),Y})(),p=t3(r),m=h.width&&h.width>599,v=Wf(e,t),y=n*t,b=y-t+1,g=n===1,_=n===v,w=Object.assign(Object.assign({},Xae),c),E=n===v?`${b}-${e} ${w.rangeSeparatorText} ${e}`:`${b}-${y} ${w.rangeSeparatorText} ${e}`,x=S.useCallback(()=>d(n-1),[n,d]),T=S.useCallback(()=>d(n+1),[n,d]),C=S.useCallback(()=>d(1),[d]),O=S.useCallback(()=>d(Wf(e,t)),[d,e,t]),I=S.useCallback(j=>u(Number(j.target.value),n),[n,u]),D=i.map(j=>S.createElement("option",{key:j,value:j},j));w.selectAllRowsItem&&D.push(S.createElement("option",{key:-1,value:e},w.selectAllRowsItemText));const L=S.createElement(Yae,{onChange:I,defaultValue:t,"aria-label":w.rowsPerPageText},D);return S.createElement(Jae,{className:"rdt_Pagination"},!w.noRowsPerPage&&m&&S.createElement(S.Fragment,null,S.createElement(tle,null,w.rowsPerPageText),L),m&&S.createElement(ele,null,E),S.createElement(Zae,null,S.createElement(Jm,{id:"pagination-first-page",type:"button","aria-label":"First Page","aria-disabled":g,onClick:C,disabled:g,$isRTL:p},s),S.createElement(Jm,{id:"pagination-previous-page",type:"button","aria-label":"Previous Page","aria-disabled":g,onClick:x,disabled:g,$isRTL:p},l),!w.noRowsPerPage&&!m&&L,S.createElement(Jm,{id:"pagination-next-page",type:"button","aria-label":"Next Page","aria-disabled":_,onClick:T,disabled:_,$isRTL:p},a),S.createElement(Jm,{id:"pagination-last-page",type:"button","aria-label":"Last Page","aria-disabled":_,onClick:O,disabled:_,$isRTL:p},o)))});const za=(t,e)=>{const n=S.useRef(!0);S.useEffect(()=>{n.current?n.current=!1:t()},e)};function rle(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ile=function(t){return function(e){return!!e&&typeof e=="object"}(t)&&!function(e){var n=Object.prototype.toString.call(e);return n==="[object RegExp]"||n==="[object Date]"||function(r){return r.$$typeof===ole}(e)}(t)},ole=typeof Symbol=="function"&&Symbol.for?Symbol.for("react.element"):60103;function Bh(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Cu((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function sle(t,e,n){return t.concat(e).map(function(r){return Bh(r,n)})}function bR(t){return Object.keys(t).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(n){return Object.propertyIsEnumerable.call(e,n)}):[]}(t))}function wR(t,e){try{return e in t}catch{return!1}}function ale(t,e,n){var r={};return n.isMergeableObject(t)&&bR(t).forEach(function(i){r[i]=Bh(t[i],n)}),bR(e).forEach(function(i){(function(o,s){return wR(o,s)&&!(Object.hasOwnProperty.call(o,s)&&Object.propertyIsEnumerable.call(o,s))})(t,i)||(wR(t,i)&&n.isMergeableObject(e[i])?r[i]=function(o,s){if(!s.customMerge)return Cu;var a=s.customMerge(o);return typeof a=="function"?a:Cu}(i,n)(t[i],e[i],n):r[i]=Bh(e[i],n))}),r}function Cu(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||sle,n.isMergeableObject=n.isMergeableObject||ile,n.cloneUnlessOtherwiseSpecified=Bh;var r=Array.isArray(e);return r===Array.isArray(t)?r?n.arrayMerge(t,e,n):ale(t,e,n):Bh(e,n)}Cu.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(n,r){return Cu(n,r,e)},{})};var lle=rle(Cu);const xR={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)"},background:{default:"#FFFFFF"},context:{background:"#e3f2fd",text:"rgba(0, 0, 0, 0.87)"},divider:{default:"rgba(0,0,0,.12)"},button:{default:"rgba(0,0,0,.54)",focus:"rgba(0,0,0,.12)",hover:"rgba(0,0,0,.12)",disabled:"rgba(0, 0, 0, .18)"},selected:{default:"#e3f2fd",text:"rgba(0, 0, 0, 0.87)"},highlightOnHover:{default:"#EEEEEE",text:"rgba(0, 0, 0, 0.87)"},striped:{default:"#FAFAFA",text:"rgba(0, 0, 0, 0.87)"}},ER={default:xR,light:xR,dark:{text:{primary:"#FFFFFF",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(0,0,0,.12)"},background:{default:"#424242"},context:{background:"#E91E63",text:"#FFFFFF"},divider:{default:"rgba(81, 81, 81, 1)"},button:{default:"#FFFFFF",focus:"rgba(255, 255, 255, .54)",hover:"rgba(255, 255, 255, .12)",disabled:"rgba(255, 255, 255, .18)"},selected:{default:"rgba(0, 0, 0, .7)",text:"#FFFFFF"},highlightOnHover:{default:"rgba(0, 0, 0, .7)",text:"#FFFFFF"},striped:{default:"rgba(0, 0, 0, .87)",text:"#FFFFFF"}}};function cle(t,e,n,r){const[i,o]=S.useState(()=>mR(t)),[s,a]=S.useState(""),l=S.useRef("");za(()=>{o(mR(t))},[t]);const c=S.useCallback(y=>{var b,g,_;const{attributes:w}=y.target,E=(b=w.getNamedItem("data-column-id"))===null||b===void 0?void 0:b.value;E&&(l.current=((_=(g=i[Xm(i,E)])===null||g===void 0?void 0:g.id)===null||_===void 0?void 0:_.toString())||"",a(l.current))},[i]),u=S.useCallback(y=>{var b;const{attributes:g}=y.target,_=(b=g.getNamedItem("data-column-id"))===null||b===void 0?void 0:b.value;if(_&&l.current&&_!==l.current){const w=Xm(i,l.current),E=Xm(i,_),x=[...i];x[w]=i[E],x[E]=i[w],o(x),e(x)}},[e,i]),d=S.useCallback(y=>{y.preventDefault()},[]),h=S.useCallback(y=>{y.preventDefault()},[]),p=S.useCallback(y=>{y.preventDefault(),l.current="",a("")},[]),m=function(y=!1){return y?la.ASC:la.DESC}(r),v=S.useMemo(()=>i[Xm(i,n==null?void 0:n.toString())]||{},[n,i]);return{tableColumns:i,draggingColumnId:s,handleDragStart:c,handleDragEnter:u,handleDragOver:d,handleDragLeave:h,handleDragEnd:p,defaultSortDirection:m,defaultSortColumn:v}}var RA=S.memo(function(t){const{data:e=ue.data,columns:n=ue.columns,title:r=ue.title,actions:i=ue.actions,keyField:o=ue.keyField,striped:s=ue.striped,highlightOnHover:a=ue.highlightOnHover,pointerOnHover:l=ue.pointerOnHover,dense:c=ue.dense,selectableRows:u=ue.selectableRows,selectableRowsSingle:d=ue.selectableRowsSingle,selectableRowsHighlight:h=ue.selectableRowsHighlight,selectableRowsNoSelectAll:p=ue.selectableRowsNoSelectAll,selectableRowsVisibleOnly:m=ue.selectableRowsVisibleOnly,selectableRowSelected:v=ue.selectableRowSelected,selectableRowDisabled:y=ue.selectableRowDisabled,selectableRowsComponent:b=ue.selectableRowsComponent,selectableRowsComponentProps:g=ue.selectableRowsComponentProps,onRowExpandToggled:_=ue.onRowExpandToggled,onSelectedRowsChange:w=ue.onSelectedRowsChange,expandableIcon:E=ue.expandableIcon,onChangeRowsPerPage:x=ue.onChangeRowsPerPage,onChangePage:T=ue.onChangePage,paginationServer:C=ue.paginationServer,paginationServerOptions:O=ue.paginationServerOptions,paginationTotalRows:I=ue.paginationTotalRows,paginationDefaultPage:D=ue.paginationDefaultPage,paginationResetDefaultPage:L=ue.paginationResetDefaultPage,paginationPerPage:j=ue.paginationPerPage,paginationRowsPerPageOptions:B=ue.paginationRowsPerPageOptions,paginationIconLastPage:Y=ue.paginationIconLastPage,paginationIconFirstPage:X=ue.paginationIconFirstPage,paginationIconNext:U=ue.paginationIconNext,paginationIconPrevious:M=ue.paginationIconPrevious,paginationComponent:q=ue.paginationComponent,paginationComponentOptions:N=ue.paginationComponentOptions,responsive:P=ue.responsive,progressPending:W=ue.progressPending,progressComponent:Z=ue.progressComponent,persistTableHead:se=ue.persistTableHead,noDataComponent:Q=ue.noDataComponent,disabled:ee=ue.disabled,noTableHead:J=ue.noTableHead,noHeader:k=ue.noHeader,fixedHeader:A=ue.fixedHeader,fixedHeaderScrollHeight:$=ue.fixedHeaderScrollHeight,pagination:R=ue.pagination,subHeader:F=ue.subHeader,subHeaderAlign:G=ue.subHeaderAlign,subHeaderWrap:H=ue.subHeaderWrap,subHeaderComponent:ae=ue.subHeaderComponent,noContextMenu:de=ue.noContextMenu,contextMessage:pe=ue.contextMessage,contextActions:Se=ue.contextActions,contextComponent:gt=ue.contextComponent,expandableRows:je=ue.expandableRows,onRowClicked:Rt=ue.onRowClicked,onRowDoubleClicked:mn=ue.onRowDoubleClicked,onRowMouseEnter:Tn=ue.onRowMouseEnter,onRowMouseLeave:_t=ue.onRowMouseLeave,sortIcon:Ut=ue.sortIcon,onSort:ar=ue.onSort,sortFunction:Dr=ue.sortFunction,sortServer:$r=ue.sortServer,expandableRowsComponent:gn=ue.expandableRowsComponent,expandableRowsComponentProps:hi=ue.expandableRowsComponentProps,expandableRowDisabled:Cn=ue.expandableRowDisabled,expandableRowsHideExpander:Lr=ue.expandableRowsHideExpander,expandOnRowClicked:Bo=ue.expandOnRowClicked,expandOnRowDoubleClicked:zo=ue.expandOnRowDoubleClicked,expandableRowExpanded:fo=ue.expandableRowExpanded,expandableInheritConditionalStyles:Wo=ue.expandableInheritConditionalStyles,defaultSortFieldId:Da=ue.defaultSortFieldId,defaultSortAsc:ic=ue.defaultSortAsc,clearSelectedRows:$a=ue.clearSelectedRows,conditionalRowStyles:wd=ue.conditionalRowStyles,theme:Ps=ue.theme,customStyles:oc=ue.customStyles,direction:z=ue.direction,onColumnOrderChange:K=ue.onColumnOrderChange,className:te}=t,{tableColumns:fe,draggingColumnId:we,handleDragStart:Ke,handleDragEnter:Oe,handleDragOver:ke,handleDragLeave:Ie,handleDragEnd:Je,defaultSortDirection:sn,defaultSortColumn:Qe}=cle(n,K,Da,ic),[{rowsPerPage:at,currentPage:wt,selectedRows:An,allSelected:en,selectedCount:Li,selectedColumn:Yn,sortDirection:lr,toggleOnSelectedRowsChange:Yr},ne]=S.useReducer(Zse,{allSelected:!1,selectedCount:0,selectedRows:[],selectedColumn:Qe,toggleOnSelectedRowsChange:!1,sortDirection:sn,currentPage:D,rowsPerPage:j,selectedRowsFlag:!1,contextMessage:ue.contextMessage}),{persistSelectedOnSort:Ve=!1,persistSelectedOnPageChange:Te=!1}=O,Me=!(!C||!Te&&!Ve),$e=R&&!W&&e.length>0,Be=q||nle,_e=S.useMemo(()=>((ze={},xt="default",Cr="default")=>{const Vi=ER[xt]?xt:Cr;return lle({table:{style:{color:(We=ER[Vi]).text.primary,backgroundColor:We.background.default}},tableWrapper:{style:{display:"table"}},responsiveWrapper:{style:{}},header:{style:{fontSize:"22px",color:We.text.primary,backgroundColor:We.background.default,minHeight:"56px",paddingLeft:"16px",paddingRight:"8px"}},subHeader:{style:{backgroundColor:We.background.default,minHeight:"52px"}},head:{style:{color:We.text.primary,fontSize:"12px",fontWeight:500}},headRow:{style:{backgroundColor:We.background.default,minHeight:"52px",borderBottomWidth:"1px",borderBottomColor:We.divider.default,borderBottomStyle:"solid"},denseStyle:{minHeight:"32px"}},headCells:{style:{paddingLeft:"16px",paddingRight:"16px"},draggingStyle:{cursor:"move"}},contextMenu:{style:{backgroundColor:We.context.background,fontSize:"18px",fontWeight:400,color:We.context.text,paddingLeft:"16px",paddingRight:"8px",transform:"translate3d(0, -100%, 0)",transitionDuration:"125ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",willChange:"transform"},activeStyle:{transform:"translate3d(0, 0, 0)"}},cells:{style:{paddingLeft:"16px",paddingRight:"16px",wordBreak:"break-word"},draggingStyle:{}},rows:{style:{fontSize:"13px",fontWeight:400,color:We.text.primary,backgroundColor:We.background.default,minHeight:"48px","&:not(:last-of-type)":{borderBottomStyle:"solid",borderBottomWidth:"1px",borderBottomColor:We.divider.default}},denseStyle:{minHeight:"32px"},selectedHighlightStyle:{"&:nth-of-type(n)":{color:We.selected.text,backgroundColor:We.selected.default,borderBottomColor:We.background.default}},highlightOnHoverStyle:{color:We.highlightOnHover.text,backgroundColor:We.highlightOnHover.default,transitionDuration:"0.15s",transitionProperty:"background-color",borderBottomColor:We.background.default,outlineStyle:"solid",outlineWidth:"1px",outlineColor:We.background.default},stripedStyle:{color:We.striped.text,backgroundColor:We.striped.default}},expanderRow:{style:{color:We.text.primary,backgroundColor:We.background.default}},expanderCell:{style:{flex:"0 0 48px"}},expanderButton:{style:{color:We.button.default,fill:We.button.default,backgroundColor:"transparent",borderRadius:"2px",transition:"0.25s",height:"100%",width:"100%","&:hover:enabled":{cursor:"pointer"},"&:disabled":{color:We.button.disabled},"&:hover:not(:disabled)":{cursor:"pointer",backgroundColor:We.button.hover},"&:focus":{outline:"none",backgroundColor:We.button.focus},svg:{margin:"auto"}}},pagination:{style:{color:We.text.secondary,fontSize:"13px",minHeight:"56px",backgroundColor:We.background.default,borderTopStyle:"solid",borderTopWidth:"1px",borderTopColor:We.divider.default},pageButtonsStyle:{borderRadius:"50%",height:"40px",width:"40px",padding:"8px",margin:"px",cursor:"pointer",transition:"0.4s",color:We.button.default,fill:We.button.default,backgroundColor:"transparent","&:disabled":{cursor:"unset",color:We.button.disabled,fill:We.button.disabled},"&:hover:not(:disabled)":{backgroundColor:We.button.hover},"&:focus":{outline:"none",backgroundColor:We.button.focus}}},noData:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:We.text.primary,backgroundColor:We.background.default}},progress:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:We.text.primary,backgroundColor:We.background.default}}},ze);var We})(oc,Ps),[oc,Ps]),Ce=S.useMemo(()=>Object.assign({},z!=="auto"&&{dir:z}),[z]),qe=S.useMemo(()=>{if($r)return e;if(Yn!=null&&Yn.sortFunction&&typeof Yn.sortFunction=="function"){const ze=Yn.sortFunction,xt=lr===la.ASC?ze:(Cr,Vi)=>-1*ze(Cr,Vi);return[...e].sort(xt)}return function(ze,xt,Cr,Vi){return xt?Vi&&typeof Vi=="function"?Vi(ze.slice(0),xt,Cr):ze.slice(0).sort((We,eb)=>{const ac=xt(We),Os=xt(eb);if(Cr==="asc"){if(ac<Os)return-1;if(ac>Os)return 1}if(Cr==="desc"){if(ac>Os)return-1;if(ac<Os)return 1}return 0}):ze}(e,Yn==null?void 0:Yn.selector,lr,Dr)},[$r,Yn,lr,e,Dr]),$t=S.useMemo(()=>{if(R&&!C){const ze=wt*at,xt=ze-at;return qe.slice(xt,ze)}return qe},[wt,R,C,at,qe]),Xr=S.useCallback(ze=>{ne(ze)},[]),ho=S.useCallback(ze=>{ne(ze)},[]),Fi=S.useCallback(ze=>{ne(ze)},[]),Z0=S.useCallback((ze,xt)=>Rt(ze,xt),[Rt]),v9=S.useCallback((ze,xt)=>mn(ze,xt),[mn]),_9=S.useCallback((ze,xt)=>Tn(ze,xt),[Tn]),b9=S.useCallback((ze,xt)=>_t(ze,xt),[_t]),sc=S.useCallback(ze=>ne({type:"CHANGE_PAGE",page:ze,paginationServer:C,visibleOnly:m,persistSelectedOnPageChange:Te}),[C,Te,m]),w9=S.useCallback(ze=>{const xt=Wf(I||$t.length,ze),Cr=fw(wt,xt);C||sc(Cr),ne({type:"CHANGE_ROWS_PER_PAGE",page:Cr,rowsPerPage:ze})},[wt,sc,C,I,$t.length]);if(R&&!C&&qe.length>0&&$t.length===0){const ze=Wf(qe.length,at),xt=fw(wt,ze);sc(xt)}za(()=>{w({allSelected:en,selectedCount:Li,selectedRows:An.slice(0)})},[Yr]),za(()=>{ar(Yn,lr,qe.slice(0))},[Yn,lr]),za(()=>{T(wt,I||qe.length)},[wt]),za(()=>{x(at,wt)},[at]),za(()=>{sc(D)},[D,L]),za(()=>{if(R&&C&&I>0){const ze=Wf(I,at),xt=fw(wt,ze);wt!==xt&&sc(xt)}},[I]),S.useEffect(()=>{ne({type:"CLEAR_SELECTED_ROWS",selectedRowsFlag:$a})},[d,$a]),S.useEffect(()=>{if(!v)return;const ze=qe.filter(Cr=>v(Cr)),xt=d?ze.slice(0,1):ze;ne({type:"SELECT_MULTIPLE_ROWS",keyField:o,selectedRows:xt,totalRows:qe.length,mergeSelections:Me})},[e,v]);const x9=m?$t:qe,E9=Te||d||p;return S.createElement(Qse,{theme:_e},!k&&(!!r||!!i)&&S.createElement(Lae,{title:r,actions:i,showMenu:!de,selectedCount:Li,direction:z,contextActions:Se,contextComponent:gt,contextMessage:pe}),F&&S.createElement(Uae,{align:G,wrapContent:H},ae),S.createElement(zae,Object.assign({$responsive:P,$fixedHeader:A,$fixedHeaderScrollHeight:$,className:te},Ce),S.createElement(Wae,null,W&&!se&&S.createElement(_R,null,Z),S.createElement(tae,{disabled:ee,className:"rdt_Table",role:"table"},!J&&(!!se||qe.length>0&&!W)&&S.createElement(rae,{className:"rdt_TableHead",role:"rowgroup",$fixedHeader:A},S.createElement(iae,{className:"rdt_TableHeadRow",role:"row",$dense:c},u&&(E9?S.createElement(ad,{style:{flex:"0 0 48px"}}):S.createElement(kae,{allSelected:en,selectedRows:An,selectableRowsComponent:b,selectableRowsComponentProps:g,selectableRowDisabled:y,rowData:x9,keyField:o,mergeSelections:Me,onSelectAllRows:ho})),je&&!Lr&&S.createElement(Hae,null),fe.map(ze=>S.createElement(Pae,{key:ze.id,column:ze,selectedColumn:Yn,disabled:W||qe.length===0,pagination:R,paginationServer:C,persistSelectedOnSort:Ve,selectableRowsVisibleOnly:m,sortDirection:lr,sortIcon:Ut,sortServer:$r,onSort:Xr,onDragStart:Ke,onDragOver:ke,onDragEnd:Je,onDragEnter:Oe,onDragLeave:Ie,draggingColumnId:we})))),!qe.length&&!W&&S.createElement(qae,null,Q),W&&se&&S.createElement(_R,null,Z),!W&&qe.length>0&&S.createElement(Bae,{className:"rdt_TableBody",role:"rowgroup"},$t.map((ze,xt)=>{const Cr=Tu(ze,o),Vi=function(Os=""){return typeof Os!="number"&&(!Os||Os.length===0)}(Cr)?xt:Cr,We=Bg(ze,An,o),eb=!!(je&&fo&&fo(ze)),ac=!!(je&&Cn&&Cn(ze));return S.createElement(xae,{id:Vi,key:Vi,keyField:o,"data-row-id":Vi,columns:fe,row:ze,rowCount:qe.length,rowIndex:xt,selectableRows:u,expandableRows:je,expandableIcon:E,highlightOnHover:a,pointerOnHover:l,dense:c,expandOnRowClicked:Bo,expandOnRowDoubleClicked:zo,expandableRowsComponent:gn,expandableRowsComponentProps:hi,expandableRowsHideExpander:Lr,defaultExpanderDisabled:ac,defaultExpanded:eb,expandableInheritConditionalStyles:Wo,conditionalRowStyles:wd,selected:We,selectableRowsHighlight:h,selectableRowsComponent:b,selectableRowsComponentProps:g,selectableRowDisabled:y,selectableRowsSingle:d,striped:s,onRowExpandToggled:_,onRowClicked:Z0,onRowDoubleClicked:v9,onRowMouseEnter:_9,onRowMouseLeave:b9,onSelectedRow:Fi,draggingColumnId:we,onDragStart:Ke,onDragOver:ke,onDragEnd:Je,onDragEnter:Oe,onDragLeave:Ie})}))))),$e&&S.createElement("div",null,S.createElement(Be,{onChangePage:sc,onChangeRowsPerPage:w9,rowCount:I||qe.length,currentPage:wt,rowsPerPage:at,direction:z,paginationRowsPerPageOptions:B,paginationIconLastPage:Y,paginationIconFirstPage:X,paginationIconNext:U,paginationIconPrevious:M,paginationComponentOptions:N})))});function ule({show:t,user:e,onSave:n,onClose:r}){const[i,o]=S.useState((e==null?void 0:e.user_name)||""),[s,a]=S.useState((e==null?void 0:e.status)||1),[l,c]=S.useState((e==null?void 0:e.permisos)||0);S.useEffect(()=>{e&&(o(e.user_name),a(e.status),c(e.permisos))},[e]);const u=()=>{n({...e,user_name:i,status:s,permisos:l})};return f.jsx("div",{className:`modal fade justify-content-center align-items-baseline align-items-md-center ${t?"show":""}`,style:{display:t?"flex":"none"},onClick:r,children:f.jsx("div",{className:"modal-content w-50",onClick:d=>d.stopPropagation(),children:f.jsxs("div",{className:"modal-body",children:[f.jsx("div",{children:f.jsx("button",{onClick:r,type:"button",className:"btn position-absolute top-0 end-0",children:f.jsx(Pe,{className:"display-1",icon:"material-symbols:close-rounded"})})}),f.jsxs("div",{className:"d-flex flex-column align-items-center py-5",children:[f.jsx("h2",{className:"text-uppercase display-2 fw-bold text-primary text-center",children:"Editar Usuario"}),f.jsxs("div",{className:"w-100",children:[f.jsxs("div",{className:"form-input",children:[f.jsx("label",{children:"Nombre"}),f.jsx("input",{type:"text",value:i,onChange:d=>o(d.target.value)})]}),f.jsxs("div",{className:"form-input",children:[f.jsx("label",{children:"Estado"}),f.jsxs("select",{value:s,onChange:d=>a(Number(d.target.value)),children:[f.jsx("option",{value:1,children:"Activo"}),f.jsx("option",{value:0,children:"Bloqueado"})]})]}),f.jsxs("div",{className:"form-input",children:[f.jsx("label",{children:"Rango"}),f.jsxs("select",{value:l,onChange:d=>c(Number(d.target.value)),children:[f.jsx("option",{value:0,children:"Usuario"}),f.jsx("option",{value:2,children:"Profesor"}),f.jsx("option",{value:3,children:"Escritor"}),f.jsx("option",{value:5,children:"Administrador"})]})]})]}),f.jsx("button",{onClick:u,className:"btn btn-primary mt-3",children:"Guardar"})]})]})})})}function dle(t){const[e,n]=S.useState(!1),[r,i]=S.useState([]),[o,s]=S.useState(""),[a,l]=S.useState(!1),[c,u]=S.useState(null);S.useEffect(()=>{n(t.modal),(async()=>{const g=await Ue(me(le,"config")),_=[];g.forEach(w=>{_.push({id:w.id,...w.data()})}),i(_)})()},[t.modal]);function d(){n(!e),t.onOcultar()}const h=b=>{u(b),l(!0)};function p(b){De(Ae(le,"config",b.id),b).then(()=>{i(g=>g.map(_=>_.id===b.id?b:_)),l(!1),t.onMensaje("Usuario actualizado!")}).catch(g=>{console.error("Error updating documents: ",g)})}const m={0:"Usuario",2:"Profesor",3:"Escritor",5:"Administrador"},v=r.filter(b=>b.user_name.toLowerCase().includes(o.toLowerCase())||(b.status===1?"Activo":"Bloqueado").toLowerCase().includes(o.toLowerCase())||m[b.permisos].toLowerCase().includes(o.toLowerCase())).map(b=>({...b,nombre:b.user_name,estado:b.status===1?"Activo":"Bloqueado",rango:m[b.permisos],acciones:f.jsx("button",{className:"btn",onClick:()=>h(b),children:f.jsx(tt,{className:"fs-1 text-primary",icon:"majesticons:edit-pen-2"})})})),y=[{name:"Nombre",selector:b=>b.nombre,sortable:!0},{name:"Estado",selector:b=>b.estado,sortable:!0},{name:"Rango",selector:b=>b.rango,sortable:!0},{name:"Acciones",selector:b=>b.acciones,sortable:!1,width:"20rem"}];return f.jsxs("div",{className:`modal fade justify-content-center align-items-baseline align-items-md-center ${e?"show":""}`,style:{display:e?"flex":"none"},onClick:d,children:[f.jsx("div",{className:"grupos modal-content w-75",onClick:b=>b.stopPropagation(),children:f.jsxs("div",{className:"modal-body",children:[f.jsx("div",{children:f.jsx("button",{onClick:d,type:"button",className:"btn position-absolute top-0 end-0",children:f.jsx(tt,{className:"display-1",icon:"material-symbols:close-rounded"})})}),f.jsxs("div",{className:"d-flex flex-column align-items-center py-5 admin__usuarios",children:[f.jsx("h2",{className:"text-uppercase text-center",children:"Gestionar Usuarios"}),f.jsx(RA,{columns:y,data:v,pagination:!0,className:"table-responsive",subHeader:!0,noDataComponent:"No hay usuarios para mostrar",subHeaderComponent:f.jsx("div",{className:"w-md-25",children:f.jsx("input",{type:"text",placeholder:"Buscar...",className:"form-search w-100",value:o,onChange:b=>s(b.target.value)})}),paginationComponentOptions:{rowsPerPageText:"Filas por página",rangeSeparatorText:"de",noRowsPerPage:!1,selectAllRowsItem:!1,selectAllRowsItemText:"Todos"}})]})]})}),a&&f.jsx(ule,{show:a,user:c,onSave:p,onClose:()=>l(!1)})]})}function i3(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=i3(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function It(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=i3(t))&&(r&&(r+=" "),r+=e);return r}var fle=Array.isArray,Qr=fle,hle=typeof nf=="object"&&nf&&nf.Object===Object&&nf,o3=hle,ple=o3,mle=typeof self=="object"&&self&&self.Object===Object&&self,gle=ple||mle||Function("return this")(),Uo=gle,yle=Uo,vle=yle.Symbol,am=vle,SR=am,s3=Object.prototype,_le=s3.hasOwnProperty,ble=s3.toString,qd=SR?SR.toStringTag:void 0;function wle(t){var e=_le.call(t,qd),n=t[qd];try{t[qd]=void 0;var r=!0}catch{}var i=ble.call(t);return r&&(e?t[qd]=n:delete t[qd]),i}var xle=wle,Ele=Object.prototype,Sle=Ele.toString;function Tle(t){return Sle.call(t)}var Cle=Tle,TR=am,Ale=xle,Ile=Cle,Ple="[object Null]",Ole="[object Undefined]",CR=TR?TR.toStringTag:void 0;function kle(t){return t==null?t===void 0?Ole:Ple:CR&&CR in Object(t)?Ale(t):Ile(t)}var Cs=kle;function Nle(t){return t!=null&&typeof t=="object"}var As=Nle,Rle=Cs,jle=As,Mle="[object Symbol]";function Dle(t){return typeof t=="symbol"||jle(t)&&Rle(t)==Mle}var ld=Dle,$le=Qr,Lle=ld,Fle=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Vle=/^\w*$/;function Ule(t,e){if($le(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Lle(t)?!0:Vle.test(t)||!Fle.test(t)||e!=null&&t in Object(e)}var jA=Ule;function Ble(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ka=Ble;const cd=kt(ka);var zle=Cs,Wle=ka,Hle="[object AsyncFunction]",qle="[object Function]",Gle="[object GeneratorFunction]",Kle="[object Proxy]";function Qle(t){if(!Wle(t))return!1;var e=zle(t);return e==qle||e==Gle||e==Hle||e==Kle}var MA=Qle;const ct=kt(MA);var Yle=Uo,Xle=Yle["__core-js_shared__"],Jle=Xle,pw=Jle,AR=function(){var t=/[^.]+$/.exec(pw&&pw.keys&&pw.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Zle(t){return!!AR&&AR in t}var ece=Zle,tce=Function.prototype,nce=tce.toString;function rce(t){if(t!=null){try{return nce.call(t)}catch{}try{return t+""}catch{}}return""}var a3=rce,ice=MA,oce=ece,sce=ka,ace=a3,lce=/[\\^$.*+?()[\]{}|]/g,cce=/^\[object .+?Constructor\]$/,uce=Function.prototype,dce=Object.prototype,fce=uce.toString,hce=dce.hasOwnProperty,pce=RegExp("^"+fce.call(hce).replace(lce,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function mce(t){if(!sce(t)||oce(t))return!1;var e=ice(t)?pce:cce;return e.test(ace(t))}var gce=mce;function yce(t,e){return t==null?void 0:t[e]}var vce=yce,_ce=gce,bce=vce;function wce(t,e){var n=bce(t,e);return _ce(n)?n:void 0}var ec=wce,xce=ec,Ece=xce(Object,"create"),h0=Ece,IR=h0;function Sce(){this.__data__=IR?IR(null):{},this.size=0}var Tce=Sce;function Cce(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Ace=Cce,Ice=h0,Pce="__lodash_hash_undefined__",Oce=Object.prototype,kce=Oce.hasOwnProperty;function Nce(t){var e=this.__data__;if(Ice){var n=e[t];return n===Pce?void 0:n}return kce.call(e,t)?e[t]:void 0}var Rce=Nce,jce=h0,Mce=Object.prototype,Dce=Mce.hasOwnProperty;function $ce(t){var e=this.__data__;return jce?e[t]!==void 0:Dce.call(e,t)}var Lce=$ce,Fce=h0,Vce="__lodash_hash_undefined__";function Uce(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Fce&&e===void 0?Vce:e,this}var Bce=Uce,zce=Tce,Wce=Ace,Hce=Rce,qce=Lce,Gce=Bce;function ud(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ud.prototype.clear=zce;ud.prototype.delete=Wce;ud.prototype.get=Hce;ud.prototype.has=qce;ud.prototype.set=Gce;var Kce=ud;function Qce(){this.__data__=[],this.size=0}var Yce=Qce;function Xce(t,e){return t===e||t!==t&&e!==e}var DA=Xce,Jce=DA;function Zce(t,e){for(var n=t.length;n--;)if(Jce(t[n][0],e))return n;return-1}var p0=Zce,eue=p0,tue=Array.prototype,nue=tue.splice;function rue(t){var e=this.__data__,n=eue(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():nue.call(e,n,1),--this.size,!0}var iue=rue,oue=p0;function sue(t){var e=this.__data__,n=oue(e,t);return n<0?void 0:e[n][1]}var aue=sue,lue=p0;function cue(t){return lue(this.__data__,t)>-1}var uue=cue,due=p0;function fue(t,e){var n=this.__data__,r=due(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var hue=fue,pue=Yce,mue=iue,gue=aue,yue=uue,vue=hue;function dd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}dd.prototype.clear=pue;dd.prototype.delete=mue;dd.prototype.get=gue;dd.prototype.has=yue;dd.prototype.set=vue;var m0=dd,_ue=ec,bue=Uo,wue=_ue(bue,"Map"),$A=wue,PR=Kce,xue=m0,Eue=$A;function Sue(){this.size=0,this.__data__={hash:new PR,map:new(Eue||xue),string:new PR}}var Tue=Sue;function Cue(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Aue=Cue,Iue=Aue;function Pue(t,e){var n=t.__data__;return Iue(e)?n[typeof e=="string"?"string":"hash"]:n.map}var g0=Pue,Oue=g0;function kue(t){var e=Oue(this,t).delete(t);return this.size-=e?1:0,e}var Nue=kue,Rue=g0;function jue(t){return Rue(this,t).get(t)}var Mue=jue,Due=g0;function $ue(t){return Due(this,t).has(t)}var Lue=$ue,Fue=g0;function Vue(t,e){var n=Fue(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Uue=Vue,Bue=Tue,zue=Nue,Wue=Mue,Hue=Lue,que=Uue;function fd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}fd.prototype.clear=Bue;fd.prototype.delete=zue;fd.prototype.get=Wue;fd.prototype.has=Hue;fd.prototype.set=que;var LA=fd,l3=LA,Gue="Expected a function";function FA(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Gue);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(FA.Cache||l3),n}FA.Cache=l3;var c3=FA;const Kue=kt(c3);var Que=c3,Yue=500;function Xue(t){var e=Que(t,function(r){return n.size===Yue&&n.clear(),r}),n=e.cache;return e}var Jue=Xue,Zue=Jue,ede=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,tde=/\\(\\)?/g,nde=Zue(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(ede,function(n,r,i,o){e.push(i?o.replace(tde,"$1"):r||n)}),e}),rde=nde;function ide(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var VA=ide,OR=am,ode=VA,sde=Qr,ade=ld,lde=1/0,kR=OR?OR.prototype:void 0,NR=kR?kR.toString:void 0;function u3(t){if(typeof t=="string")return t;if(sde(t))return ode(t,u3)+"";if(ade(t))return NR?NR.call(t):"";var e=t+"";return e=="0"&&1/t==-lde?"-0":e}var cde=u3,ude=cde;function dde(t){return t==null?"":ude(t)}var d3=dde,fde=Qr,hde=jA,pde=rde,mde=d3;function gde(t,e){return fde(t)?t:hde(t,e)?[t]:pde(mde(t))}var f3=gde,yde=ld,vde=1/0;function _de(t){if(typeof t=="string"||yde(t))return t;var e=t+"";return e=="0"&&1/t==-vde?"-0":e}var y0=_de,bde=f3,wde=y0;function xde(t,e){e=bde(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[wde(e[n++])];return n&&n==r?t:void 0}var UA=xde,Ede=UA;function Sde(t,e,n){var r=t==null?void 0:Ede(t,e);return r===void 0?n:r}var h3=Sde;const Ii=kt(h3);function Tde(t){return t==null}var Cde=Tde;const At=kt(Cde);var Ade=Cs,Ide=Qr,Pde=As,Ode="[object String]";function kde(t){return typeof t=="string"||!Ide(t)&&Pde(t)&&Ade(t)==Ode}var Nde=kde;const lm=kt(Nde);var p3={exports:{}},Nt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kn=typeof Symbol=="function"&&Symbol.for,BA=Kn?Symbol.for("react.element"):60103,zA=Kn?Symbol.for("react.portal"):60106,v0=Kn?Symbol.for("react.fragment"):60107,_0=Kn?Symbol.for("react.strict_mode"):60108,b0=Kn?Symbol.for("react.profiler"):60114,w0=Kn?Symbol.for("react.provider"):60109,x0=Kn?Symbol.for("react.context"):60110,WA=Kn?Symbol.for("react.async_mode"):60111,E0=Kn?Symbol.for("react.concurrent_mode"):60111,S0=Kn?Symbol.for("react.forward_ref"):60112,T0=Kn?Symbol.for("react.suspense"):60113,Rde=Kn?Symbol.for("react.suspense_list"):60120,C0=Kn?Symbol.for("react.memo"):60115,A0=Kn?Symbol.for("react.lazy"):60116,jde=Kn?Symbol.for("react.block"):60121,Mde=Kn?Symbol.for("react.fundamental"):60117,Dde=Kn?Symbol.for("react.responder"):60118,$de=Kn?Symbol.for("react.scope"):60119;function fi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case BA:switch(t=t.type,t){case WA:case E0:case v0:case b0:case _0:case T0:return t;default:switch(t=t&&t.$$typeof,t){case x0:case S0:case A0:case C0:case w0:return t;default:return e}}case zA:return e}}}function m3(t){return fi(t)===E0}Nt.AsyncMode=WA;Nt.ConcurrentMode=E0;Nt.ContextConsumer=x0;Nt.ContextProvider=w0;Nt.Element=BA;Nt.ForwardRef=S0;Nt.Fragment=v0;Nt.Lazy=A0;Nt.Memo=C0;Nt.Portal=zA;Nt.Profiler=b0;Nt.StrictMode=_0;Nt.Suspense=T0;Nt.isAsyncMode=function(t){return m3(t)||fi(t)===WA};Nt.isConcurrentMode=m3;Nt.isContextConsumer=function(t){return fi(t)===x0};Nt.isContextProvider=function(t){return fi(t)===w0};Nt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===BA};Nt.isForwardRef=function(t){return fi(t)===S0};Nt.isFragment=function(t){return fi(t)===v0};Nt.isLazy=function(t){return fi(t)===A0};Nt.isMemo=function(t){return fi(t)===C0};Nt.isPortal=function(t){return fi(t)===zA};Nt.isProfiler=function(t){return fi(t)===b0};Nt.isStrictMode=function(t){return fi(t)===_0};Nt.isSuspense=function(t){return fi(t)===T0};Nt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===v0||t===E0||t===b0||t===_0||t===T0||t===Rde||typeof t=="object"&&t!==null&&(t.$$typeof===A0||t.$$typeof===C0||t.$$typeof===w0||t.$$typeof===x0||t.$$typeof===S0||t.$$typeof===Mde||t.$$typeof===Dde||t.$$typeof===$de||t.$$typeof===jde)};Nt.typeOf=fi;p3.exports=Nt;var aE=p3.exports,Lde=Cs,Fde=As,Vde="[object Number]";function Ude(t){return typeof t=="number"||Fde(t)&&Lde(t)==Vde}var g3=Ude;const Bde=kt(g3);var zde=g3;function Wde(t){return zde(t)&&t!=+t}var Hde=Wde;const cm=kt(Hde);var Ji=function(e){return e===0?0:e>0?1:-1},sl=function(e){return lm(e)&&e.indexOf("%")===e.length-1},he=function(e){return Bde(e)&&!cm(e)},Nn=function(e){return he(e)||lm(e)},qde=0,I0=function(e){var n=++qde;return"".concat(e||"").concat(n)},Ul=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!he(e)&&!lm(e))return r;var o;if(sl(e)){var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return cm(o)&&(o=r),i&&o>n&&(o=n),o},zs=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Gde=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},fc=function(e,n){return he(e)&&he(n)?function(r){return e+r*(n-e)}:function(){return n}};function lE(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Ii(r,e))===n})}function Zc(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function cE(t){"@babel/helpers - typeof";return cE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cE(t)}var Kde=["viewBox","children"],Qde=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],RR=["points","pathLength"],mw={svg:Kde,polygon:RR,polyline:RR},HA=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ev=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(S.isValidElement(e)&&(r=e.props),!cd(r))return null;var i={};return Object.keys(r).forEach(function(o){HA.includes(o)&&(i[o]=n||function(s){return r[o](r,s)})}),i},Yde=function(e,n,r){return function(i){return e(n,r,i),null}},tv=function(e,n,r){if(!cd(e)||cE(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];HA.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=Yde(s,n,r))}),i},Xde=["children"],Jde=["children"];function jR(t,e){if(t==null)return{};var n=Zde(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Zde(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var MR={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},cs=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},DR=null,gw=null,qA=function t(e){if(e===DR&&Array.isArray(gw))return gw;var n=[];return S.Children.forEach(e,function(r){At(r)||(aE.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),gw=n,DR=e,n};function io(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return cs(i)}):r=[cs(e)],qA(t).forEach(function(i){var o=Ii(i,"type.displayName")||Ii(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function ti(t,e){var n=io(t,e);return n&&n[0]}var $R=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!he(r)||r<=0||!he(i)||i<=0)},efe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],tfe=function(e){return e&&e.type&&lm(e.type)&&efe.indexOf(e.type)>=0},nfe=function(e,n,r,i){var o,s=(o=mw==null?void 0:mw[i])!==null&&o!==void 0?o:[];return!ct(e)&&(i&&s.includes(n)||Qde.includes(n))||r&&HA.includes(n)},St=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(S.isValidElement(e)&&(i=e.props),!cd(i))return null;var o={};return Object.keys(i).forEach(function(s){var a;nfe((a=i)===null||a===void 0?void 0:a[s],s,n,r)&&(o[s]=i[s])}),o},uE=function t(e,n){if(e===n)return!0;var r=S.Children.count(e);if(r!==S.Children.count(n))return!1;if(r===0)return!0;if(r===1)return LR(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!LR(o,s))return!1}return!0},LR=function(e,n){if(At(e)&&At(n))return!0;if(!At(e)&&!At(n)){var r=e.props||{},i=r.children,o=jR(r,Xde),s=n.props||{},a=s.children,l=jR(s,Jde);return i&&a?Zc(o,l)&&uE(i,a):!i&&!a?Zc(o,l):!1}return!1},FR=function(e,n){var r=[],i={};return qA(e).forEach(function(o,s){if(tfe(o))r.push(o);else if(o){var a=cs(o.type),l=n[a]||{},c=l.handler,u=l.once;if(c&&(!u||!i[a])){var d=c(o,a,s);r.push(d),i[a]=!0}}}),r},rfe=function(e){var n=e&&e.type;return n&&MR[n]?MR[n]:null},ife=function(e,n){return qA(n).indexOf(e)},ofe=["children","width","height","viewBox","className","style","title","desc"];function dE(){return dE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dE.apply(this,arguments)}function sfe(t,e){if(t==null)return{};var n=afe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function afe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function fE(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,s=t.style,a=t.title,l=t.desc,c=sfe(t,ofe),u=i||{width:n,height:r,x:0,y:0},d=It("recharts-surface",o);return V.createElement("svg",dE({},St(c,!0,"svg"),{className:d,width:n,height:r,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),V.createElement("title",null,a),V.createElement("desc",null,l),e)}var lfe=["children","className"];function hE(){return hE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hE.apply(this,arguments)}function cfe(t,e){if(t==null)return{};var n=ufe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ufe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Wn=V.forwardRef(function(t,e){var n=t.children,r=t.className,i=cfe(t,lfe),o=It("recharts-layer",r);return V.createElement("g",hE({className:o},St(i,!0),{ref:e}),n)}),us=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function dfe(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var ffe=dfe,hfe=ffe;function pfe(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:hfe(t,e,n)}var mfe=pfe,gfe="\\ud800-\\udfff",yfe="\\u0300-\\u036f",vfe="\\ufe20-\\ufe2f",_fe="\\u20d0-\\u20ff",bfe=yfe+vfe+_fe,wfe="\\ufe0e\\ufe0f",xfe="\\u200d",Efe=RegExp("["+xfe+gfe+bfe+wfe+"]");function Sfe(t){return Efe.test(t)}var y3=Sfe;function Tfe(t){return t.split("")}var Cfe=Tfe,v3="\\ud800-\\udfff",Afe="\\u0300-\\u036f",Ife="\\ufe20-\\ufe2f",Pfe="\\u20d0-\\u20ff",Ofe=Afe+Ife+Pfe,kfe="\\ufe0e\\ufe0f",Nfe="["+v3+"]",pE="["+Ofe+"]",mE="\\ud83c[\\udffb-\\udfff]",Rfe="(?:"+pE+"|"+mE+")",_3="[^"+v3+"]",b3="(?:\\ud83c[\\udde6-\\uddff]){2}",w3="[\\ud800-\\udbff][\\udc00-\\udfff]",jfe="\\u200d",x3=Rfe+"?",E3="["+kfe+"]?",Mfe="(?:"+jfe+"(?:"+[_3,b3,w3].join("|")+")"+E3+x3+")*",Dfe=E3+x3+Mfe,$fe="(?:"+[_3+pE+"?",pE,b3,w3,Nfe].join("|")+")",Lfe=RegExp(mE+"(?="+mE+")|"+$fe+Dfe,"g");function Ffe(t){return t.match(Lfe)||[]}var Vfe=Ffe,Ufe=Cfe,Bfe=y3,zfe=Vfe;function Wfe(t){return Bfe(t)?zfe(t):Ufe(t)}var Hfe=Wfe,qfe=mfe,Gfe=y3,Kfe=Hfe,Qfe=d3;function Yfe(t){return function(e){e=Qfe(e);var n=Gfe(e)?Kfe(e):void 0,r=n?n[0]:e.charAt(0),i=n?qfe(n,1).join(""):e.slice(1);return r[t]()+i}}var Xfe=Yfe,Jfe=Xfe,Zfe=Jfe("toUpperCase"),ehe=Zfe;const P0=kt(ehe);function Lt(t){return function(){return t}}const S3=Math.cos,nv=Math.sin,uo=Math.sqrt,rv=Math.PI,O0=2*rv,gE=Math.PI,yE=2*gE,Wa=1e-6,the=yE-Wa;function T3(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function nhe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return T3;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class rhe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?T3:nhe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-e,c=i-n,u=s-e,d=a-n,h=u*u+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Wa)if(!(Math.abs(d*l-c*u)>Wa)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-s,m=i-a,v=l*l+c*c,y=p*p+m*m,b=Math.sqrt(v),g=Math.sqrt(h),_=o*Math.tan((gE-Math.acos((v+h-y)/(2*b*g)))/2),w=_/g,E=_/b;Math.abs(w-1)>Wa&&this._append`L${e+w*u},${n+w*d}`,this._append`A${o},${o},0,0,${+(d*p>u*m)},${this._x1=e+E*l},${this._y1=n+E*c}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),c=e+a,u=n+l,d=1^s,h=s?i-o:o-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Wa||Math.abs(this._y1-u)>Wa)&&this._append`L${c},${u}`,r&&(h<0&&(h=h%yE+yE),h>the?this._append`A${r},${r},0,1,${d},${e-a},${n-l}A${r},${r},0,1,${d},${this._x1=c},${this._y1=u}`:h>Wa&&this._append`A${r},${r},0,${+(h>=gE)},${d},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function GA(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new rhe(e)}function KA(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function C3(t){this._context=t}C3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function k0(t){return new C3(t)}function A3(t){return t[0]}function I3(t){return t[1]}function P3(t,e){var n=Lt(!0),r=null,i=k0,o=null,s=GA(a);t=typeof t=="function"?t:t===void 0?A3:Lt(t),e=typeof e=="function"?e:e===void 0?I3:Lt(e);function a(l){var c,u=(l=KA(l)).length,d,h=!1,p;for(r==null&&(o=i(p=s())),c=0;c<=u;++c)!(c<u&&n(d=l[c],c,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(d,c,l),+e(d,c,l));if(p)return o=null,p+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:Lt(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:Lt(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Lt(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function Zm(t,e,n){var r=null,i=Lt(!0),o=null,s=k0,a=null,l=GA(c);t=typeof t=="function"?t:t===void 0?A3:Lt(+t),e=typeof e=="function"?e:Lt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?I3:Lt(+n);function c(d){var h,p,m,v=(d=KA(d)).length,y,b=!1,g,_=new Array(v),w=new Array(v);for(o==null&&(a=s(g=l())),h=0;h<=v;++h){if(!(h<v&&i(y=d[h],h,d))===b)if(b=!b)p=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),m=h-1;m>=p;--m)a.point(_[m],w[m]);a.lineEnd(),a.areaEnd()}b&&(_[h]=+t(y,h,d),w[h]=+e(y,h,d),a.point(r?+r(y,h,d):_[h],n?+n(y,h,d):w[h]))}if(g)return a=null,g+""||null}function u(){return P3().defined(i).curve(s).context(o)}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:Lt(+d),r=null,c):t},c.x0=function(d){return arguments.length?(t=typeof d=="function"?d:Lt(+d),c):t},c.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Lt(+d),c):r},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:Lt(+d),n=null,c):e},c.y0=function(d){return arguments.length?(e=typeof d=="function"?d:Lt(+d),c):e},c.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Lt(+d),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Lt(!!d),c):i},c.curve=function(d){return arguments.length?(s=d,o!=null&&(a=s(o)),c):s},c.context=function(d){return arguments.length?(d==null?o=a=null:a=s(o=d),c):o},c}class O3{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function ihe(t){return new O3(t,!0)}function ohe(t){return new O3(t,!1)}const QA={draw(t,e){const n=uo(e/rv);t.moveTo(n,0),t.arc(0,0,n,0,O0)}},she={draw(t,e){const n=uo(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},k3=uo(1/3),ahe=k3*2,lhe={draw(t,e){const n=uo(e/ahe),r=n*k3;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},che={draw(t,e){const n=uo(e),r=-n/2;t.rect(r,r,n,n)}},uhe=.8908130915292852,N3=nv(rv/10)/nv(7*rv/10),dhe=nv(O0/10)*N3,fhe=-S3(O0/10)*N3,hhe={draw(t,e){const n=uo(e*uhe),r=dhe*n,i=fhe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=O0*o/5,a=S3(s),l=nv(s);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},yw=uo(3),phe={draw(t,e){const n=-uo(e/(yw*3));t.moveTo(0,n*2),t.lineTo(-yw*n,-n),t.lineTo(yw*n,-n),t.closePath()}},pi=-.5,mi=uo(3)/2,vE=1/uo(12),mhe=(vE/2+1)*3,ghe={draw(t,e){const n=uo(e/mhe),r=n/2,i=n*vE,o=r,s=n*vE+n,a=-o,l=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(a,l),t.lineTo(pi*r-mi*i,mi*r+pi*i),t.lineTo(pi*o-mi*s,mi*o+pi*s),t.lineTo(pi*a-mi*l,mi*a+pi*l),t.lineTo(pi*r+mi*i,pi*i-mi*r),t.lineTo(pi*o+mi*s,pi*s-mi*o),t.lineTo(pi*a+mi*l,pi*l-mi*a),t.closePath()}};function yhe(t,e){let n=null,r=GA(i);t=typeof t=="function"?t:Lt(t||QA),e=typeof e=="function"?e:Lt(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Lt(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Lt(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function iv(){}function ov(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function R3(t){this._context=t}R3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ov(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ov(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function vhe(t){return new R3(t)}function j3(t){this._context=t}j3.prototype={areaStart:iv,areaEnd:iv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ov(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function _he(t){return new j3(t)}function M3(t){this._context=t}M3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ov(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function bhe(t){return new M3(t)}function D3(t){this._context=t}D3.prototype={areaStart:iv,areaEnd:iv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function whe(t){return new D3(t)}function VR(t){return t<0?-1:1}function UR(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(VR(o)+VR(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function BR(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function vw(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function sv(t){this._context=t}sv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:vw(this,this._t0,BR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,vw(this,BR(this,n=UR(this,t,e)),n);break;default:vw(this,this._t0,n=UR(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function $3(t){this._context=new L3(t)}($3.prototype=Object.create(sv.prototype)).point=function(t,e){sv.prototype.point.call(this,e,t)};function L3(t){this._context=t}L3.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function xhe(t){return new sv(t)}function Ehe(t){return new $3(t)}function F3(t){this._context=t}F3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=zR(t),i=zR(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function zR(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function She(t){return new F3(t)}function N0(t,e){this._context=t,this._t=e}N0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function The(t){return new N0(t,.5)}function Che(t){return new N0(t,0)}function Ahe(t){return new N0(t,1)}function Au(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,a=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function _E(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Ihe(t,e){return t[e]}function Phe(t){const e=[];return e.key=t,e}function Ohe(){var t=Lt([]),e=_E,n=Au,r=Ihe;function i(o){var s=Array.from(t.apply(this,arguments),Phe),a,l=s.length,c=-1,u;for(const d of o)for(a=0,++c;a<l;++a)(s[a][c]=[0,+r(d,s[a].key,c,o)]).data=d;for(a=0,u=KA(e(s));a<l;++a)s[u[a]].index=a;return n(s,u),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Lt(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Lt(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?_E:typeof o=="function"?o:Lt(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Au,i):n},i}function khe(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Au(t,e)}}function Nhe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=t[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}Au(t,e)}}function Rhe(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,l=0,c=0;a<s;++a){for(var u=t[e[a]],d=u[r][1]||0,h=u[r-1][1]||0,p=(d-h)/2,m=0;m<a;++m){var v=t[e[m]],y=v[r][1]||0,b=v[r-1][1]||0;p+=y-b}l+=d,c+=p*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,Au(t,e)}}function zh(t){"@babel/helpers - typeof";return zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zh(t)}var jhe=["type","size","sizeType"];function bE(){return bE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bE.apply(this,arguments)}function WR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WR(Object(n),!0).forEach(function(r){Mhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mhe(t,e,n){return e=Dhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dhe(t){var e=$he(t,"string");return zh(e)=="symbol"?e:String(e)}function $he(t,e){if(zh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lhe(t,e){if(t==null)return{};var n=Fhe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Fhe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var V3={symbolCircle:QA,symbolCross:she,symbolDiamond:lhe,symbolSquare:che,symbolStar:hhe,symbolTriangle:phe,symbolWye:ghe},Vhe=Math.PI/180,Uhe=function(e){var n="symbol".concat(P0(e));return V3[n]||QA},Bhe=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Vhe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},zhe=function(e,n){V3["symbol".concat(P0(e))]=n},YA=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,s=e.sizeType,a=s===void 0?"area":s,l=Lhe(e,jhe),c=HR(HR({},l),{},{type:r,size:o,sizeType:a}),u=function(){var y=Uhe(r),b=yhe().type(y).size(Bhe(o,a,r));return b()},d=c.className,h=c.cx,p=c.cy,m=St(c,!0);return h===+h&&p===+p&&o===+o?V.createElement("path",bE({},m,{className:It("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};YA.registerSymbol=zhe;function Iu(t){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iu(t)}function wE(){return wE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wE.apply(this,arguments)}function qR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Whe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qR(Object(n),!0).forEach(function(r){Wh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,B3(r.key),r)}}function qhe(t,e,n){return e&&GR(t.prototype,e),n&&GR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ghe(t,e,n){return e=av(e),Khe(t,U3()?Reflect.construct(e,n||[],av(t).constructor):e.apply(t,n))}function Khe(t,e){if(e&&(Iu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qhe(t)}function Qhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U3=function(){return!!t})()}function av(t){return av=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},av(t)}function Yhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xE(t,e)}function xE(t,e){return xE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xE(t,e)}function Wh(t,e,n){return e=B3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B3(t){var e=Xhe(t,"string");return Iu(e)=="symbol"?e:String(e)}function Xhe(t,e){if(Iu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gi=32,XA=function(t){Yhe(e,t);function e(){return Hhe(this,e),Ghe(this,e,arguments)}return qhe(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=gi/2,s=gi/6,a=gi/3,l=r.inactive?i:r.color;if(r.type==="plainline")return V.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:gi,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return V.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(o,`
            H`).concat(gi,"M").concat(2*a,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return V.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(gi/8,"h").concat(gi,"v").concat(gi*3/4,"h").concat(-gi,"z"),className:"recharts-legend-icon"});if(V.isValidElement(r.legendIcon)){var c=Whe({},r);return delete c.legendIcon,V.cloneElement(r.legendIcon,c)}return V.createElement(YA,{fill:l,cx:o,cy:o,size:gi,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,s=i.iconSize,a=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:gi,height:gi},d={display:a==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,m){var v=p.formatter||l,y=It(Wh(Wh({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var b=ct(p.value)?null:p.value;us(!ct(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var g=p.inactive?c:p.color;return V.createElement("li",wE({className:y,style:d,key:"legend-item-".concat(m)},tv(r.props,p,m)),V.createElement(fE,{width:s,height:s,viewBox:u,style:h},r.renderIcon(p)),V.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},v?v(b,p,m):b))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,s=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return V.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}]),e}(S.PureComponent);Wh(XA,"displayName","Legend");Wh(XA,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Jhe=m0;function Zhe(){this.__data__=new Jhe,this.size=0}var epe=Zhe;function tpe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var npe=tpe;function rpe(t){return this.__data__.get(t)}var ipe=rpe;function ope(t){return this.__data__.has(t)}var spe=ope,ape=m0,lpe=$A,cpe=LA,upe=200;function dpe(t,e){var n=this.__data__;if(n instanceof ape){var r=n.__data__;if(!lpe||r.length<upe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new cpe(r)}return n.set(t,e),this.size=n.size,this}var fpe=dpe,hpe=m0,ppe=epe,mpe=npe,gpe=ipe,ype=spe,vpe=fpe;function hd(t){var e=this.__data__=new hpe(t);this.size=e.size}hd.prototype.clear=ppe;hd.prototype.delete=mpe;hd.prototype.get=gpe;hd.prototype.has=ype;hd.prototype.set=vpe;var z3=hd,_pe="__lodash_hash_undefined__";function bpe(t){return this.__data__.set(t,_pe),this}var wpe=bpe;function xpe(t){return this.__data__.has(t)}var Epe=xpe,Spe=LA,Tpe=wpe,Cpe=Epe;function lv(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Spe;++e<n;)this.add(t[e])}lv.prototype.add=lv.prototype.push=Tpe;lv.prototype.has=Cpe;var W3=lv;function Ape(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var H3=Ape;function Ipe(t,e){return t.has(e)}var q3=Ipe,Ppe=W3,Ope=H3,kpe=q3,Npe=1,Rpe=2;function jpe(t,e,n,r,i,o){var s=n&Npe,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(t),u=o.get(e);if(c&&u)return c==e&&u==t;var d=-1,h=!0,p=n&Rpe?new Ppe:void 0;for(o.set(t,e),o.set(e,t);++d<a;){var m=t[d],v=e[d];if(r)var y=s?r(v,m,d,e,t,o):r(m,v,d,t,e,o);if(y!==void 0){if(y)continue;h=!1;break}if(p){if(!Ope(e,function(b,g){if(!kpe(p,g)&&(m===b||i(m,b,n,r,o)))return p.push(g)})){h=!1;break}}else if(!(m===v||i(m,v,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var G3=jpe,Mpe=Uo,Dpe=Mpe.Uint8Array,$pe=Dpe;function Lpe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Fpe=Lpe;function Vpe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var JA=Vpe,KR=am,QR=$pe,Upe=DA,Bpe=G3,zpe=Fpe,Wpe=JA,Hpe=1,qpe=2,Gpe="[object Boolean]",Kpe="[object Date]",Qpe="[object Error]",Ype="[object Map]",Xpe="[object Number]",Jpe="[object RegExp]",Zpe="[object Set]",eme="[object String]",tme="[object Symbol]",nme="[object ArrayBuffer]",rme="[object DataView]",YR=KR?KR.prototype:void 0,_w=YR?YR.valueOf:void 0;function ime(t,e,n,r,i,o,s){switch(n){case rme:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case nme:return!(t.byteLength!=e.byteLength||!o(new QR(t),new QR(e)));case Gpe:case Kpe:case Xpe:return Upe(+t,+e);case Qpe:return t.name==e.name&&t.message==e.message;case Jpe:case eme:return t==e+"";case Ype:var a=zpe;case Zpe:var l=r&Hpe;if(a||(a=Wpe),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=qpe,s.set(t,e);var u=Bpe(a(t),a(e),r,i,o,s);return s.delete(t),u;case tme:if(_w)return _w.call(t)==_w.call(e)}return!1}var ome=ime;function sme(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var K3=sme,ame=K3,lme=Qr;function cme(t,e,n){var r=e(t);return lme(t)?r:ame(r,n(t))}var ume=cme;function dme(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var fme=dme;function hme(){return[]}var pme=hme,mme=fme,gme=pme,yme=Object.prototype,vme=yme.propertyIsEnumerable,XR=Object.getOwnPropertySymbols,_me=XR?function(t){return t==null?[]:(t=Object(t),mme(XR(t),function(e){return vme.call(t,e)}))}:gme,bme=_me;function wme(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var xme=wme,Eme=Cs,Sme=As,Tme="[object Arguments]";function Cme(t){return Sme(t)&&Eme(t)==Tme}var Ame=Cme,JR=Ame,Ime=As,Q3=Object.prototype,Pme=Q3.hasOwnProperty,Ome=Q3.propertyIsEnumerable,kme=JR(function(){return arguments}())?JR:function(t){return Ime(t)&&Pme.call(t,"callee")&&!Ome.call(t,"callee")},ZA=kme,cv={exports:{}};function Nme(){return!1}var Rme=Nme;cv.exports;(function(t,e){var n=Uo,r=Rme,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;t.exports=c})(cv,cv.exports);var Y3=cv.exports,jme=9007199254740991,Mme=/^(?:0|[1-9]\d*)$/;function Dme(t,e){var n=typeof t;return e=e??jme,!!e&&(n=="number"||n!="symbol"&&Mme.test(t))&&t>-1&&t%1==0&&t<e}var eI=Dme,$me=9007199254740991;function Lme(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=$me}var tI=Lme,Fme=Cs,Vme=tI,Ume=As,Bme="[object Arguments]",zme="[object Array]",Wme="[object Boolean]",Hme="[object Date]",qme="[object Error]",Gme="[object Function]",Kme="[object Map]",Qme="[object Number]",Yme="[object Object]",Xme="[object RegExp]",Jme="[object Set]",Zme="[object String]",ege="[object WeakMap]",tge="[object ArrayBuffer]",nge="[object DataView]",rge="[object Float32Array]",ige="[object Float64Array]",oge="[object Int8Array]",sge="[object Int16Array]",age="[object Int32Array]",lge="[object Uint8Array]",cge="[object Uint8ClampedArray]",uge="[object Uint16Array]",dge="[object Uint32Array]",Wt={};Wt[rge]=Wt[ige]=Wt[oge]=Wt[sge]=Wt[age]=Wt[lge]=Wt[cge]=Wt[uge]=Wt[dge]=!0;Wt[Bme]=Wt[zme]=Wt[tge]=Wt[Wme]=Wt[nge]=Wt[Hme]=Wt[qme]=Wt[Gme]=Wt[Kme]=Wt[Qme]=Wt[Yme]=Wt[Xme]=Wt[Jme]=Wt[Zme]=Wt[ege]=!1;function fge(t){return Ume(t)&&Vme(t.length)&&!!Wt[Fme(t)]}var hge=fge;function pge(t){return function(e){return t(e)}}var X3=pge,uv={exports:{}};uv.exports;(function(t,e){var n=o3,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(uv,uv.exports);var mge=uv.exports,gge=hge,yge=X3,ZR=mge,ej=ZR&&ZR.isTypedArray,vge=ej?yge(ej):gge,J3=vge,_ge=xme,bge=ZA,wge=Qr,xge=Y3,Ege=eI,Sge=J3,Tge=Object.prototype,Cge=Tge.hasOwnProperty;function Age(t,e){var n=wge(t),r=!n&&bge(t),i=!n&&!r&&xge(t),o=!n&&!r&&!i&&Sge(t),s=n||r||i||o,a=s?_ge(t.length,String):[],l=a.length;for(var c in t)(e||Cge.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Ege(c,l)))&&a.push(c);return a}var Ige=Age,Pge=Object.prototype;function Oge(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Pge;return t===n}var kge=Oge;function Nge(t,e){return function(n){return t(e(n))}}var Z3=Nge,Rge=Z3,jge=Rge(Object.keys,Object),Mge=jge,Dge=kge,$ge=Mge,Lge=Object.prototype,Fge=Lge.hasOwnProperty;function Vge(t){if(!Dge(t))return $ge(t);var e=[];for(var n in Object(t))Fge.call(t,n)&&n!="constructor"&&e.push(n);return e}var Uge=Vge,Bge=MA,zge=tI;function Wge(t){return t!=null&&zge(t.length)&&!Bge(t)}var um=Wge,Hge=Ige,qge=Uge,Gge=um;function Kge(t){return Gge(t)?Hge(t):qge(t)}var R0=Kge,Qge=ume,Yge=bme,Xge=R0;function Jge(t){return Qge(t,Xge,Yge)}var Zge=Jge,tj=Zge,eye=1,tye=Object.prototype,nye=tye.hasOwnProperty;function rye(t,e,n,r,i,o){var s=n&eye,a=tj(t),l=a.length,c=tj(e),u=c.length;if(l!=u&&!s)return!1;for(var d=l;d--;){var h=a[d];if(!(s?h in e:nye.call(e,h)))return!1}var p=o.get(t),m=o.get(e);if(p&&m)return p==e&&m==t;var v=!0;o.set(t,e),o.set(e,t);for(var y=s;++d<l;){h=a[d];var b=t[h],g=e[h];if(r)var _=s?r(g,b,h,e,t,o):r(b,g,h,t,e,o);if(!(_===void 0?b===g||i(b,g,n,r,o):_)){v=!1;break}y||(y=h=="constructor")}if(v&&!y){var w=t.constructor,E=e.constructor;w!=E&&"constructor"in t&&"constructor"in e&&!(typeof w=="function"&&w instanceof w&&typeof E=="function"&&E instanceof E)&&(v=!1)}return o.delete(t),o.delete(e),v}var iye=rye,oye=ec,sye=Uo,aye=oye(sye,"DataView"),lye=aye,cye=ec,uye=Uo,dye=cye(uye,"Promise"),fye=dye,hye=ec,pye=Uo,mye=hye(pye,"Set"),ez=mye,gye=ec,yye=Uo,vye=gye(yye,"WeakMap"),_ye=vye,EE=lye,SE=$A,TE=fye,CE=ez,AE=_ye,tz=Cs,pd=a3,nj="[object Map]",bye="[object Object]",rj="[object Promise]",ij="[object Set]",oj="[object WeakMap]",sj="[object DataView]",wye=pd(EE),xye=pd(SE),Eye=pd(TE),Sye=pd(CE),Tye=pd(AE),Ha=tz;(EE&&Ha(new EE(new ArrayBuffer(1)))!=sj||SE&&Ha(new SE)!=nj||TE&&Ha(TE.resolve())!=rj||CE&&Ha(new CE)!=ij||AE&&Ha(new AE)!=oj)&&(Ha=function(t){var e=tz(t),n=e==bye?t.constructor:void 0,r=n?pd(n):"";if(r)switch(r){case wye:return sj;case xye:return nj;case Eye:return rj;case Sye:return ij;case Tye:return oj}return e});var Cye=Ha,bw=z3,Aye=G3,Iye=ome,Pye=iye,aj=Cye,lj=Qr,cj=Y3,Oye=J3,kye=1,uj="[object Arguments]",dj="[object Array]",eg="[object Object]",Nye=Object.prototype,fj=Nye.hasOwnProperty;function Rye(t,e,n,r,i,o){var s=lj(t),a=lj(e),l=s?dj:aj(t),c=a?dj:aj(e);l=l==uj?eg:l,c=c==uj?eg:c;var u=l==eg,d=c==eg,h=l==c;if(h&&cj(t)){if(!cj(e))return!1;s=!0,u=!1}if(h&&!u)return o||(o=new bw),s||Oye(t)?Aye(t,e,n,r,i,o):Iye(t,e,l,n,r,i,o);if(!(n&kye)){var p=u&&fj.call(t,"__wrapped__"),m=d&&fj.call(e,"__wrapped__");if(p||m){var v=p?t.value():t,y=m?e.value():e;return o||(o=new bw),i(v,y,n,r,o)}}return h?(o||(o=new bw),Pye(t,e,n,r,i,o)):!1}var jye=Rye,Mye=jye,hj=As;function nz(t,e,n,r,i){return t===e?!0:t==null||e==null||!hj(t)&&!hj(e)?t!==t&&e!==e:Mye(t,e,n,r,nz,i)}var nI=nz,Dye=z3,$ye=nI,Lye=1,Fye=2;function Vye(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var l=a[0],c=t[l],u=a[1];if(s&&a[2]){if(c===void 0&&!(l in t))return!1}else{var d=new Dye;if(r)var h=r(c,u,l,t,e,d);if(!(h===void 0?$ye(u,c,Lye|Fye,r,d):h))return!1}}return!0}var Uye=Vye,Bye=ka;function zye(t){return t===t&&!Bye(t)}var rz=zye,Wye=rz,Hye=R0;function qye(t){for(var e=Hye(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Wye(i)]}return e}var Gye=qye;function Kye(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var iz=Kye,Qye=Uye,Yye=Gye,Xye=iz;function Jye(t){var e=Yye(t);return e.length==1&&e[0][2]?Xye(e[0][0],e[0][1]):function(n){return n===t||Qye(n,t,e)}}var Zye=Jye;function eve(t,e){return t!=null&&e in Object(t)}var tve=eve,nve=f3,rve=ZA,ive=Qr,ove=eI,sve=tI,ave=y0;function lve(t,e,n){e=nve(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=ave(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&sve(i)&&ove(s,i)&&(ive(t)||rve(t)))}var cve=lve,uve=tve,dve=cve;function fve(t,e){return t!=null&&dve(t,e,uve)}var hve=fve,pve=nI,mve=h3,gve=hve,yve=jA,vve=rz,_ve=iz,bve=y0,wve=1,xve=2;function Eve(t,e){return yve(t)&&vve(e)?_ve(bve(t),e):function(n){var r=mve(n,t);return r===void 0&&r===e?gve(n,t):pve(e,r,wve|xve)}}var Sve=Eve;function Tve(t){return t}var md=Tve;function Cve(t){return function(e){return e==null?void 0:e[t]}}var Ave=Cve,Ive=UA;function Pve(t){return function(e){return Ive(e,t)}}var Ove=Pve,kve=Ave,Nve=Ove,Rve=jA,jve=y0;function Mve(t){return Rve(t)?kve(jve(t)):Nve(t)}var Dve=Mve,$ve=Zye,Lve=Sve,Fve=md,Vve=Qr,Uve=Dve;function Bve(t){return typeof t=="function"?t:t==null?Fve:typeof t=="object"?Vve(t)?Lve(t[0],t[1]):$ve(t):Uve(t)}var Na=Bve;function zve(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var oz=zve;function Wve(t){return t!==t}var Hve=Wve;function qve(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Gve=qve,Kve=oz,Qve=Hve,Yve=Gve;function Xve(t,e,n){return e===e?Yve(t,e,n):Kve(t,Qve,n)}var Jve=Xve,Zve=Jve;function e_e(t,e){var n=t==null?0:t.length;return!!n&&Zve(t,e,0)>-1}var t_e=e_e;function n_e(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var r_e=n_e;function i_e(){}var o_e=i_e,ww=ez,s_e=o_e,a_e=JA,l_e=1/0,c_e=ww&&1/a_e(new ww([,-0]))[1]==l_e?function(t){return new ww(t)}:s_e,u_e=c_e,d_e=W3,f_e=t_e,h_e=r_e,p_e=q3,m_e=u_e,g_e=JA,y_e=200;function v_e(t,e,n){var r=-1,i=f_e,o=t.length,s=!0,a=[],l=a;if(n)s=!1,i=h_e;else if(o>=y_e){var c=e?null:m_e(t);if(c)return g_e(c);s=!1,i=p_e,l=new d_e}else l=e?[]:a;e:for(;++r<o;){var u=t[r],d=e?e(u):u;if(u=n||u!==0?u:0,s&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;e&&l.push(d),a.push(u)}else i(l,d,n)||(l!==a&&l.push(d),a.push(u))}return a}var __e=v_e,b_e=Na,w_e=__e;function x_e(t,e){return t&&t.length?w_e(t,b_e(e)):[]}var E_e=x_e;const pj=kt(E_e);function sz(t,e,n){return e===!0?pj(t,n):ct(e)?pj(t,e):t}function Pu(t){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pu(t)}var S_e=["ref"];function mj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function La(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mj(Object(n),!0).forEach(function(r){j0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function T_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cz(r.key),r)}}function C_e(t,e,n){return e&&gj(t.prototype,e),n&&gj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function A_e(t,e,n){return e=dv(e),I_e(t,az()?Reflect.construct(e,n||[],dv(t).constructor):e.apply(t,n))}function I_e(t,e){if(e&&(Pu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lz(t)}function az(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(az=function(){return!!t})()}function dv(t){return dv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dv(t)}function lz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IE(t,e)}function IE(t,e){return IE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},IE(t,e)}function j0(t,e,n){return e=cz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cz(t){var e=O_e(t,"string");return Pu(e)=="symbol"?e:String(e)}function O_e(t,e){if(Pu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function k_e(t,e){if(t==null)return{};var n=N_e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function N_e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function R_e(t){return t.value}function j_e(t,e){if(V.isValidElement(t))return V.cloneElement(t,e);if(typeof t=="function")return V.createElement(t,e);e.ref;var n=k_e(e,S_e);return V.createElement(XA,n)}var yj=1,Hh=function(t){P_e(e,t);function e(){var n;T_e(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=A_e(this,e,[].concat(i)),j0(lz(n),"lastBoundingBox",{width:-1,height:-1}),n}return C_e(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>yj||Math.abs(i.height-this.lastBoundingBox.height)>yj)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?La({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,s=i.align,a=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,d,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();d={left:((c||0)-p.width)/2}}else d=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var m=this.getBBoxSnapshot();h={top:((u||0)-m.height)/2}}else h=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return La(La({},d),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,s=i.width,a=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,d=La(La({position:"absolute",width:s||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return V.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){r.wrapperNode=p}},j_e(o,La(La({},this.props),{},{payload:sz(u,c,R_e)})))}}],[{key:"getWithHeight",value:function(r,i){var o=r.props.layout;return o==="vertical"&&he(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}]),e}(S.PureComponent);j0(Hh,"displayName","Legend");j0(Hh,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var vj=am,M_e=ZA,D_e=Qr,_j=vj?vj.isConcatSpreadable:void 0;function $_e(t){return D_e(t)||M_e(t)||!!(_j&&t&&t[_j])}var L_e=$_e,F_e=K3,V_e=L_e;function uz(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=V_e),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?uz(a,e-1,n,r,i):F_e(i,a):r||(i[i.length]=a)}return i}var dz=uz;function U_e(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}var B_e=U_e,z_e=B_e,W_e=z_e(),H_e=W_e,q_e=H_e,G_e=R0;function K_e(t,e){return t&&q_e(t,e,G_e)}var fz=K_e,Q_e=um;function Y_e(t,e){return function(n,r){if(n==null)return n;if(!Q_e(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var X_e=Y_e,J_e=fz,Z_e=X_e,e0e=Z_e(J_e),rI=e0e,t0e=rI,n0e=um;function r0e(t,e){var n=-1,r=n0e(t)?Array(t.length):[];return t0e(t,function(i,o,s){r[++n]=e(i,o,s)}),r}var hz=r0e;function i0e(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var o0e=i0e,bj=ld;function s0e(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=bj(t),s=e!==void 0,a=e===null,l=e===e,c=bj(e);if(!a&&!c&&!o&&t>e||o&&s&&l&&!a&&!c||r&&s&&l||!n&&l||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!l)return-1}return 0}var a0e=s0e,l0e=a0e;function c0e(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var l=l0e(i[r],o[r]);if(l){if(r>=a)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var u0e=c0e,xw=VA,d0e=UA,f0e=Na,h0e=hz,p0e=o0e,m0e=X3,g0e=u0e,y0e=md,v0e=Qr;function _0e(t,e,n){e.length?e=xw(e,function(o){return v0e(o)?function(s){return d0e(s,o.length===1?o[0]:o)}:o}):e=[y0e];var r=-1;e=xw(e,m0e(f0e));var i=h0e(t,function(o,s,a){var l=xw(e,function(c){return c(o)});return{criteria:l,index:++r,value:o}});return p0e(i,function(o,s){return g0e(o,s,n)})}var b0e=_0e;function w0e(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var x0e=w0e,E0e=x0e,wj=Math.max;function S0e(t,e,n){return e=wj(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=wj(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),E0e(t,this,a)}}var T0e=S0e;function C0e(t){return function(){return t}}var A0e=C0e,I0e=ec,P0e=function(){try{var t=I0e(Object,"defineProperty");return t({},"",{}),t}catch{}}(),pz=P0e,O0e=A0e,xj=pz,k0e=md,N0e=xj?function(t,e){return xj(t,"toString",{configurable:!0,enumerable:!1,value:O0e(e),writable:!0})}:k0e,R0e=N0e,j0e=800,M0e=16,D0e=Date.now;function $0e(t){var e=0,n=0;return function(){var r=D0e(),i=M0e-(r-n);if(n=r,i>0){if(++e>=j0e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var L0e=$0e,F0e=R0e,V0e=L0e,U0e=V0e(F0e),B0e=U0e,z0e=md,W0e=T0e,H0e=B0e;function q0e(t,e){return H0e(W0e(t,e,z0e),t+"")}var G0e=q0e,K0e=DA,Q0e=um,Y0e=eI,X0e=ka;function J0e(t,e,n){if(!X0e(n))return!1;var r=typeof e;return(r=="number"?Q0e(n)&&Y0e(e,n.length):r=="string"&&e in n)?K0e(n[e],t):!1}var M0=J0e,Z0e=dz,ebe=b0e,tbe=G0e,Ej=M0,nbe=tbe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&Ej(t,e[0],e[1])?e=[]:n>2&&Ej(e[0],e[1],e[2])&&(e=[e[0]]),ebe(t,Z0e(e,1),[])}),rbe=nbe;const iI=kt(rbe);function qh(t){"@babel/helpers - typeof";return qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qh(t)}function PE(){return PE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},PE.apply(this,arguments)}function ibe(t,e){return lbe(t)||abe(t,e)||sbe(t,e)||obe()}function obe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sbe(t,e){if(t){if(typeof t=="string")return Sj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sj(t,e)}}function Sj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function abe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function lbe(t){if(Array.isArray(t))return t}function Tj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ew(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tj(Object(n),!0).forEach(function(r){cbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cbe(t,e,n){return e=ube(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ube(t){var e=dbe(t,"string");return qh(e)=="symbol"?e:String(e)}function dbe(t,e){if(qh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fbe(t){return Array.isArray(t)&&Nn(t[0])&&Nn(t[1])?t.join(" ~ "):t}var hbe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,a=s===void 0?{}:s,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,d=e.formatter,h=e.itemSorter,p=e.wrapperClassName,m=e.labelClassName,v=e.label,y=e.labelFormatter,b=e.accessibilityLayer,g=b===void 0?!1:b,_=function(){if(u&&u.length){var L={padding:0,margin:0},j=(h?iI(u,h):u).map(function(B,Y){if(B.type==="none")return null;var X=Ew({display:"block",paddingTop:4,paddingBottom:4,color:B.color||"#000"},a),U=B.formatter||d||fbe,M=B.value,q=B.name,N=M,P=q;if(U&&N!=null&&P!=null){var W=U(M,q,B,Y,u);if(Array.isArray(W)){var Z=ibe(W,2);N=Z[0],P=Z[1]}else N=W}return V.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Y),style:X},Nn(P)?V.createElement("span",{className:"recharts-tooltip-item-name"},P):null,Nn(P)?V.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,V.createElement("span",{className:"recharts-tooltip-item-value"},N),V.createElement("span",{className:"recharts-tooltip-item-unit"},B.unit||""))});return V.createElement("ul",{className:"recharts-tooltip-item-list",style:L},j)}return null},w=Ew({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),E=Ew({margin:0},c),x=!At(v),T=x?v:"",C=It("recharts-default-tooltip",p),O=It("recharts-tooltip-label",m);x&&y&&u!==void 0&&u!==null&&(T=y(v,u));var I=g?{role:"status","aria-live":"assertive"}:{};return V.createElement("div",PE({className:C,style:w},I),V.createElement("p",{className:O,style:E},V.isValidElement(T)?T:"".concat(T)),_())};function Gh(t){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gh(t)}function tg(t,e,n){return e=pbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pbe(t){var e=mbe(t,"string");return Gh(e)=="symbol"?e:String(e)}function mbe(t,e){if(Gh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Gh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gd="recharts-tooltip-wrapper",gbe={visibility:"hidden"};function ybe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return It(Gd,tg(tg(tg(tg({},"".concat(Gd,"-right"),he(n)&&e&&he(e.x)&&n>=e.x),"".concat(Gd,"-left"),he(n)&&e&&he(e.x)&&n<e.x),"".concat(Gd,"-bottom"),he(r)&&e&&he(e.y)&&r>=e.y),"".concat(Gd,"-top"),he(r)&&e&&he(e.y)&&r<e.y))}function Cj(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(o&&he(o[r]))return o[r];var u=n[r]-a-i,d=n[r]+i;if(e[r])return s[r]?u:d;if(s[r]){var h=u,p=l[r];return h<p?Math.max(d,l[r]):Math.max(u,l[r])}var m=d+a,v=l[r]+c;return m>v?Math.max(u,l[r]):Math.max(d,l[r])}function vbe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function _be(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,c,u,d;return s.height>0&&s.width>0&&n?(u=Cj({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),d=Cj({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=vbe({translateX:u,translateY:d,useTranslate3d:a})):c=gbe,{cssProperties:c,cssClasses:ybe({translateX:u,translateY:d,coordinate:n})}}function Ou(t){"@babel/helpers - typeof";return Ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ou(t)}function Aj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ij(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Aj(Object(n),!0).forEach(function(r){NE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Aj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gz(r.key),r)}}function wbe(t,e,n){return e&&Pj(t.prototype,e),n&&Pj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xbe(t,e,n){return e=fv(e),Ebe(t,mz()?Reflect.construct(e,n||[],fv(t).constructor):e.apply(t,n))}function Ebe(t,e){if(e&&(Ou(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OE(t)}function mz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mz=function(){return!!t})()}function fv(t){return fv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fv(t)}function OE(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kE(t,e)}function kE(t,e){return kE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kE(t,e)}function NE(t,e,n){return e=gz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gz(t){var e=Tbe(t,"string");return Ou(e)=="symbol"?e:String(e)}function Tbe(t,e){if(Ou(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Oj=1,Cbe=function(t){Sbe(e,t);function e(){var n;bbe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=xbe(this,e,[].concat(i)),NE(OE(n),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),NE(OE(n),"handleKeyDown",function(s){if(s.key==="Escape"){var a,l,c,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(c=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),n}return wbe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>Oj||Math.abs(r.height-this.state.lastBoundingBox.height)>Oj)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,d=i.hasPayload,h=i.isAnimationActive,p=i.offset,m=i.position,v=i.reverseDirection,y=i.useTranslate3d,b=i.viewBox,g=i.wrapperStyle,_=_be({allowEscapeViewBox:s,coordinate:u,offsetTopLeft:p,position:m,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:b}),w=_.cssClasses,E=_.cssProperties,x=Ij(Ij({transition:h&&o?"transform ".concat(a,"ms ").concat(l):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&d?"visible":"hidden",position:"absolute",top:0,left:0},g);return V.createElement("div",{tabIndex:-1,className:w,style:x,ref:function(C){r.wrapperNode=C}},c)}}]),e}(S.PureComponent),Abe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ca={isSsr:Abe(),get:function(e){return ca[e]},set:function(e,n){if(typeof e=="string")ca[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){ca[i]=e[i]})}}};function ku(t){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ku(t)}function kj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kj(Object(n),!0).forEach(function(r){oI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ibe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vz(r.key),r)}}function Pbe(t,e,n){return e&&Rj(t.prototype,e),n&&Rj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Obe(t,e,n){return e=hv(e),kbe(t,yz()?Reflect.construct(e,n||[],hv(t).constructor):e.apply(t,n))}function kbe(t,e){if(e&&(ku(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nbe(t)}function Nbe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yz=function(){return!!t})()}function hv(t){return hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hv(t)}function Rbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RE(t,e)}function RE(t,e){return RE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},RE(t,e)}function oI(t,e,n){return e=vz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vz(t){var e=jbe(t,"string");return ku(e)=="symbol"?e:String(e)}function jbe(t,e){if(ku(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mbe(t){return t.dataKey}function Dbe(t,e){return V.isValidElement(t)?V.cloneElement(t,e):typeof t=="function"?V.createElement(t,e):V.createElement(hbe,e)}var yo=function(t){Rbe(e,t);function e(){return Ibe(this,e),Obe(this,e,arguments)}return Pbe(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,d=i.filterNull,h=i.isAnimationActive,p=i.offset,m=i.payload,v=i.payloadUniqBy,y=i.position,b=i.reverseDirection,g=i.useTranslate3d,_=i.viewBox,w=i.wrapperStyle,E=m??[];d&&E.length&&(E=sz(m.filter(function(T){return T.value!=null&&(T.hide!==!0||r.props.includeHidden)}),v,Mbe));var x=E.length>0;return V.createElement(Cbe,{allowEscapeViewBox:s,animationDuration:a,animationEasing:l,isAnimationActive:h,active:o,coordinate:u,hasPayload:x,offset:p,position:y,reverseDirection:b,useTranslate3d:g,viewBox:_,wrapperStyle:w},Dbe(c,Nj(Nj({},this.props),{},{payload:E})))}}]),e}(S.PureComponent);oI(yo,"displayName","Tooltip");oI(yo,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ca.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var $be=Uo,Lbe=function(){return $be.Date.now()},Fbe=Lbe,Vbe=/\s/;function Ube(t){for(var e=t.length;e--&&Vbe.test(t.charAt(e)););return e}var Bbe=Ube,zbe=Bbe,Wbe=/^\s+/;function Hbe(t){return t&&t.slice(0,zbe(t)+1).replace(Wbe,"")}var qbe=Hbe,Gbe=qbe,jj=ka,Kbe=ld,Mj=NaN,Qbe=/^[-+]0x[0-9a-f]+$/i,Ybe=/^0b[01]+$/i,Xbe=/^0o[0-7]+$/i,Jbe=parseInt;function Zbe(t){if(typeof t=="number")return t;if(Kbe(t))return Mj;if(jj(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=jj(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Gbe(t);var n=Ybe.test(t);return n||Xbe.test(t)?Jbe(t.slice(2),n?2:8):Qbe.test(t)?Mj:+t}var _z=Zbe,ewe=ka,Sw=Fbe,Dj=_z,twe="Expected a function",nwe=Math.max,rwe=Math.min;function iwe(t,e,n){var r,i,o,s,a,l,c=0,u=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(twe);e=Dj(e)||0,ewe(n)&&(u=!!n.leading,d="maxWait"in n,o=d?nwe(Dj(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function p(x){var T=r,C=i;return r=i=void 0,c=x,s=t.apply(C,T),s}function m(x){return c=x,a=setTimeout(b,e),u?p(x):s}function v(x){var T=x-l,C=x-c,O=e-T;return d?rwe(O,o-C):O}function y(x){var T=x-l,C=x-c;return l===void 0||T>=e||T<0||d&&C>=o}function b(){var x=Sw();if(y(x))return g(x);a=setTimeout(b,v(x))}function g(x){return a=void 0,h&&r?p(x):(r=i=void 0,s)}function _(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function w(){return a===void 0?s:g(Sw())}function E(){var x=Sw(),T=y(x);if(r=arguments,i=this,l=x,T){if(a===void 0)return m(l);if(d)return clearTimeout(a),a=setTimeout(b,e),p(l)}return a===void 0&&(a=setTimeout(b,e)),s}return E.cancel=_,E.flush=w,E}var owe=iwe,swe=owe,awe=ka,lwe="Expected a function";function cwe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(lwe);return awe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),swe(t,e,{leading:r,maxWait:e,trailing:i})}var uwe=cwe;const bz=kt(uwe);function Kh(t){"@babel/helpers - typeof";return Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kh(t)}function $j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ng(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$j(Object(n),!0).forEach(function(r){dwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$j(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dwe(t,e,n){return e=fwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fwe(t){var e=hwe(t,"string");return Kh(e)=="symbol"?e:String(e)}function hwe(t,e){if(Kh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Kh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pwe(t,e){return vwe(t)||ywe(t,e)||gwe(t,e)||mwe()}function mwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gwe(t,e){if(t){if(typeof t=="string")return Lj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lj(t,e)}}function Lj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ywe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function vwe(t){if(Array.isArray(t))return t}var _we=S.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,s=o===void 0?"100%":o,a=t.height,l=a===void 0?"100%":a,c=t.minWidth,u=c===void 0?0:c,d=t.minHeight,h=t.maxHeight,p=t.children,m=t.debounce,v=m===void 0?0:m,y=t.id,b=t.className,g=t.onResize,_=t.style,w=_===void 0?{}:_,E=S.useRef(null),x=S.useRef();x.current=g,S.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var T=S.useState({containerWidth:i.width,containerHeight:i.height}),C=pwe(T,2),O=C[0],I=C[1],D=S.useCallback(function(j,B){I(function(Y){var X=Math.round(j),U=Math.round(B);return Y.containerWidth===X&&Y.containerHeight===U?Y:{containerWidth:X,containerHeight:U}})},[]);S.useEffect(function(){var j=function(q){var N,P=q[0].contentRect,W=P.width,Z=P.height;D(W,Z),(N=x.current)===null||N===void 0||N.call(x,W,Z)};v>0&&(j=bz(j,v,{trailing:!0,leading:!1}));var B=new ResizeObserver(j),Y=E.current.getBoundingClientRect(),X=Y.width,U=Y.height;return D(X,U),B.observe(E.current),function(){B.disconnect()}},[D,v]);var L=S.useMemo(function(){var j=O.containerWidth,B=O.containerHeight;if(j<0||B<0)return null;us(sl(s)||sl(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),us(!n||n>0,"The aspect(%s) must be greater than zero.",n);var Y=sl(s)?j:s,X=sl(l)?B:l;n&&n>0&&(Y?X=Y/n:X&&(Y=X*n),h&&X>h&&(X=h)),us(Y>0||X>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Y,X,s,l,u,d,n);var U=!Array.isArray(p)&&aE.isElement(p)&&cs(p.type).endsWith("Chart");return V.Children.map(p,function(M){return aE.isElement(M)?S.cloneElement(M,ng({width:Y,height:X},U?{style:ng({height:"100%",width:"100%",maxHeight:X,maxWidth:Y},M.props.style)}:{})):M})},[n,p,l,h,d,u,O,s]);return V.createElement("div",{id:y?"".concat(y):void 0,className:It("recharts-responsive-container",b),style:ng(ng({},w),{},{width:s,height:l,minWidth:u,minHeight:d,maxHeight:h}),ref:E},L)}),sI=function(e){return null};sI.displayName="Cell";function Qh(t){"@babel/helpers - typeof";return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qh(t)}function Fj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fj(Object(n),!0).forEach(function(r){bwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bwe(t,e,n){return e=wwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wwe(t){var e=xwe(t,"string");return Qh(e)=="symbol"?e:String(e)}function xwe(t,e){if(Qh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Qh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hc={widthCache:{},cacheCount:0},Ewe=2e3,Swe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Vj="recharts_measurement_span";function Twe(t){var e=jE({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var qf=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ca.isSsr)return{width:0,height:0};var r=Twe(n),i=JSON.stringify({text:e,copyStyle:r});if(hc.widthCache[i])return hc.widthCache[i];try{var o=document.getElementById(Vj);o||(o=document.createElement("span"),o.setAttribute("id",Vj),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=jE(jE({},Swe),r);Object.assign(o.style,s),o.textContent="".concat(e);var a=o.getBoundingClientRect(),l={width:a.width,height:a.height};return hc.widthCache[i]=l,++hc.cacheCount>Ewe&&(hc.cacheCount=0,hc.widthCache={}),l}catch{return{width:0,height:0}}},Cwe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Yh(t){"@babel/helpers - typeof";return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yh(t)}function pv(t,e){return Owe(t)||Pwe(t,e)||Iwe(t,e)||Awe()}function Awe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iwe(t,e){if(t){if(typeof t=="string")return Uj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uj(t,e)}}function Uj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pwe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function Owe(t){if(Array.isArray(t))return t}function kwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Rwe(r.key),r)}}function Nwe(t,e,n){return e&&Bj(t.prototype,e),n&&Bj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rwe(t){var e=jwe(t,"string");return Yh(e)=="symbol"?e:String(e)}function jwe(t,e){if(Yh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Yh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Wj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Mwe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Dwe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,wz={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},$we=Object.keys(wz),$c="NaN";function Lwe(t,e){return t*wz[e]}var rg=function(){function t(e,n){kwe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Mwe.test(n)&&(this.num=NaN,this.unit=""),$we.includes(n)&&(this.num=Lwe(e,n),this.unit="px")}return Nwe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Dwe.exec(n))!==null&&r!==void 0?r:[],o=pv(i,3),s=o[1],a=o[2];return new t(parseFloat(s),a??"")}}]),t}();function xz(t){if(t.includes($c))return $c;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=zj.exec(e))!==null&&n!==void 0?n:[],i=pv(r,4),o=i[1],s=i[2],a=i[3],l=rg.parse(o??""),c=rg.parse(a??""),u=s==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return $c;e=e.replace(zj,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,h=(d=Wj.exec(e))!==null&&d!==void 0?d:[],p=pv(h,4),m=p[1],v=p[2],y=p[3],b=rg.parse(m??""),g=rg.parse(y??""),_=v==="+"?b.add(g):b.subtract(g);if(_.isNaN())return $c;e=e.replace(Wj,_.toString())}return e}var Hj=/\(([^()]*)\)/;function Fwe(t){for(var e=t;e.includes("(");){var n=Hj.exec(e),r=pv(n,2),i=r[1];e=e.replace(Hj,xz(i))}return e}function Vwe(t){var e=t.replace(/\s+/g,"");return e=Fwe(e),e=xz(e),e}function Uwe(t){try{return Vwe(t)}catch{return $c}}function Tw(t){var e=Uwe(t.slice(5,-1));return e===$c?"":e}var Bwe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],zwe=["dx","dy","angle","className","breakAll"];function ME(){return ME=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ME.apply(this,arguments)}function qj(t,e){if(t==null)return{};var n=Wwe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Wwe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Gj(t,e){return Kwe(t)||Gwe(t,e)||qwe(t,e)||Hwe()}function Hwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qwe(t,e){if(t){if(typeof t=="string")return Kj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kj(t,e)}}function Kj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gwe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function Kwe(t){if(Array.isArray(t))return t}var Ez=/[ \f\n\r\t\v\u2028\u2029]+/,Sz=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];At(n)||(r?o=n.toString().split(""):o=n.toString().split(Ez));var s=o.map(function(l){return{word:l,width:qf(l,i).width}}),a=r?0:qf(" ",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},Qwe=function(e,n,r,i,o){var s=e.maxLines,a=e.children,l=e.style,c=e.breakAll,u=he(s),d=a,h=function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Y.reduce(function(X,U){var M=U.word,q=U.width,N=X[X.length-1];if(N&&(i==null||o||N.width+q+r<Number(i)))N.words.push(M),N.width+=q+r;else{var P={words:[M],width:q};X.push(P)}return X},[])},p=h(n),m=function(Y){return Y.reduce(function(X,U){return X.width>U.width?X:U})};if(!u)return p;for(var v="…",y=function(Y){var X=d.slice(0,Y),U=Sz({breakAll:c,style:l,children:X+v}).wordsWithComputedWidth,M=h(U),q=M.length>s||m(M).width>Number(i);return[q,M]},b=0,g=d.length-1,_=0,w;b<=g&&_<=d.length-1;){var E=Math.floor((b+g)/2),x=E-1,T=y(x),C=Gj(T,2),O=C[0],I=C[1],D=y(E),L=Gj(D,1),j=L[0];if(!O&&!j&&(b=E+1),O&&j&&(g=E-1),!O&&j){w=I;break}_++}return w||p},Qj=function(e){var n=At(e)?[]:e.toString().split(Ez);return[{words:n}]},Ywe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,a=e.maxLines;if((n||r)&&!ca.isSsr){var l,c,u=Sz({breakAll:s,children:i,style:o});if(u){var d=u.wordsWithComputedWidth,h=u.spaceWidth;l=d,c=h}else return Qj(i);return Qwe({breakAll:s,children:i,maxLines:a,style:o},l,c,n,r)}return Qj(i)},Yj="#808080",mv=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.lineHeight,a=s===void 0?"1em":s,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,d=u===void 0?!1:u,h=e.textAnchor,p=h===void 0?"start":h,m=e.verticalAnchor,v=m===void 0?"end":m,y=e.fill,b=y===void 0?Yj:y,g=qj(e,Bwe),_=S.useMemo(function(){return Ywe({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:d,style:g.style,width:g.width})},[g.breakAll,g.children,g.maxLines,d,g.style,g.width]),w=g.dx,E=g.dy,x=g.angle,T=g.className,C=g.breakAll,O=qj(g,zwe);if(!Nn(r)||!Nn(o))return null;var I=r+(he(w)?w:0),D=o+(he(E)?E:0),L;switch(v){case"start":L=Tw("calc(".concat(c,")"));break;case"middle":L=Tw("calc(".concat((_.length-1)/2," * -").concat(a," + (").concat(c," / 2))"));break;default:L=Tw("calc(".concat(_.length-1," * -").concat(a,")"));break}var j=[];if(d){var B=_[0].width,Y=g.width;j.push("scale(".concat((he(Y)?Y/B:1)/B,")"))}return x&&j.push("rotate(".concat(x,", ").concat(I,", ").concat(D,")")),j.length&&(O.transform=j.join(" ")),V.createElement("text",ME({},St(O,!0),{x:I,y:D,className:It("recharts-text",T),textAnchor:p,fill:b.includes("url")?Yj:b}),_.map(function(X,U){var M=X.words.join(C?"":" ");return V.createElement("tspan",{x:I,dy:U===0?L:a,key:M},M)}))};function ua(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Xwe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function aI(t){let e,n,r;t.length!==2?(e=ua,n=(a,l)=>ua(t(a),l),r=(a,l)=>t(a)-l):(e=t===ua||t===Xwe?t:Jwe,n=t,r=t);function i(a,l,c=0,u=a.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;n(a[d],l)<0?c=d+1:u=d}while(c<u)}return c}function o(a,l,c=0,u=a.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;n(a[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function s(a,l,c=0,u=a.length){const d=i(a,l,c,u-1);return d>c&&r(a[d-1],l)>-r(a[d],l)?d-1:d}return{left:i,center:s,right:o}}function Jwe(){return 0}function Tz(t){return t===null?NaN:+t}function*Zwe(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const exe=aI(ua),dm=exe.right;aI(Tz).center;class Xj extends Map{constructor(e,n=rxe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Jj(this,e))}has(e){return super.has(Jj(this,e))}set(e,n){return super.set(txe(this,e),n)}delete(e){return super.delete(nxe(this,e))}}function Jj({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function txe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function nxe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function rxe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function ixe(t=ua){if(t===ua)return Cz;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function Cz(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const oxe=Math.sqrt(50),sxe=Math.sqrt(10),axe=Math.sqrt(2);function gv(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=oxe?10:o>=sxe?5:o>=axe?2:1;let a,l,c;return i<0?(c=Math.pow(10,-i)/s,a=Math.round(t*c),l=Math.round(e*c),a/c<t&&++a,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*s,a=Math.round(t/c),l=Math.round(e/c),a*c<t&&++a,l*c>e&&--l),l<a&&.5<=n&&n<2?gv(t,e,n*2):[a,l,c]}function DE(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?gv(e,t,n):gv(t,e,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let c=0;c<a;++c)l[c]=(o-c)/-s;else for(let c=0;c<a;++c)l[c]=(o-c)*s;else if(s<0)for(let c=0;c<a;++c)l[c]=(i+c)/-s;else for(let c=0;c<a;++c)l[c]=(i+c)*s;return l}function $E(t,e,n){return e=+e,t=+t,n=+n,gv(t,e,n)[2]}function LE(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?$E(e,t,n):$E(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function Zj(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function eM(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function Az(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?Cz:ixe(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,u=Math.log(l),d=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),p=Math.max(n,Math.floor(e-c*d/l+h)),m=Math.min(r,Math.floor(e+(l-c)*d/l+h));Az(t,e,p,m,i)}const o=t[e];let s=n,a=r;for(Kd(t,n,e),i(t[r],o)>0&&Kd(t,n,r);s<a;){for(Kd(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}i(t[n],o)===0?Kd(t,n,a):(++a,Kd(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function Kd(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function lxe(t,e,n){if(t=Float64Array.from(Zwe(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return eM(t);if(e>=1)return Zj(t);var r,i=(r-1)*e,o=Math.floor(i),s=Zj(Az(t,o).subarray(0,o+1)),a=eM(t.subarray(o+1));return s+(a-s)*(i-o)}}function cxe(t,e,n=Tz){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),a=+n(t[o+1],o+1,t);return s+(a-s)*(i-o)}}function uxe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function $i(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Is(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const FE=Symbol("implicit");function lI(){var t=new Xj,e=[],n=[],r=FE;function i(o){let s=t.get(o);if(s===void 0){if(r!==FE)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new Xj;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return lI(e,n).unknown(r)},$i.apply(i,arguments),i}function Xh(){var t=lI().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,a=!1,l=0,c=0,u=.5;delete t.unknown;function d(){var h=e().length,p=i<r,m=p?i:r,v=p?r:i;o=(v-m)/Math.max(1,h-l+c*2),a&&(o=Math.floor(o)),m+=(v-m-o*(h-l))*u,s=o*(1-l),a&&(m=Math.round(m),s=Math.round(s));var y=uxe(h).map(function(b){return m+o*b});return n(p?y.reverse():y)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,a=!0,d()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(h){return arguments.length?(a=!!h,d()):a},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),d()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,d()):c},t.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),d()):u},t.copy=function(){return Xh(e(),[r,i]).round(a).paddingInner(l).paddingOuter(c).align(u)},$i.apply(d(),arguments)}function Iz(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Iz(e())},t}function Gf(){return Iz(Xh.apply(null,arguments).paddingInner(1))}function cI(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Pz(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function fm(){}var Jh=.7,yv=1/Jh,eu="\\s*([+-]?\\d+)\\s*",Zh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",No="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",dxe=/^#([0-9a-f]{3,8})$/,fxe=new RegExp(`^rgb\\(${eu},${eu},${eu}\\)$`),hxe=new RegExp(`^rgb\\(${No},${No},${No}\\)$`),pxe=new RegExp(`^rgba\\(${eu},${eu},${eu},${Zh}\\)$`),mxe=new RegExp(`^rgba\\(${No},${No},${No},${Zh}\\)$`),gxe=new RegExp(`^hsl\\(${Zh},${No},${No}\\)$`),yxe=new RegExp(`^hsla\\(${Zh},${No},${No},${Zh}\\)$`),tM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};cI(fm,ep,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:nM,formatHex:nM,formatHex8:vxe,formatHsl:_xe,formatRgb:rM,toString:rM});function nM(){return this.rgb().formatHex()}function vxe(){return this.rgb().formatHex8()}function _xe(){return Oz(this).formatHsl()}function rM(){return this.rgb().formatRgb()}function ep(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=dxe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?iM(e):n===3?new Hr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ig(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ig(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=fxe.exec(t))?new Hr(e[1],e[2],e[3],1):(e=hxe.exec(t))?new Hr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=pxe.exec(t))?ig(e[1],e[2],e[3],e[4]):(e=mxe.exec(t))?ig(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=gxe.exec(t))?aM(e[1],e[2]/100,e[3]/100,1):(e=yxe.exec(t))?aM(e[1],e[2]/100,e[3]/100,e[4]):tM.hasOwnProperty(t)?iM(tM[t]):t==="transparent"?new Hr(NaN,NaN,NaN,0):null}function iM(t){return new Hr(t>>16&255,t>>8&255,t&255,1)}function ig(t,e,n,r){return r<=0&&(t=e=n=NaN),new Hr(t,e,n,r)}function bxe(t){return t instanceof fm||(t=ep(t)),t?(t=t.rgb(),new Hr(t.r,t.g,t.b,t.opacity)):new Hr}function VE(t,e,n,r){return arguments.length===1?bxe(t):new Hr(t,e,n,r??1)}function Hr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}cI(Hr,VE,Pz(fm,{brighter(t){return t=t==null?yv:Math.pow(yv,t),new Hr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Jh:Math.pow(Jh,t),new Hr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Hr(yl(this.r),yl(this.g),yl(this.b),vv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:oM,formatHex:oM,formatHex8:wxe,formatRgb:sM,toString:sM}));function oM(){return`#${al(this.r)}${al(this.g)}${al(this.b)}`}function wxe(){return`#${al(this.r)}${al(this.g)}${al(this.b)}${al((isNaN(this.opacity)?1:this.opacity)*255)}`}function sM(){const t=vv(this.opacity);return`${t===1?"rgb(":"rgba("}${yl(this.r)}, ${yl(this.g)}, ${yl(this.b)}${t===1?")":`, ${t})`}`}function vv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function yl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function al(t){return t=yl(t),(t<16?"0":"")+t.toString(16)}function aM(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Qi(t,e,n,r)}function Oz(t){if(t instanceof Qi)return new Qi(t.h,t.s,t.l,t.opacity);if(t instanceof fm||(t=ep(t)),!t)return new Qi;if(t instanceof Qi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Qi(s,a,l,t.opacity)}function xxe(t,e,n,r){return arguments.length===1?Oz(t):new Qi(t,e,n,r??1)}function Qi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}cI(Qi,xxe,Pz(fm,{brighter(t){return t=t==null?yv:Math.pow(yv,t),new Qi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Jh:Math.pow(Jh,t),new Qi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Hr(Cw(t>=240?t-240:t+120,i,r),Cw(t,i,r),Cw(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Qi(lM(this.h),og(this.s),og(this.l),vv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=vv(this.opacity);return`${t===1?"hsl(":"hsla("}${lM(this.h)}, ${og(this.s)*100}%, ${og(this.l)*100}%${t===1?")":`, ${t})`}`}}));function lM(t){return t=(t||0)%360,t<0?t+360:t}function og(t){return Math.max(0,Math.min(1,t||0))}function Cw(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const uI=t=>()=>t;function Exe(t,e){return function(n){return t+n*e}}function Sxe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Txe(t){return(t=+t)==1?kz:function(e,n){return n-e?Sxe(e,n,t):uI(isNaN(e)?n:e)}}function kz(t,e){var n=e-t;return n?Exe(t,n):uI(isNaN(t)?e:t)}const cM=function t(e){var n=Txe(e);function r(i,o){var s=n((i=VE(i)).r,(o=VE(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),c=kz(i.opacity,o.opacity);return function(u){return i.r=s(u),i.g=a(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function Cxe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Axe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ixe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=gd(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function Pxe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function _v(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Oxe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=gd(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var UE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Aw=new RegExp(UE.source,"g");function kxe(t){return function(){return t}}function Nxe(t){return function(e){return t(e)+""}}function Rxe(t,e){var n=UE.lastIndex=Aw.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(r=UE.exec(t))&&(i=Aw.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:_v(r,i)})),n=Aw.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?Nxe(l[0].x):kxe(e):(e=l.length,function(c){for(var u=0,d;u<e;++u)a[(d=l[u]).i]=d.x(c);return a.join("")})}function gd(t,e){var n=typeof e,r;return e==null||n==="boolean"?uI(e):(n==="number"?_v:n==="string"?(r=ep(e))?(e=r,cM):Rxe:e instanceof ep?cM:e instanceof Date?Pxe:Axe(e)?Cxe:Array.isArray(e)?Ixe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Oxe:_v)(t,e)}function dI(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function jxe(t,e){e===void 0&&(e=t,t=gd);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function Mxe(t){return function(){return t}}function bv(t){return+t}var uM=[0,1];function kr(t){return t}function BE(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Mxe(isNaN(e)?NaN:.5)}function Dxe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function $xe(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=BE(i,r),o=n(s,o)):(r=BE(r,i),o=n(o,s)),function(a){return o(r(a))}}function Lxe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=BE(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var l=dm(t,a,1,r)-1;return o[l](i[l](a))}}function hm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function D0(){var t=uM,e=uM,n=gd,r,i,o,s=kr,a,l,c;function u(){var h=Math.min(t.length,e.length);return s!==kr&&(s=Dxe(t[0],t[h-1])),a=h>2?Lxe:$xe,l=c=null,d}function d(h){return h==null||isNaN(h=+h)?o:(l||(l=a(t.map(r),e,n)))(r(s(h)))}return d.invert=function(h){return s(i((c||(c=a(e,t.map(r),_v)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,bv),u()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),u()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),n=dI,u()},d.clamp=function(h){return arguments.length?(s=h?!0:kr,u()):s!==kr},d.interpolate=function(h){return arguments.length?(n=h,u()):n},d.unknown=function(h){return arguments.length?(o=h,d):o},function(h,p){return r=h,i=p,u()}}function fI(){return D0()(kr,kr)}function Fxe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function wv(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Nu(t){return t=wv(Math.abs(t)),t?t[1]:NaN}function Vxe(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function Uxe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Bxe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function tp(t){if(!(e=Bxe.exec(t)))throw new Error("invalid format: "+t);var e;return new hI({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}tp.prototype=hI.prototype;function hI(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}hI.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function zxe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Nz;function Wxe(t,e){var n=wv(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Nz=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+wv(t,Math.max(0,e+o-1))[0]}function dM(t,e){var n=wv(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const fM={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Fxe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>dM(t*100,e),r:dM,s:Wxe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function hM(t){return t}var pM=Array.prototype.map,mM=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Hxe(t){var e=t.grouping===void 0||t.thousands===void 0?hM:Vxe(pM.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?hM:Uxe(pM.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(d){d=tp(d);var h=d.fill,p=d.align,m=d.sign,v=d.symbol,y=d.zero,b=d.width,g=d.comma,_=d.precision,w=d.trim,E=d.type;E==="n"?(g=!0,E="g"):fM[E]||(_===void 0&&(_=12),w=!0,E="g"),(y||h==="0"&&p==="=")&&(y=!0,h="0",p="=");var x=v==="$"?n:v==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",T=v==="$"?r:/[%p]/.test(E)?s:"",C=fM[E],O=/[defgprs%]/.test(E);_=_===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function I(D){var L=x,j=T,B,Y,X;if(E==="c")j=C(D)+j,D="";else{D=+D;var U=D<0||1/D<0;if(D=isNaN(D)?l:C(Math.abs(D),_),w&&(D=zxe(D)),U&&+D==0&&m!=="+"&&(U=!1),L=(U?m==="("?m:a:m==="-"||m==="("?"":m)+L,j=(E==="s"?mM[8+Nz/3]:"")+j+(U&&m==="("?")":""),O){for(B=-1,Y=D.length;++B<Y;)if(X=D.charCodeAt(B),48>X||X>57){j=(X===46?i+D.slice(B+1):D.slice(B))+j,D=D.slice(0,B);break}}}g&&!y&&(D=e(D,1/0));var M=L.length+D.length+j.length,q=M<b?new Array(b-M+1).join(h):"";switch(g&&y&&(D=e(q+D,q.length?b-j.length:1/0),q=""),p){case"<":D=L+D+j+q;break;case"=":D=L+q+D+j;break;case"^":D=q.slice(0,M=q.length>>1)+L+D+j+q.slice(M);break;default:D=q+L+D+j;break}return o(D)}return I.toString=function(){return d+""},I}function u(d,h){var p=c((d=tp(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(Nu(h)/3)))*3,v=Math.pow(10,-m),y=mM[8+m/3];return function(b){return p(v*b)+y}}return{format:c,formatPrefix:u}}var sg,pI,Rz;qxe({thousands:",",grouping:[3],currency:["$",""]});function qxe(t){return sg=Hxe(t),pI=sg.format,Rz=sg.formatPrefix,sg}function Gxe(t){return Math.max(0,-Nu(Math.abs(t)))}function Kxe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Nu(e)/3)))*3-Nu(Math.abs(t)))}function Qxe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Nu(e)-Nu(t))+1}function jz(t,e,n,r){var i=LE(t,e,n),o;switch(r=tp(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Kxe(i,s))&&(r.precision=o),Rz(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Qxe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Gxe(i))&&(r.precision=o-(r.type==="%")*2);break}}return pI(r)}function Ra(t){var e=t.domain;return t.ticks=function(n){var r=e();return DE(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return jz(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],l,c,u=10;for(a<s&&(c=s,s=a,a=c,c=i,i=o,o=c);u-- >0;){if(c=$E(s,a,n),c===l)return r[i]=s,r[o]=a,e(r);if(c>0)s=Math.floor(s/c)*c,a=Math.ceil(a/c)*c;else if(c<0)s=Math.ceil(s*c)/c,a=Math.floor(a*c)/c;else break;l=c}return t},t}function xv(){var t=fI();return t.copy=function(){return hm(t,xv())},$i.apply(t,arguments),Ra(t)}function Mz(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,bv),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Mz(t).unknown(e)},t=arguments.length?Array.from(t,bv):[0,1],Ra(n)}function Dz(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function gM(t){return Math.log(t)}function yM(t){return Math.exp(t)}function Yxe(t){return-Math.log(-t)}function Xxe(t){return-Math.exp(-t)}function Jxe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Zxe(t){return t===10?Jxe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function e1e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function vM(t){return(e,n)=>-t(-e,n)}function mI(t){const e=t(gM,yM),n=e.domain;let r=10,i,o;function s(){return i=e1e(r),o=Zxe(r),n()[0]<0?(i=vM(i),o=vM(o),t(Yxe,Xxe)):t(gM,yM),e}return e.base=function(a){return arguments.length?(r=+a,s()):r},e.domain=function(a){return arguments.length?(n(a),s()):n()},e.ticks=a=>{const l=n();let c=l[0],u=l[l.length-1];const d=u<c;d&&([c,u]=[u,c]);let h=i(c),p=i(u),m,v;const y=a==null?10:+a;let b=[];if(!(r%1)&&p-h<y){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(m=1;m<r;++m)if(v=h<0?m/o(-h):m*o(h),!(v<c)){if(v>u)break;b.push(v)}}else for(;h<=p;++h)for(m=r-1;m>=1;--m)if(v=h>0?m/o(-h):m*o(h),!(v<c)){if(v>u)break;b.push(v)}b.length*2<y&&(b=DE(c,u,y))}else b=DE(h,p,Math.min(p-h,y)).map(o);return d?b.reverse():b},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=tp(l)).precision==null&&(l.trim=!0),l=pI(l)),a===1/0)return l;const c=Math.max(1,r*a/e.ticks().length);return u=>{let d=u/o(Math.round(i(u)));return d*r<r-.5&&(d*=r),d<=c?l(u):""}},e.nice=()=>n(Dz(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function $z(){const t=mI(D0()).domain([1,10]);return t.copy=()=>hm(t,$z()).base(t.base()),$i.apply(t,arguments),t}function _M(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function bM(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function gI(t){var e=1,n=t(_M(e),bM(e));return n.constant=function(r){return arguments.length?t(_M(e=+r),bM(e)):e},Ra(n)}function Lz(){var t=gI(D0());return t.copy=function(){return hm(t,Lz()).constant(t.constant())},$i.apply(t,arguments)}function wM(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function t1e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function n1e(t){return t<0?-t*t:t*t}function yI(t){var e=t(kr,kr),n=1;function r(){return n===1?t(kr,kr):n===.5?t(t1e,n1e):t(wM(n),wM(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Ra(e)}function vI(){var t=yI(D0());return t.copy=function(){return hm(t,vI()).exponent(t.exponent())},$i.apply(t,arguments),t}function r1e(){return vI.apply(null,arguments).exponent(.5)}function xM(t){return Math.sign(t)*t*t}function i1e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Fz(){var t=fI(),e=[0,1],n=!1,r;function i(o){var s=i1e(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(xM(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,bv)).map(xM)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Fz(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},$i.apply(i,arguments),Ra(i)}function Vz(){var t=[],e=[],n=[],r;function i(){var s=0,a=Math.max(1,e.length);for(n=new Array(a-1);++s<a;)n[s-1]=cxe(t,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:e[dm(n,s)]}return o.invertExtent=function(s){var a=e.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(ua),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return Vz().domain(t).range(e).unknown(r)},$i.apply(o,arguments)}function Uz(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[dm(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return Uz().domain([t,e]).range(i).unknown(o)},$i.apply(Ra(s),arguments)}function Bz(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[dm(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return Bz().domain(t).range(e).unknown(n)},$i.apply(i,arguments)}const Iw=new Date,Pw=new Date;function Mn(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let c;do l.push(c=new Date(+o)),e(o,a),t(o);while(c<o&&o<s);return l},i.filter=o=>Mn(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(Iw.setTime(+o),Pw.setTime(+s),t(Iw),t(Pw),Math.floor(n(Iw,Pw))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const Ev=Mn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ev.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Mn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Ev);Ev.range;const ns=1e3,Si=ns*60,rs=Si*60,bs=rs*24,_I=bs*7,EM=bs*30,Ow=bs*365,ll=Mn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ns)},(t,e)=>(e-t)/ns,t=>t.getUTCSeconds());ll.range;const bI=Mn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ns)},(t,e)=>{t.setTime(+t+e*Si)},(t,e)=>(e-t)/Si,t=>t.getMinutes());bI.range;const wI=Mn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Si)},(t,e)=>(e-t)/Si,t=>t.getUTCMinutes());wI.range;const xI=Mn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ns-t.getMinutes()*Si)},(t,e)=>{t.setTime(+t+e*rs)},(t,e)=>(e-t)/rs,t=>t.getHours());xI.range;const EI=Mn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*rs)},(t,e)=>(e-t)/rs,t=>t.getUTCHours());EI.range;const pm=Mn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Si)/bs,t=>t.getDate()-1);pm.range;const $0=Mn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/bs,t=>t.getUTCDate()-1);$0.range;const zz=Mn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/bs,t=>Math.floor(t/bs));zz.range;function tc(t){return Mn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Si)/_I)}const L0=tc(0),Sv=tc(1),o1e=tc(2),s1e=tc(3),Ru=tc(4),a1e=tc(5),l1e=tc(6);L0.range;Sv.range;o1e.range;s1e.range;Ru.range;a1e.range;l1e.range;function nc(t){return Mn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/_I)}const F0=nc(0),Tv=nc(1),c1e=nc(2),u1e=nc(3),ju=nc(4),d1e=nc(5),f1e=nc(6);F0.range;Tv.range;c1e.range;u1e.range;ju.range;d1e.range;f1e.range;const SI=Mn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());SI.range;const TI=Mn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());TI.range;const ws=Mn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ws.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Mn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ws.range;const xs=Mn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());xs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Mn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});xs.range;function Wz(t,e,n,r,i,o){const s=[[ll,1,ns],[ll,5,5*ns],[ll,15,15*ns],[ll,30,30*ns],[o,1,Si],[o,5,5*Si],[o,15,15*Si],[o,30,30*Si],[i,1,rs],[i,3,3*rs],[i,6,6*rs],[i,12,12*rs],[r,1,bs],[r,2,2*bs],[n,1,_I],[e,1,EM],[e,3,3*EM],[t,1,Ow]];function a(c,u,d){const h=u<c;h&&([c,u]=[u,c]);const p=d&&typeof d.range=="function"?d:l(c,u,d),m=p?p.range(c,+u+1):[];return h?m.reverse():m}function l(c,u,d){const h=Math.abs(u-c)/d,p=aI(([,,y])=>y).right(s,h);if(p===s.length)return t.every(LE(c/Ow,u/Ow,d));if(p===0)return Ev.every(Math.max(LE(c,u,d),1));const[m,v]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return m.every(v)}return[a,l]}const[h1e,p1e]=Wz(xs,TI,F0,zz,EI,wI),[m1e,g1e]=Wz(ws,SI,L0,pm,xI,bI);function kw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Nw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Qd(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function y1e(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,c=Yd(i),u=Xd(i),d=Yd(o),h=Xd(o),p=Yd(s),m=Xd(s),v=Yd(a),y=Xd(a),b=Yd(l),g=Xd(l),_={a:U,A:M,b:q,B:N,c:null,d:PM,e:PM,f:V1e,g:Y1e,G:J1e,H:$1e,I:L1e,j:F1e,L:Hz,m:U1e,M:B1e,p:P,q:W,Q:NM,s:RM,S:z1e,u:W1e,U:H1e,V:q1e,w:G1e,W:K1e,x:null,X:null,y:Q1e,Y:X1e,Z:Z1e,"%":kM},w={a:Z,A:se,b:Q,B:ee,c:null,d:OM,e:OM,f:rEe,g:hEe,G:mEe,H:eEe,I:tEe,j:nEe,L:Gz,m:iEe,M:oEe,p:J,q:k,Q:NM,s:RM,S:sEe,u:aEe,U:lEe,V:cEe,w:uEe,W:dEe,x:null,X:null,y:fEe,Y:pEe,Z:gEe,"%":kM},E={a:I,A:D,b:L,B:j,c:B,d:AM,e:AM,f:R1e,g:CM,G:TM,H:IM,I:IM,j:P1e,L:N1e,m:I1e,M:O1e,p:O,q:A1e,Q:M1e,s:D1e,S:k1e,u:x1e,U:E1e,V:S1e,w:w1e,W:T1e,x:Y,X,y:CM,Y:TM,Z:C1e,"%":j1e};_.x=x(n,_),_.X=x(r,_),_.c=x(e,_),w.x=x(n,w),w.X=x(r,w),w.c=x(e,w);function x(A,$){return function(R){var F=[],G=-1,H=0,ae=A.length,de,pe,Se;for(R instanceof Date||(R=new Date(+R));++G<ae;)A.charCodeAt(G)===37&&(F.push(A.slice(H,G)),(pe=SM[de=A.charAt(++G)])!=null?de=A.charAt(++G):pe=de==="e"?" ":"0",(Se=$[de])&&(de=Se(R,pe)),F.push(de),H=G+1);return F.push(A.slice(H,G)),F.join("")}}function T(A,$){return function(R){var F=Qd(1900,void 0,1),G=C(F,A,R+="",0),H,ae;if(G!=R.length)return null;if("Q"in F)return new Date(F.Q);if("s"in F)return new Date(F.s*1e3+("L"in F?F.L:0));if($&&!("Z"in F)&&(F.Z=0),"p"in F&&(F.H=F.H%12+F.p*12),F.m===void 0&&(F.m="q"in F?F.q:0),"V"in F){if(F.V<1||F.V>53)return null;"w"in F||(F.w=1),"Z"in F?(H=Nw(Qd(F.y,0,1)),ae=H.getUTCDay(),H=ae>4||ae===0?Tv.ceil(H):Tv(H),H=$0.offset(H,(F.V-1)*7),F.y=H.getUTCFullYear(),F.m=H.getUTCMonth(),F.d=H.getUTCDate()+(F.w+6)%7):(H=kw(Qd(F.y,0,1)),ae=H.getDay(),H=ae>4||ae===0?Sv.ceil(H):Sv(H),H=pm.offset(H,(F.V-1)*7),F.y=H.getFullYear(),F.m=H.getMonth(),F.d=H.getDate()+(F.w+6)%7)}else("W"in F||"U"in F)&&("w"in F||(F.w="u"in F?F.u%7:"W"in F?1:0),ae="Z"in F?Nw(Qd(F.y,0,1)).getUTCDay():kw(Qd(F.y,0,1)).getDay(),F.m=0,F.d="W"in F?(F.w+6)%7+F.W*7-(ae+5)%7:F.w+F.U*7-(ae+6)%7);return"Z"in F?(F.H+=F.Z/100|0,F.M+=F.Z%100,Nw(F)):kw(F)}}function C(A,$,R,F){for(var G=0,H=$.length,ae=R.length,de,pe;G<H;){if(F>=ae)return-1;if(de=$.charCodeAt(G++),de===37){if(de=$.charAt(G++),pe=E[de in SM?$.charAt(G++):de],!pe||(F=pe(A,R,F))<0)return-1}else if(de!=R.charCodeAt(F++))return-1}return F}function O(A,$,R){var F=c.exec($.slice(R));return F?(A.p=u.get(F[0].toLowerCase()),R+F[0].length):-1}function I(A,$,R){var F=p.exec($.slice(R));return F?(A.w=m.get(F[0].toLowerCase()),R+F[0].length):-1}function D(A,$,R){var F=d.exec($.slice(R));return F?(A.w=h.get(F[0].toLowerCase()),R+F[0].length):-1}function L(A,$,R){var F=b.exec($.slice(R));return F?(A.m=g.get(F[0].toLowerCase()),R+F[0].length):-1}function j(A,$,R){var F=v.exec($.slice(R));return F?(A.m=y.get(F[0].toLowerCase()),R+F[0].length):-1}function B(A,$,R){return C(A,e,$,R)}function Y(A,$,R){return C(A,n,$,R)}function X(A,$,R){return C(A,r,$,R)}function U(A){return s[A.getDay()]}function M(A){return o[A.getDay()]}function q(A){return l[A.getMonth()]}function N(A){return a[A.getMonth()]}function P(A){return i[+(A.getHours()>=12)]}function W(A){return 1+~~(A.getMonth()/3)}function Z(A){return s[A.getUTCDay()]}function se(A){return o[A.getUTCDay()]}function Q(A){return l[A.getUTCMonth()]}function ee(A){return a[A.getUTCMonth()]}function J(A){return i[+(A.getUTCHours()>=12)]}function k(A){return 1+~~(A.getUTCMonth()/3)}return{format:function(A){var $=x(A+="",_);return $.toString=function(){return A},$},parse:function(A){var $=T(A+="",!1);return $.toString=function(){return A},$},utcFormat:function(A){var $=x(A+="",w);return $.toString=function(){return A},$},utcParse:function(A){var $=T(A+="",!0);return $.toString=function(){return A},$}}}var SM={"-":"",_:" ",0:"0"},Qn=/^\s*\d+/,v1e=/^%/,_1e=/[\\^$*+?|[\]().{}]/g;function bt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function b1e(t){return t.replace(_1e,"\\$&")}function Yd(t){return new RegExp("^(?:"+t.map(b1e).join("|")+")","i")}function Xd(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function w1e(t,e,n){var r=Qn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function x1e(t,e,n){var r=Qn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function E1e(t,e,n){var r=Qn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function S1e(t,e,n){var r=Qn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function T1e(t,e,n){var r=Qn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function TM(t,e,n){var r=Qn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function CM(t,e,n){var r=Qn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function C1e(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function A1e(t,e,n){var r=Qn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function I1e(t,e,n){var r=Qn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function AM(t,e,n){var r=Qn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function P1e(t,e,n){var r=Qn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function IM(t,e,n){var r=Qn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function O1e(t,e,n){var r=Qn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function k1e(t,e,n){var r=Qn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function N1e(t,e,n){var r=Qn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function R1e(t,e,n){var r=Qn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function j1e(t,e,n){var r=v1e.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function M1e(t,e,n){var r=Qn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function D1e(t,e,n){var r=Qn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function PM(t,e){return bt(t.getDate(),e,2)}function $1e(t,e){return bt(t.getHours(),e,2)}function L1e(t,e){return bt(t.getHours()%12||12,e,2)}function F1e(t,e){return bt(1+pm.count(ws(t),t),e,3)}function Hz(t,e){return bt(t.getMilliseconds(),e,3)}function V1e(t,e){return Hz(t,e)+"000"}function U1e(t,e){return bt(t.getMonth()+1,e,2)}function B1e(t,e){return bt(t.getMinutes(),e,2)}function z1e(t,e){return bt(t.getSeconds(),e,2)}function W1e(t){var e=t.getDay();return e===0?7:e}function H1e(t,e){return bt(L0.count(ws(t)-1,t),e,2)}function qz(t){var e=t.getDay();return e>=4||e===0?Ru(t):Ru.ceil(t)}function q1e(t,e){return t=qz(t),bt(Ru.count(ws(t),t)+(ws(t).getDay()===4),e,2)}function G1e(t){return t.getDay()}function K1e(t,e){return bt(Sv.count(ws(t)-1,t),e,2)}function Q1e(t,e){return bt(t.getFullYear()%100,e,2)}function Y1e(t,e){return t=qz(t),bt(t.getFullYear()%100,e,2)}function X1e(t,e){return bt(t.getFullYear()%1e4,e,4)}function J1e(t,e){var n=t.getDay();return t=n>=4||n===0?Ru(t):Ru.ceil(t),bt(t.getFullYear()%1e4,e,4)}function Z1e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+bt(e/60|0,"0",2)+bt(e%60,"0",2)}function OM(t,e){return bt(t.getUTCDate(),e,2)}function eEe(t,e){return bt(t.getUTCHours(),e,2)}function tEe(t,e){return bt(t.getUTCHours()%12||12,e,2)}function nEe(t,e){return bt(1+$0.count(xs(t),t),e,3)}function Gz(t,e){return bt(t.getUTCMilliseconds(),e,3)}function rEe(t,e){return Gz(t,e)+"000"}function iEe(t,e){return bt(t.getUTCMonth()+1,e,2)}function oEe(t,e){return bt(t.getUTCMinutes(),e,2)}function sEe(t,e){return bt(t.getUTCSeconds(),e,2)}function aEe(t){var e=t.getUTCDay();return e===0?7:e}function lEe(t,e){return bt(F0.count(xs(t)-1,t),e,2)}function Kz(t){var e=t.getUTCDay();return e>=4||e===0?ju(t):ju.ceil(t)}function cEe(t,e){return t=Kz(t),bt(ju.count(xs(t),t)+(xs(t).getUTCDay()===4),e,2)}function uEe(t){return t.getUTCDay()}function dEe(t,e){return bt(Tv.count(xs(t)-1,t),e,2)}function fEe(t,e){return bt(t.getUTCFullYear()%100,e,2)}function hEe(t,e){return t=Kz(t),bt(t.getUTCFullYear()%100,e,2)}function pEe(t,e){return bt(t.getUTCFullYear()%1e4,e,4)}function mEe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ju(t):ju.ceil(t),bt(t.getUTCFullYear()%1e4,e,4)}function gEe(){return"+0000"}function kM(){return"%"}function NM(t){return+t}function RM(t){return Math.floor(+t/1e3)}var pc,Qz,Yz;yEe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function yEe(t){return pc=y1e(t),Qz=pc.format,pc.parse,Yz=pc.utcFormat,pc.utcParse,pc}function vEe(t){return new Date(t)}function _Ee(t){return t instanceof Date?+t:+new Date(+t)}function CI(t,e,n,r,i,o,s,a,l,c){var u=fI(),d=u.invert,h=u.domain,p=c(".%L"),m=c(":%S"),v=c("%I:%M"),y=c("%I %p"),b=c("%a %d"),g=c("%b %d"),_=c("%B"),w=c("%Y");function E(x){return(l(x)<x?p:a(x)<x?m:s(x)<x?v:o(x)<x?y:r(x)<x?i(x)<x?b:g:n(x)<x?_:w)(x)}return u.invert=function(x){return new Date(d(x))},u.domain=function(x){return arguments.length?h(Array.from(x,_Ee)):h().map(vEe)},u.ticks=function(x){var T=h();return t(T[0],T[T.length-1],x??10)},u.tickFormat=function(x,T){return T==null?E:c(T)},u.nice=function(x){var T=h();return(!x||typeof x.range!="function")&&(x=e(T[0],T[T.length-1],x??10)),x?h(Dz(T,x)):u},u.copy=function(){return hm(u,CI(t,e,n,r,i,o,s,a,l,c))},u}function bEe(){return $i.apply(CI(m1e,g1e,ws,SI,L0,pm,xI,bI,ll,Qz).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function wEe(){return $i.apply(CI(h1e,p1e,xs,TI,F0,$0,EI,wI,ll,Yz).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function V0(){var t=0,e=1,n,r,i,o,s=kr,a=!1,l;function c(d){return d==null||isNaN(d=+d)?l:s(i===0?.5:(d=(o(d)-n)*i,a?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([t,e]=d,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(d){return arguments.length?(a=!!d,c):a},c.interpolator=function(d){return arguments.length?(s=d,c):s};function u(d){return function(h){var p,m;return arguments.length?([p,m]=h,s=d(p,m),c):[s(0),s(1)]}}return c.range=u(gd),c.rangeRound=u(dI),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return o=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),c}}function ja(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Xz(){var t=Ra(V0()(kr));return t.copy=function(){return ja(t,Xz())},Is.apply(t,arguments)}function Jz(){var t=mI(V0()).domain([1,10]);return t.copy=function(){return ja(t,Jz()).base(t.base())},Is.apply(t,arguments)}function Zz(){var t=gI(V0());return t.copy=function(){return ja(t,Zz()).constant(t.constant())},Is.apply(t,arguments)}function AI(){var t=yI(V0());return t.copy=function(){return ja(t,AI()).exponent(t.exponent())},Is.apply(t,arguments)}function xEe(){return AI.apply(null,arguments).exponent(.5)}function e6(){var t=[],e=kr;function n(r){if(r!=null&&!isNaN(r=+r))return e((dm(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ua),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>lxe(t,o/r))},n.copy=function(){return e6(e).domain(t)},Is.apply(n,arguments)}function U0(){var t=0,e=.5,n=1,r=1,i,o,s,a,l,c=kr,u,d=!1,h;function p(v){return isNaN(v=+v)?h:(v=.5+((v=+u(v))-o)*(r*v<r*o?a:l),c(d?Math.max(0,Math.min(1,v)):v))}p.domain=function(v){return arguments.length?([t,e,n]=v,i=u(t=+t),o=u(e=+e),s=u(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,p):[t,e,n]},p.clamp=function(v){return arguments.length?(d=!!v,p):d},p.interpolator=function(v){return arguments.length?(c=v,p):c};function m(v){return function(y){var b,g,_;return arguments.length?([b,g,_]=y,c=jxe(v,[b,g,_]),p):[c(0),c(.5),c(1)]}}return p.range=m(gd),p.rangeRound=m(dI),p.unknown=function(v){return arguments.length?(h=v,p):h},function(v){return u=v,i=v(t),o=v(e),s=v(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,p}}function t6(){var t=Ra(U0()(kr));return t.copy=function(){return ja(t,t6())},Is.apply(t,arguments)}function n6(){var t=mI(U0()).domain([.1,1,10]);return t.copy=function(){return ja(t,n6()).base(t.base())},Is.apply(t,arguments)}function r6(){var t=gI(U0());return t.copy=function(){return ja(t,r6()).constant(t.constant())},Is.apply(t,arguments)}function II(){var t=yI(U0());return t.copy=function(){return ja(t,II()).exponent(t.exponent())},Is.apply(t,arguments)}function EEe(){return II.apply(null,arguments).exponent(.5)}const jM=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Xh,scaleDiverging:t6,scaleDivergingLog:n6,scaleDivergingPow:II,scaleDivergingSqrt:EEe,scaleDivergingSymlog:r6,scaleIdentity:Mz,scaleImplicit:FE,scaleLinear:xv,scaleLog:$z,scaleOrdinal:lI,scalePoint:Gf,scalePow:vI,scaleQuantile:Vz,scaleQuantize:Uz,scaleRadial:Fz,scaleSequential:Xz,scaleSequentialLog:Jz,scaleSequentialPow:AI,scaleSequentialQuantile:e6,scaleSequentialSqrt:xEe,scaleSequentialSymlog:Zz,scaleSqrt:r1e,scaleSymlog:Lz,scaleThreshold:Bz,scaleTime:bEe,scaleUtc:wEe,tickFormat:jz},Symbol.toStringTag,{value:"Module"}));var SEe=ld;function TEe(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],s=e(o);if(s!=null&&(a===void 0?s===s&&!SEe(s):n(s,a)))var a=s,l=o}return l}var i6=TEe;function CEe(t,e){return t>e}var AEe=CEe,IEe=i6,PEe=AEe,OEe=md;function kEe(t){return t&&t.length?IEe(t,OEe,PEe):void 0}var NEe=kEe;const B0=kt(NEe);function REe(t,e){return t<e}var jEe=REe,MEe=i6,DEe=jEe,$Ee=md;function LEe(t){return t&&t.length?MEe(t,$Ee,DEe):void 0}var FEe=LEe;const z0=kt(FEe);var VEe=VA,UEe=Na,BEe=hz,zEe=Qr;function WEe(t,e){var n=zEe(t)?VEe:BEe;return n(t,UEe(e))}var HEe=WEe,qEe=dz,GEe=HEe;function KEe(t,e){return qEe(GEe(t,e),1)}var QEe=KEe;const YEe=kt(QEe);var XEe=nI;function JEe(t,e){return XEe(t,e)}var ZEe=JEe;const PI=kt(ZEe);var yd=1e9,eSe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},kI,Zt=!0,Mi="[DecimalError] ",vl=Mi+"Invalid argument: ",OI=Mi+"Exponent out of range: ",vd=Math.floor,qa=Math.pow,tSe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ni,Fn=1e7,qt=7,o6=9007199254740991,Cv=vd(o6/qt),Ee={};Ee.absoluteValue=Ee.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ee.comparedTo=Ee.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Ee.decimalPlaces=Ee.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*qt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ee.dividedBy=Ee.div=function(t){return ds(this,new this.constructor(t))};Ee.dividedToIntegerBy=Ee.idiv=function(t){var e=this,n=e.constructor;return Dt(ds(e,new n(t),0,1),n.precision)};Ee.equals=Ee.eq=function(t){return!this.cmp(t)};Ee.exponent=function(){return xn(this)};Ee.greaterThan=Ee.gt=function(t){return this.cmp(t)>0};Ee.greaterThanOrEqualTo=Ee.gte=function(t){return this.cmp(t)>=0};Ee.isInteger=Ee.isint=function(){return this.e>this.d.length-2};Ee.isNegative=Ee.isneg=function(){return this.s<0};Ee.isPositive=Ee.ispos=function(){return this.s>0};Ee.isZero=function(){return this.s===0};Ee.lessThan=Ee.lt=function(t){return this.cmp(t)<0};Ee.lessThanOrEqualTo=Ee.lte=function(t){return this.cmp(t)<1};Ee.logarithm=Ee.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(ni))throw Error(Mi+"NaN");if(n.s<1)throw Error(Mi+(n.s?"NaN":"-Infinity"));return n.eq(ni)?new r(0):(Zt=!1,e=ds(np(n,o),np(t,o),o),Zt=!0,Dt(e,i))};Ee.minus=Ee.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?l6(e,t):s6(e,(t.s=-t.s,t))};Ee.modulo=Ee.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Mi+"NaN");return n.s?(Zt=!1,e=ds(n,t,0,1).times(t),Zt=!0,n.minus(e)):Dt(new r(n),i)};Ee.naturalExponential=Ee.exp=function(){return a6(this)};Ee.naturalLogarithm=Ee.ln=function(){return np(this)};Ee.negated=Ee.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ee.plus=Ee.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?s6(e,t):l6(e,(t.s=-t.s,t))};Ee.precision=Ee.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(vl+t);if(e=xn(i)+1,r=i.d.length-1,n=r*qt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ee.squareRoot=Ee.sqrt=function(){var t,e,n,r,i,o,s,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(Mi+"NaN")}for(t=xn(a),Zt=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=To(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=vd((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(o=r,r=o.plus(ds(a,o,s+2)).times(.5),To(o.d).slice(0,s)===(e=To(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Dt(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(e!="9999")break;s+=4}return Zt=!0,Dt(r,n)};Ee.times=Ee.mul=function(t){var e,n,r,i,o,s,a,l,c,u=this,d=u.constructor,h=u.d,p=(t=new d(t)).d;if(!u.s||!t.s)return new d(0);for(t.s*=u.s,n=u.e+t.e,l=h.length,c=p.length,l<c&&(o=h,h=p,p=o,s=l,l=c,c=s),o=[],s=l+c,r=s;r--;)o.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)a=o[i]+p[r]*h[i-r-1]+e,o[i--]=a%Fn|0,e=a/Fn|0;o[i]=(o[i]+e)%Fn|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Zt?Dt(t,d.precision):t};Ee.toDecimalPlaces=Ee.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:($o(t,0,yd),e===void 0?e=r.rounding:$o(e,0,8),Dt(n,t+xn(n)+1,e))};Ee.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Bl(r,!0):($o(t,0,yd),e===void 0?e=i.rounding:$o(e,0,8),r=Dt(new i(r),t+1,e),n=Bl(r,!0,t+1)),n};Ee.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Bl(i):($o(t,0,yd),e===void 0?e=o.rounding:$o(e,0,8),r=Dt(new o(i),t+xn(i)+1,e),n=Bl(r.abs(),!1,t+xn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ee.toInteger=Ee.toint=function(){var t=this,e=t.constructor;return Dt(new e(t),xn(t)+1,e.rounding)};Ee.toNumber=function(){return+this};Ee.toPower=Ee.pow=function(t){var e,n,r,i,o,s,a=this,l=a.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(ni);if(a=new l(a),!a.s){if(t.s<1)throw Error(Mi+"Infinity");return a}if(a.eq(ni))return a;if(r=l.precision,t.eq(ni))return Dt(a,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=a.s,s){if((n=u<0?-u:u)<=o6){for(i=new l(ni),e=Math.ceil(r/qt+4),Zt=!1;n%2&&(i=i.times(a),DM(i.d,e)),n=vd(n/2),n!==0;)a=a.times(a),DM(a.d,e);return Zt=!0,t.s<0?new l(ni).div(i):Dt(i,r)}}else if(o<0)throw Error(Mi+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,Zt=!1,i=t.times(np(a,r+c)),Zt=!0,i=a6(i),i.s=o,i};Ee.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=xn(i),r=Bl(i,n<=o.toExpNeg||n>=o.toExpPos)):($o(t,1,yd),e===void 0?e=o.rounding:$o(e,0,8),i=Dt(new o(i),t,e),n=xn(i),r=Bl(i,t<=n||n<=o.toExpNeg,t)),r};Ee.toSignificantDigits=Ee.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):($o(t,1,yd),e===void 0?e=r.rounding:$o(e,0,8)),Dt(new r(n),t,e)};Ee.toString=Ee.valueOf=Ee.val=Ee.toJSON=Ee[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=xn(t),n=t.constructor;return Bl(t,e<=n.toExpNeg||e>=n.toExpPos)};function s6(t,e){var n,r,i,o,s,a,l,c,u=t.constructor,d=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),Zt?Dt(e,d):e;if(l=t.d,c=e.d,s=t.e,i=e.e,l=l.slice(),o=s-i,o){for(o<0?(r=l,o=-o,a=c.length):(r=c,i=s,a=l.length),s=Math.ceil(d/qt),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=l.length,o=c.length,a-o<0&&(o=a,r=c,c=l,l=r),n=0;o;)n=(l[--o]=l[o]+c[o]+n)/Fn|0,l[o]%=Fn;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,Zt?Dt(e,d):e}function $o(t,e,n){if(t!==~~t||t<e||t>n)throw Error(vl+t)}function To(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=qt-r.length,n&&(o+=$s(n)),o+=r;s=t[e],r=s+"",n=qt-r.length,n&&(o+=$s(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var ds=function(){function t(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%Fn|0,s=o/Fn|0;return s&&r.unshift(s),r}function e(r,i,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*Fn+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,l,c,u,d,h,p,m,v,y,b,g,_,w,E,x,T,C,O=r.constructor,I=r.s==i.s?1:-1,D=r.d,L=i.d;if(!r.s)return new O(r);if(!i.s)throw Error(Mi+"Division by zero");for(l=r.e-i.e,T=L.length,E=D.length,p=new O(I),m=p.d=[],c=0;L[c]==(D[c]||0);)++c;if(L[c]>(D[c]||0)&&--l,o==null?g=o=O.precision:s?g=o+(xn(r)-xn(i))+1:g=o,g<0)return new O(0);if(g=g/qt+2|0,c=0,T==1)for(u=0,L=L[0],g++;(c<E||u)&&g--;c++)_=u*Fn+(D[c]||0),m[c]=_/L|0,u=_%L|0;else{for(u=Fn/(L[0]+1)|0,u>1&&(L=t(L,u),D=t(D,u),T=L.length,E=D.length),w=T,v=D.slice(0,T),y=v.length;y<T;)v[y++]=0;C=L.slice(),C.unshift(0),x=L[0],L[1]>=Fn/2&&++x;do u=0,a=e(L,v,T,y),a<0?(b=v[0],T!=y&&(b=b*Fn+(v[1]||0)),u=b/x|0,u>1?(u>=Fn&&(u=Fn-1),d=t(L,u),h=d.length,y=v.length,a=e(d,v,h,y),a==1&&(u--,n(d,T<h?C:L,h))):(u==0&&(a=u=1),d=L.slice()),h=d.length,h<y&&d.unshift(0),n(v,d,y),a==-1&&(y=v.length,a=e(L,v,T,y),a<1&&(u++,n(v,T<y?C:L,y))),y=v.length):a===0&&(u++,v=[0]),m[c++]=u,a&&v[0]?v[y++]=D[w]||0:(v=[D[w]],y=1);while((w++<E||v[0]!==void 0)&&g--)}return m[0]||m.shift(),p.e=l,Dt(p,s?o+xn(p)+1:o)}}();function a6(t,e){var n,r,i,o,s,a,l=0,c=0,u=t.constructor,d=u.precision;if(xn(t)>16)throw Error(OI+xn(t));if(!t.s)return new u(ni);for(e==null?(Zt=!1,a=d):a=e,s=new u(.03125);t.abs().gte(.1);)t=t.times(s),c+=5;for(r=Math.log(qa(2,c))/Math.LN10*2+5|0,a+=r,n=i=o=new u(ni),u.precision=a;;){if(i=Dt(i.times(t),a),n=n.times(++l),s=o.plus(ds(i,n,a)),To(s.d).slice(0,a)===To(o.d).slice(0,a)){for(;c--;)o=Dt(o.times(o),a);return u.precision=d,e==null?(Zt=!0,Dt(o,d)):o}o=s}}function xn(t){for(var e=t.e*qt,n=t.d[0];n>=10;n/=10)e++;return e}function Rw(t,e,n){if(e>t.LN10.sd())throw Zt=!0,n&&(t.precision=n),Error(Mi+"LN10 precision limit exceeded");return Dt(new t(t.LN10),e)}function $s(t){for(var e="";t--;)e+="0";return e}function np(t,e){var n,r,i,o,s,a,l,c,u,d=1,h=10,p=t,m=p.d,v=p.constructor,y=v.precision;if(p.s<1)throw Error(Mi+(p.s?"NaN":"-Infinity"));if(p.eq(ni))return new v(0);if(e==null?(Zt=!1,c=y):c=e,p.eq(10))return e==null&&(Zt=!0),Rw(v,c);if(c+=h,v.precision=c,n=To(m),r=n.charAt(0),o=xn(p),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=To(p.d),r=n.charAt(0),d++;o=xn(p),r>1?(p=new v("0."+n),o++):p=new v(r+"."+n.slice(1))}else return l=Rw(v,c+2,y).times(o+""),p=np(new v(r+"."+n.slice(1)),c-h).plus(l),v.precision=y,e==null?(Zt=!0,Dt(p,y)):p;for(a=s=p=ds(p.minus(ni),p.plus(ni),c),u=Dt(p.times(p),c),i=3;;){if(s=Dt(s.times(u),c),l=a.plus(ds(s,new v(i),c)),To(l.d).slice(0,c)===To(a.d).slice(0,c))return a=a.times(2),o!==0&&(a=a.plus(Rw(v,c+2,y).times(o+""))),a=ds(a,new v(d),c),v.precision=y,e==null?(Zt=!0,Dt(a,y)):a;a=l,i+=2}}function MM(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=vd(n/qt),t.d=[],r=(n+1)%qt,n<0&&(r+=qt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=qt;r<i;)t.d.push(+e.slice(r,r+=qt));e=e.slice(r),r=qt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Zt&&(t.e>Cv||t.e<-Cv))throw Error(OI+n)}else t.s=0,t.e=0,t.d=[0];return t}function Dt(t,e,n){var r,i,o,s,a,l,c,u,d=t.d;for(s=1,o=d[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=qt,i=e,c=d[u=0];else{if(u=Math.ceil((r+1)/qt),o=d.length,u>=o)return t;for(c=o=d[u],s=1;o>=10;o/=10)s++;r%=qt,i=r-qt+s}if(n!==void 0&&(o=qa(10,s-i-1),a=c/o%10|0,l=e<0||d[u+1]!==void 0||c%o,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?c/qa(10,s-i):0:d[u-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(o=xn(t),d.length=1,e=e-o-1,d[0]=qa(10,(qt-e%qt)%qt),t.e=vd(-e/qt)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=u,o=1,u--):(d.length=u+1,o=qa(10,qt-r),d[u]=i>0?(c/qa(10,s-i)%qa(10,i)|0)*o:0),l)for(;;)if(u==0){(d[0]+=o)==Fn&&(d[0]=1,++t.e);break}else{if(d[u]+=o,d[u]!=Fn)break;d[u--]=0,o=1}for(r=d.length;d[--r]===0;)d.pop();if(Zt&&(t.e>Cv||t.e<-Cv))throw Error(OI+xn(t));return t}function l6(t,e){var n,r,i,o,s,a,l,c,u,d,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Zt?Dt(e,p):e;if(l=t.d,d=e.d,r=e.e,c=t.e,l=l.slice(),s=c-r,s){for(u=s<0,u?(n=l,s=-s,a=d.length):(n=d,r=c,a=l.length),i=Math.max(Math.ceil(p/qt),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=d.length,u=i<a,u&&(a=i),i=0;i<a;i++)if(l[i]!=d[i]){u=l[i]<d[i];break}s=0}for(u&&(n=l,l=d,d=n,e.s=-e.s),a=l.length,i=d.length-a;i>0;--i)l[a++]=0;for(i=d.length;i>s;){if(l[--i]<d[i]){for(o=i;o&&l[--o]===0;)l[o]=Fn-1;--l[o],l[i]+=Fn}l[i]-=d[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Zt?Dt(e,p):e):new h(0)}function Bl(t,e,n){var r,i=xn(t),o=To(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+$s(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+$s(-i-1)+o,n&&(r=n-s)>0&&(o+=$s(r))):i>=s?(o+=$s(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+$s(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=$s(r))),t.s<0?"-"+o:o}function DM(t,e){if(t.length>e)return t.length=e,!0}function c6(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(vl+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return MM(s,o.toString())}else if(typeof o!="string")throw Error(vl+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,tSe.test(o))MM(s,o);else throw Error(vl+o)}if(i.prototype=Ee,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=c6,i.config=i.set=nSe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function nSe(t){if(!t||typeof t!="object")throw Error(Mi+"Object expected");var e,n,r,i=["precision",1,yd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(vd(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(vl+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(vl+n+": "+r);return this}var kI=c6(eSe);ni=new kI(1);const jt=kI;function rSe(t){return aSe(t)||sSe(t)||oSe(t)||iSe()}function iSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oSe(t,e){if(t){if(typeof t=="string")return zE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zE(t,e)}}function sSe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function aSe(t){if(Array.isArray(t))return zE(t)}function zE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var lSe=function(e){return e},u6={"@@functional/placeholder":!0},d6=function(e){return e===u6},$M=function(e){return function n(){return arguments.length===0||arguments.length===1&&d6(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},cSe=function t(e,n){return e===1?n:$M(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(a){return a!==u6}).length;return s>=e?n.apply(void 0,i):t(e-s,$M(function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var u=i.map(function(d){return d6(d)?l.shift():d});return n.apply(void 0,rSe(u).concat(l))}))})},W0=function(e){return cSe(e.length,e)},WE=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},uSe=W0(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),dSe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return lSe;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(a,l){return l(a)},o.apply(void 0,arguments))}},HE=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},f6=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n&&o.every(function(a,l){return a===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function fSe(t){var e;return t===0?e=1:e=Math.floor(new jt(t).abs().log(10).toNumber())+1,e}function hSe(t,e,n){for(var r=new jt(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var pSe=W0(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),mSe=W0(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),gSe=W0(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const H0={rangeStep:hSe,getDigitCount:fSe,interpolateNumber:pSe,uninterpolateNumber:mSe,uninterpolateTruncation:gSe};function qE(t){return _Se(t)||vSe(t)||h6(t)||ySe()}function ySe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vSe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function _Se(t){if(Array.isArray(t))return GE(t)}function rp(t,e){return xSe(t)||wSe(t,e)||h6(t,e)||bSe()}function bSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h6(t,e){if(t){if(typeof t=="string")return GE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GE(t,e)}}function GE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wSe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function xSe(t){if(Array.isArray(t))return t}function p6(t){var e=rp(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function m6(t,e,n){if(t.lte(0))return new jt(0);var r=H0.getDigitCount(t.toNumber()),i=new jt(10).pow(r),o=t.div(i),s=r!==1?.05:.1,a=new jt(Math.ceil(o.div(s).toNumber())).add(n).mul(s),l=a.mul(i);return e?l:new jt(Math.ceil(l))}function ESe(t,e,n){var r=1,i=new jt(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new jt(10).pow(H0.getDigitCount(t)-1),i=new jt(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new jt(Math.floor(t)))}else t===0?i=new jt(Math.floor((e-1)/2)):n||(i=new jt(Math.floor(t)));var s=Math.floor((e-1)/2),a=dSe(uSe(function(l){return i.add(new jt(l-s).mul(r)).toNumber()}),WE);return a(0,e)}function g6(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new jt(0),tickMin:new jt(0),tickMax:new jt(0)};var o=m6(new jt(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new jt(0):(s=new jt(t).add(e).div(2),s=s.sub(new jt(s).mod(o)));var a=Math.ceil(s.sub(t).div(o).toNumber()),l=Math.ceil(new jt(e).sub(s).div(o).toNumber()),c=a+l+1;return c>n?g6(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,a=e>0?a:a+(n-c)),{step:o,tickMin:s.sub(new jt(a).mul(o)),tickMax:s.add(new jt(l).mul(o))})}function SSe(t){var e=rp(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),a=p6([n,r]),l=rp(a,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var d=u===1/0?[c].concat(qE(WE(0,i-1).map(function(){return 1/0}))):[].concat(qE(WE(0,i-1).map(function(){return-1/0})),[u]);return n>r?HE(d):d}if(c===u)return ESe(c,i,o);var h=g6(c,u,s,o),p=h.step,m=h.tickMin,v=h.tickMax,y=H0.rangeStep(m,v.add(new jt(.1).mul(p)),p);return n>r?HE(y):y}function TSe(t,e){var n=rp(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=p6([r,i]),a=rp(s,2),l=a[0],c=a[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var u=Math.max(e,2),d=m6(new jt(c).sub(l).div(u-1),o,0),h=[].concat(qE(H0.rangeStep(new jt(l),new jt(c).sub(new jt(.99).mul(d)),d)),[c]);return r>i?HE(h):h}var CSe=f6(SSe),ASe=f6(TSe),ISe="Invariant failed";function zl(t,e){if(!t)throw new Error(ISe)}var PSe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Av(){return Av=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Av.apply(this,arguments)}function OSe(t,e){return jSe(t)||RSe(t,e)||NSe(t,e)||kSe()}function kSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NSe(t,e){if(t){if(typeof t=="string")return LM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LM(t,e)}}function LM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function RSe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function jSe(t){if(Array.isArray(t))return t}function MSe(t,e){if(t==null)return{};var n=DSe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function DSe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function q0(t){var e=t.offset,n=t.layout,r=t.width,i=t.dataKey,o=t.data,s=t.dataPointFormatter,a=t.xAxis,l=t.yAxis,c=MSe(t,PSe),u=St(c,!1);t.direction==="x"&&a.type!=="number"&&zl(!1);var d=o.map(function(h){var p=s(h,i),m=p.x,v=p.y,y=p.value,b=p.errorVal;if(!b)return null;var g=[],_,w;if(Array.isArray(b)){var E=OSe(b,2);_=E[0],w=E[1]}else _=w=b;if(n==="vertical"){var x=a.scale,T=v+e,C=T+r,O=T-r,I=x(y-_),D=x(y+w);g.push({x1:D,y1:C,x2:D,y2:O}),g.push({x1:I,y1:T,x2:D,y2:T}),g.push({x1:I,y1:C,x2:I,y2:O})}else if(n==="horizontal"){var L=l.scale,j=m+e,B=j-r,Y=j+r,X=L(y-_),U=L(y+w);g.push({x1:B,y1:U,x2:Y,y2:U}),g.push({x1:j,y1:X,x2:j,y2:U}),g.push({x1:B,y1:X,x2:Y,y2:X})}return V.createElement(Wn,Av({className:"recharts-errorBar",key:"bar-".concat(g.map(function(M){return"".concat(M.x1,"-").concat(M.x2,"-").concat(M.y1,"-").concat(M.y2)}))},u),g.map(function(M){return V.createElement("line",Av({},M,{key:"line-".concat(M.x1,"-").concat(M.x2,"-").concat(M.y1,"-").concat(M.y2)}))}))});return V.createElement(Wn,{className:"recharts-errorBars"},d)}q0.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"};q0.displayName="ErrorBar";function ip(t){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ip(t)}function FM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FM(Object(n),!0).forEach(function(r){$Se(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $Se(t,e,n){return e=LSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LSe(t){var e=FSe(t,"string");return ip(e)=="symbol"?e:String(e)}function FSe(t,e){if(ip(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ip(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var y6=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=ti(n,Hh);if(!s)return null;var a;return s.props&&s.props.payload?a=s.props&&s.props.payload:o==="children"?a=(r||[]).reduce(function(l,c){var u=c.item,d=c.props,h=d.sectors||d.data||[];return l.concat(h.map(function(p){return{type:s.props.iconType||u.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):a=(r||[]).map(function(l){var c=l.item,u=c.props,d=u.dataKey,h=u.name,p=u.legendType,m=u.hide;return{inactive:m,dataKey:d,type:s.props.iconType||p||"square",color:NI(c),value:h||d,payload:c.props}}),jw(jw(jw({},s.props),Hh.getWithHeight(s,i)),{},{payload:a,item:s})};function op(t){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},op(t)}function VM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VM(Object(n),!0).forEach(function(r){tu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tu(t,e,n){return e=VSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VSe(t){var e=USe(t,"string");return op(e)=="symbol"?e:String(e)}function USe(t,e){if(op(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(op(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UM(t){return HSe(t)||WSe(t)||zSe(t)||BSe()}function BSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zSe(t,e){if(t){if(typeof t=="string")return KE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KE(t,e)}}function WSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function HSe(t){if(Array.isArray(t))return KE(t)}function KE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lo(t,e,n){return At(t)||At(e)?n:Nn(e)?Ii(t,e,n):ct(e)?e(t):n}function Kf(t,e,n,r){var i=YEe(t,function(a){return Lo(a,e)});if(n==="number"){var o=i.filter(function(a){return he(a)||parseFloat(a)});return o.length?[z0(o),B0(o)]:[1/0,-1/0]}var s=r?i.filter(function(a){return!At(a)}):i;return s.map(function(a){return Nn(a)||a instanceof Date?a:""})}var qSe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,c=0;c<a;c++){var u=c>0?i[c-1].coordinate:i[a-1].coordinate,d=i[c].coordinate,h=c>=a-1?i[0].coordinate:i[c+1].coordinate,p=void 0;if(Ji(d-u)!==Ji(h-d)){var m=[];if(Ji(h-d)===Ji(l[1]-l[0])){p=h;var v=d+l[1]-l[0];m[0]=Math.min(v,(v+u)/2),m[1]=Math.max(v,(v+u)/2)}else{p=u;var y=h+l[1]-l[0];m[0]=Math.min(d,(y+d)/2),m[1]=Math.max(d,(y+d)/2)}var b=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(e>b[0]&&e<=b[1]||e>=m[0]&&e<=m[1]){s=i[c].index;break}}else{var g=Math.min(u,h),_=Math.max(u,h);if(e>(g+d)/2&&e<=(_+d)/2){s=i[c].index;break}}}else for(var w=0;w<a;w++)if(w===0&&e<=(r[w].coordinate+r[w+1].coordinate)/2||w>0&&w<a-1&&e>(r[w].coordinate+r[w-1].coordinate)/2&&e<=(r[w].coordinate+r[w+1].coordinate)/2||w===a-1&&e>(r[w].coordinate+r[w-1].coordinate)/2){s=r[w].index;break}return s},NI=function(e){var n=e,r=n.type.displayName,i=e.props,o=i.stroke,s=i.fill,a;switch(r){case"Line":a=o;break;case"Area":case"Radar":a=o&&o!=="none"?o:s;break;default:a=s;break}return a},GSe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},a=Object.keys(o),l=0,c=a.length;l<c;l++)for(var u=o[a[l]].stackGroups,d=Object.keys(u),h=0,p=d.length;h<p;h++){var m=u[d[h]],v=m.items,y=m.cateAxisId,b=v.filter(function(E){return cs(E.type).indexOf("Bar")>=0});if(b&&b.length){var g=b[0].props.barSize,_=b[0].props[y];s[_]||(s[_]=[]);var w=At(g)?n:g;s[_].push({item:b[0],stackList:b.slice(1),barSize:At(w)?void 0:Ul(w,r,0)})}}return s},KSe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,a=e.maxBarSize,l=s.length;if(l<1)return null;var c=Ul(n,i,0,!0),u,d=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=i/l,m=s.reduce(function(w,E){return w+E.barSize||0},0);m+=(l-1)*c,m>=i&&(m-=(l-1)*c,c=0),m>=i&&p>0&&(h=!0,p*=.9,m=l*p);var v=(i-m)/2>>0,y={offset:v-c,size:0};u=s.reduce(function(w,E){var x={item:E.item,position:{offset:y.offset+y.size+c,size:h?p:E.barSize}},T=[].concat(UM(w),[x]);return y=T[T.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(C){T.push({item:C,position:y})}),T},d)}else{var b=Ul(r,i,0,!0);i-2*b-(l-1)*c<=0&&(c=0);var g=(i-2*b-(l-1)*c)/l;g>1&&(g>>=0);var _=a===+a?Math.min(g,a):g;u=s.reduce(function(w,E,x){var T=[].concat(UM(w),[{item:E.item,position:{offset:b+(g+c)*x+(g-_)/2,size:_}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(C){T.push({item:C,position:T[T.length-1].position})}),T},d)}return u},QSe=function(e,n,r,i){var o=r.children,s=r.width,a=r.margin,l=s-(a.left||0)-(a.right||0),c=y6({children:o,legendWidth:l});if(c){var u=i||{},d=u.width,h=u.height,p=c.align,m=c.verticalAlign,v=c.layout;if((v==="vertical"||v==="horizontal"&&m==="middle")&&p!=="center"&&he(e[p]))return bi(bi({},e),{},tu({},p,e[p]+(d||0)));if((v==="horizontal"||v==="vertical"&&p==="center")&&m!=="middle"&&he(e[m]))return bi(bi({},e),{},tu({},m,e[m]+(h||0)))}return e},YSe=function(e,n,r){return At(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},v6=function(e,n,r,i,o){var s=n.props.children,a=io(s,q0).filter(function(c){return YSe(i,o,c.props.direction)});if(a&&a.length){var l=a.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var d=Lo(u,r);if(At(d))return c;var h=Array.isArray(d)?[z0(d),B0(d)]:[d,d],p=l.reduce(function(m,v){var y=Lo(u,v,0),b=h[0]-Math.abs(Array.isArray(y)?y[0]:y),g=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(b,m[0]),Math.max(g,m[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},XSe=function(e,n,r,i,o){var s=n.map(function(a){return v6(e,a,r,o,i)}).filter(function(a){return!At(a)});return s&&s.length?s.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},_6=function(e,n,r,i,o){var s=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&v6(e,l,c,i)||Kf(e,c,r,o)});if(r==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var a={};return s.reduce(function(l,c){for(var u=0,d=c.length;u<d;u++)a[c[u]]||(a[c[u]]=!0,l.push(c[u]));return l},[])},b6=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},w6=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,s,a=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(s=!0),l.coordinate});return o||a.push(n),s||a.push(r),a},is=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?Ji(a[0]-a[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(d){var h=o?o.indexOf(d):d;return{coordinate:i(h)+c,value:d,offset:c}});return u.filter(function(d){return!cm(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,h){return{coordinate:i(d)+c,value:d,index:h,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+c,value:d,offset:c}}):i.domain().map(function(d,h){return{coordinate:i(d)+c,value:o?o[d]:d,index:h,offset:c}})},Mw=new WeakMap,ag=function(e,n){if(typeof n!="function")return e;Mw.has(e)||Mw.set(e,new WeakMap);var r=Mw.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},JSe=function(e,n,r){var i=e.scale,o=e.type,s=e.layout,a=e.axisType;if(i==="auto")return s==="radial"&&a==="radiusAxis"?{scale:Xh(),realScaleType:"band"}:s==="radial"&&a==="angleAxis"?{scale:xv(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Gf(),realScaleType:"point"}:o==="category"?{scale:Xh(),realScaleType:"band"}:{scale:xv(),realScaleType:"linear"};if(lm(i)){var l="scale".concat(P0(i));return{scale:(jM[l]||Gf)(),realScaleType:jM[l]?l:"point"}}return ct(i)?{scale:i}:{scale:Gf(),realScaleType:"point"}},BM=1e-4,ZSe=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-BM,s=Math.max(i[0],i[1])+BM,a=e(n[0]),l=e(n[r-1]);(a<o||a>s||l<o||l>s)&&e.domain([n[0],n[r-1]])}},eTe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},tTe=function(e,n){if(!n||n.length!==2||!he(n[0])||!he(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!he(e[0])||e[0]<r)&&(o[0]=r),(!he(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},nTe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0,a=0;a<n;++a){var l=cm(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1]):(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1])}},rTe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0;s<n;++s){var a=cm(e[s][r][1])?e[s][r][0]:e[s][r][1];a>=0?(e[s][r][0]=o,e[s][r][1]=o+a,o=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},iTe={sign:nTe,expand:khe,none:Au,silhouette:Nhe,wiggle:Rhe,positive:rTe},oTe=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),o=iTe[r],s=Ohe().keys(i).value(function(a,l){return+Lo(a,l,0)}).order(_E).offset(o);return s(e)},sTe=function(e,n,r,i,o,s){if(!e)return null;var a=s?n.reverse():n,l={},c=a.reduce(function(d,h){var p=h.props,m=p.stackId,v=p.hide;if(v)return d;var y=h.props[r],b=d[y]||{hasStack:!1,stackGroups:{}};if(Nn(m)){var g=b.stackGroups[m]||{numericAxisId:r,cateAxisId:i,items:[]};g.items.push(h),b.hasStack=!0,b.stackGroups[m]=g}else b.stackGroups[I0("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return bi(bi({},d),{},tu({},y,b))},l),u={};return Object.keys(c).reduce(function(d,h){var p=c[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(v,y){var b=p.stackGroups[y];return bi(bi({},v),{},tu({},y,{numericAxisId:r,cateAxisId:i,items:b.items,stackedData:oTe(e,b.items,o)}))},m)}return bi(bi({},d),{},tu({},h,p))},u)},aTe=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,s=n.originalDomain,a=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=CSe(c,o,a);return e.domain([z0(u),B0(u)]),{niceTicks:u}}if(o&&i==="number"){var d=e.domain(),h=ASe(d,o,a);return{niceTicks:h}}return null},zM=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,a=e.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var l=Lo(s,n.dataKey,n.domain[a]);return At(l)?null:n.scale(l)-o/2+i},lTe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},cTe=function(e,n){var r=e.props.stackId;if(Nn(r)){var i=n[r];if(i){var o=i.items.indexOf(e);return o>=0?i.stackedData[o]:null}}return null},uTe=function(e){return e.reduce(function(n,r){return[z0(r.concat([n[0]]).filter(he)),B0(r.concat([n[1]]).filter(he))]},[1/0,-1/0])},x6=function(e,n,r){return Object.keys(e).reduce(function(i,o){var s=e[o],a=s.stackedData,l=a.reduce(function(c,u){var d=uTe(u.slice(n,r+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},WM=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,HM=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,QE=function(e,n,r){if(ct(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(he(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(WM.test(e[0])){var o=+WM.exec(e[0])[1];i[0]=n[0]-o}else ct(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(he(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(HM.test(e[1])){var s=+HM.exec(e[1])[1];i[1]=n[1]+s}else ct(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Iv=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=iI(n,function(d){return d.coordinate}),s=1/0,a=1,l=o.length;a<l;a++){var c=o[a],u=o[a-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},qM=function(e,n,r){return!e||!e.length||PI(e,Ii(r,"type.defaultProps.domain"))?n:e},E6=function(e,n){var r=e.props,i=r.dataKey,o=r.name,s=r.unit,a=r.formatter,l=r.tooltipType,c=r.chartType,u=r.hide;return bi(bi({},St(e,!1)),{},{dataKey:i,unit:s,formatter:a,name:o||i,color:NI(e),value:Lo(n,i),type:l,payload:n,chartType:c,hide:u})};function sp(t){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sp(t)}function GM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GM(Object(n),!0).forEach(function(r){dTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dTe(t,e,n){return e=fTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fTe(t){var e=hTe(t,"string");return sp(e)=="symbol"?e:String(e)}function hTe(t,e){if(sp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(sp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pv=Math.PI/180,pTe=function(e){return e*180/Math.PI},nr=function(e,n,r,i){return{x:e+Math.cos(-Pv*i)*r,y:n+Math.sin(-Pv*i)*r}},mTe=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-s,2))},gTe=function(e,n){var r=e.x,i=e.y,o=n.cx,s=n.cy,a=mTe({x:r,y:i},{x:o,y:s});if(a<=0)return{radius:a};var l=(r-o)/a,c=Math.acos(l);return i>s&&(c=2*Math.PI-c),{radius:a,angle:pTe(c),angleInRadian:c}},yTe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return{startAngle:n-s*360,endAngle:r-s*360}},vTe=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),s=Math.floor(i/360),a=Math.min(o,s);return e+a*360},QM=function(e,n){var r=e.x,i=e.y,o=gTe({x:r,y:i},n),s=o.radius,a=o.angle,l=n.innerRadius,c=n.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var u=yTe(n),d=u.startAngle,h=u.endAngle,p=a,m;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;m=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=d}return m?KM(KM({},n),{},{radius:s,angle:vTe(p,n)}):null};function ap(t){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ap(t)}var _Te=["offset"];function bTe(t){return STe(t)||ETe(t)||xTe(t)||wTe()}function wTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xTe(t,e){if(t){if(typeof t=="string")return YE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YE(t,e)}}function ETe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function STe(t){if(Array.isArray(t))return YE(t)}function YE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function TTe(t,e){if(t==null)return{};var n=CTe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function CTe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function YM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function In(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YM(Object(n),!0).forEach(function(r){ATe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ATe(t,e,n){return e=ITe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ITe(t){var e=PTe(t,"string");return ap(e)=="symbol"?e:String(e)}function PTe(t,e){if(ap(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ap(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lp(){return lp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lp.apply(this,arguments)}var OTe=function(e){var n=e.value,r=e.formatter,i=At(e.children)?n:e.children;return ct(r)?r(i):i},kTe=function(e,n){var r=Ji(n-e),i=Math.min(Math.abs(n-e),360);return r*i},NTe=function(e,n,r){var i=e.position,o=e.viewBox,s=e.offset,a=e.className,l=o,c=l.cx,u=l.cy,d=l.innerRadius,h=l.outerRadius,p=l.startAngle,m=l.endAngle,v=l.clockWise,y=(d+h)/2,b=kTe(p,m),g=b>=0?1:-1,_,w;i==="insideStart"?(_=p+g*s,w=v):i==="insideEnd"?(_=m-g*s,w=!v):i==="end"&&(_=m+g*s,w=v),w=b<=0?w:!w;var E=nr(c,u,y,_),x=nr(c,u,y,_+(w?1:-1)*359),T="M".concat(E.x,",").concat(E.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(w?0:1,`,
    `).concat(x.x,",").concat(x.y),C=At(e.id)?I0("recharts-radial-line-"):e.id;return V.createElement("text",lp({},r,{dominantBaseline:"central",className:It("recharts-radial-bar-label",a)}),V.createElement("defs",null,V.createElement("path",{id:C,d:T})),V.createElement("textPath",{xlinkHref:"#".concat(C)},n))},RTe=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,s=o.cx,a=o.cy,l=o.innerRadius,c=o.outerRadius,u=o.startAngle,d=o.endAngle,h=(u+d)/2;if(i==="outside"){var p=nr(s,a,c+r,h),m=p.x,v=p.y;return{x:m,y:v,textAnchor:m>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var y=(l+c)/2,b=nr(s,a,y,h),g=b.x,_=b.y;return{x:g,y:_,textAnchor:"middle",verticalAnchor:"middle"}},jTe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,s=n,a=s.x,l=s.y,c=s.width,u=s.height,d=u>=0?1:-1,h=d*i,p=d>0?"end":"start",m=d>0?"start":"end",v=c>=0?1:-1,y=v*i,b=v>0?"end":"start",g=v>0?"start":"end";if(o==="top"){var _={x:a+c/2,y:l-d*i,textAnchor:"middle",verticalAnchor:p};return In(In({},_),r?{height:Math.max(l-r.y,0),width:c}:{})}if(o==="bottom"){var w={x:a+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:m};return In(In({},w),r?{height:Math.max(r.y+r.height-(l+u),0),width:c}:{})}if(o==="left"){var E={x:a-y,y:l+u/2,textAnchor:b,verticalAnchor:"middle"};return In(In({},E),r?{width:Math.max(E.x-r.x,0),height:u}:{})}if(o==="right"){var x={x:a+c+y,y:l+u/2,textAnchor:g,verticalAnchor:"middle"};return In(In({},x),r?{width:Math.max(r.x+r.width-x.x,0),height:u}:{})}var T=r?{width:c,height:u}:{};return o==="insideLeft"?In({x:a+y,y:l+u/2,textAnchor:g,verticalAnchor:"middle"},T):o==="insideRight"?In({x:a+c-y,y:l+u/2,textAnchor:b,verticalAnchor:"middle"},T):o==="insideTop"?In({x:a+c/2,y:l+h,textAnchor:"middle",verticalAnchor:m},T):o==="insideBottom"?In({x:a+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:p},T):o==="insideTopLeft"?In({x:a+y,y:l+h,textAnchor:g,verticalAnchor:m},T):o==="insideTopRight"?In({x:a+c-y,y:l+h,textAnchor:b,verticalAnchor:m},T):o==="insideBottomLeft"?In({x:a+y,y:l+u-h,textAnchor:g,verticalAnchor:p},T):o==="insideBottomRight"?In({x:a+c-y,y:l+u-h,textAnchor:b,verticalAnchor:p},T):cd(o)&&(he(o.x)||sl(o.x))&&(he(o.y)||sl(o.y))?In({x:a+Ul(o.x,c),y:l+Ul(o.y,u),textAnchor:"end",verticalAnchor:"end"},T):In({x:a+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},T)},MTe=function(e){return"cx"in e&&he(e.cx)};function vr(t){var e=t.offset,n=e===void 0?5:e,r=TTe(t,_Te),i=In({offset:n},r),o=i.viewBox,s=i.position,a=i.value,l=i.children,c=i.content,u=i.className,d=u===void 0?"":u,h=i.textBreakAll;if(!o||At(a)&&At(l)&&!S.isValidElement(c)&&!ct(c))return null;if(S.isValidElement(c))return S.cloneElement(c,i);var p;if(ct(c)){if(p=S.createElement(c,i),S.isValidElement(p))return p}else p=OTe(i);var m=MTe(o),v=St(i,!0);if(m&&(s==="insideStart"||s==="insideEnd"||s==="end"))return NTe(i,p,v);var y=m?RTe(i):jTe(i);return V.createElement(mv,lp({className:It("recharts-label",d)},v,y,{breakAll:h}),p)}vr.displayName="Label";var S6=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,a=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,d=e.x,h=e.y,p=e.top,m=e.left,v=e.width,y=e.height,b=e.clockWise,g=e.labelViewBox;if(g)return g;if(he(v)&&he(y)){if(he(d)&&he(h))return{x:d,y:h,width:v,height:y};if(he(p)&&he(m))return{x:p,y:m,width:v,height:y}}return he(d)&&he(h)?{x:d,y:h,width:0,height:0}:he(n)&&he(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:s||i||0,innerRadius:c||0,outerRadius:u||l||a||0,clockWise:b}:e.viewBox?e.viewBox:{}},DTe=function(e,n){return e?e===!0?V.createElement(vr,{key:"label-implicit",viewBox:n}):Nn(e)?V.createElement(vr,{key:"label-implicit",viewBox:n,value:e}):S.isValidElement(e)?e.type===vr?S.cloneElement(e,{key:"label-implicit",viewBox:n}):V.createElement(vr,{key:"label-implicit",content:e,viewBox:n}):ct(e)?V.createElement(vr,{key:"label-implicit",content:e,viewBox:n}):cd(e)?V.createElement(vr,lp({viewBox:n},e,{key:"label-implicit"})):null:null},$Te=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=S6(e),s=io(i,vr).map(function(l,c){return S.cloneElement(l,{viewBox:n||o,key:"label-".concat(c)})});if(!r)return s;var a=DTe(e.label,n||o);return[a].concat(bTe(s))};vr.parseViewBox=S6;vr.renderCallByParent=$Te;function LTe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var FTe=LTe;const VTe=kt(FTe);function cp(t){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cp(t)}var UTe=["valueAccessor"],BTe=["data","dataKey","clockWise","id","textBreakAll"];function zTe(t){return GTe(t)||qTe(t)||HTe(t)||WTe()}function WTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HTe(t,e){if(t){if(typeof t=="string")return XE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XE(t,e)}}function qTe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function GTe(t){if(Array.isArray(t))return XE(t)}function XE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ov(){return Ov=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ov.apply(this,arguments)}function XM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XM(Object(n),!0).forEach(function(r){KTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KTe(t,e,n){return e=QTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QTe(t){var e=YTe(t,"string");return cp(e)=="symbol"?e:String(e)}function YTe(t,e){if(cp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZM(t,e){if(t==null)return{};var n=XTe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function XTe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var JTe=function(e){return Array.isArray(e.value)?VTe(e.value):e.value};function _l(t){var e=t.valueAccessor,n=e===void 0?JTe:e,r=ZM(t,UTe),i=r.data,o=r.dataKey,s=r.clockWise,a=r.id,l=r.textBreakAll,c=ZM(r,BTe);return!i||!i.length?null:V.createElement(Wn,{className:"recharts-label-list"},i.map(function(u,d){var h=At(o)?n(u,d):Lo(u&&u.payload,o),p=At(a)?{}:{id:"".concat(a,"-").concat(d)};return V.createElement(vr,Ov({},St(u,!0),c,p,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:vr.parseViewBox(At(s)?u:JM(JM({},u),{},{clockWise:s})),key:"label-".concat(d),index:d}))}))}_l.displayName="LabelList";function ZTe(t,e){return t?t===!0?V.createElement(_l,{key:"labelList-implicit",data:e}):V.isValidElement(t)||ct(t)?V.createElement(_l,{key:"labelList-implicit",data:e,content:t}):cd(t)?V.createElement(_l,Ov({data:e},t,{key:"labelList-implicit"})):null:null}function eCe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=io(r,_l).map(function(s,a){return S.cloneElement(s,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var o=ZTe(t.label,e);return[o].concat(zTe(i))}_l.renderCallByParent=eCe;function up(t){"@babel/helpers - typeof";return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},up(t)}function JE(){return JE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JE.apply(this,arguments)}function eD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eD(Object(n),!0).forEach(function(r){tCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tCe(t,e,n){return e=nCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nCe(t){var e=rCe(t,"string");return up(e)=="symbol"?e:String(e)}function rCe(t,e){if(up(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(up(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iCe=function(e,n){var r=Ji(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},lg=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,s=e.sign,a=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(a?1:-1)+i,d=Math.asin(l/u)/Pv,h=c?o:o+s*d,p=nr(n,r,u,h),m=nr(n,r,i,h),v=c?o-s*d:o,y=nr(n,r,u*Math.cos(d*Pv),v);return{center:p,circleTangency:m,lineTangency:y,theta:d}},T6=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,a=e.endAngle,l=iCe(s,a),c=s+l,u=nr(n,r,o,s),d=nr(n,r,o,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var p=nr(n,r,i,s),m=nr(n,r,i,c);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},oCe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,d=Ji(u-c),h=lg({cx:n,cy:r,radius:o,angle:c,sign:d,cornerRadius:s,cornerIsExternal:l}),p=h.circleTangency,m=h.lineTangency,v=h.theta,y=lg({cx:n,cy:r,radius:o,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:l}),b=y.circleTangency,g=y.lineTangency,_=y.theta,w=l?Math.abs(c-u):Math.abs(c-u)-v-_;if(w<0)return a?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):T6({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:c,endAngle:u});var E="M ".concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(w>180),",").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
  `);if(i>0){var x=lg({cx:n,cy:r,radius:i,angle:c,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),T=x.circleTangency,C=x.lineTangency,O=x.theta,I=lg({cx:n,cy:r,radius:i,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),D=I.circleTangency,L=I.lineTangency,j=I.theta,B=l?Math.abs(c-u):Math.abs(c-u)-O-j;if(B<0&&s===0)return"".concat(E,"L").concat(n,",").concat(r,"Z");E+="L".concat(L.x,",").concat(L.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(B>180),",").concat(+(d>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(C.x,",").concat(C.y,"Z")}else E+="L".concat(n,",").concat(r,"Z");return E},sCe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},C6=function(e){var n=tD(tD({},sCe),e),r=n.cx,i=n.cy,o=n.innerRadius,s=n.outerRadius,a=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,u=n.startAngle,d=n.endAngle,h=n.className;if(s<o||u===d)return null;var p=It("recharts-sector",h),m=s-o,v=Ul(a,m,0,!0),y;return v>0&&Math.abs(u-d)<360?y=oCe({cx:r,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(v,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):y=T6({cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:u,endAngle:d}),V.createElement("path",JE({},St(n,!0),{className:p,d:y,role:"img"}))};function dp(t){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dp(t)}function ZE(){return ZE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZE.apply(this,arguments)}function nD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nD(Object(n),!0).forEach(function(r){aCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aCe(t,e,n){return e=lCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lCe(t){var e=cCe(t,"string");return dp(e)=="symbol"?e:String(e)}function cCe(t,e){if(dp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(dp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iD={curveBasisClosed:_he,curveBasisOpen:bhe,curveBasis:vhe,curveBumpX:ihe,curveBumpY:ohe,curveLinearClosed:whe,curveLinear:k0,curveMonotoneX:xhe,curveMonotoneY:Ehe,curveNatural:She,curveStep:The,curveStepAfter:Ahe,curveStepBefore:Che},cg=function(e){return e.x===+e.x&&e.y===+e.y},Jd=function(e){return e.x},Zd=function(e){return e.y},uCe=function(e,n){if(ct(e))return e;var r="curve".concat(P0(e));return(r==="curveMonotone"||r==="curveBump")&&n?iD["".concat(r).concat(n==="vertical"?"Y":"X")]:iD[r]||k0},dCe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,s=e.baseLine,a=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=uCe(r,a),d=c?o.filter(function(v){return cg(v)}):o,h;if(Array.isArray(s)){var p=c?s.filter(function(v){return cg(v)}):s,m=d.map(function(v,y){return rD(rD({},v),{},{base:p[y]})});return a==="vertical"?h=Zm().y(Zd).x1(Jd).x0(function(v){return v.base.x}):h=Zm().x(Jd).y1(Zd).y0(function(v){return v.base.y}),h.defined(cg).curve(u),h(m)}return a==="vertical"&&he(s)?h=Zm().y(Zd).x1(Jd).x0(s):he(s)?h=Zm().x(Jd).y1(Zd).y0(s):h=P3().x(Jd).y(Zd),h.defined(cg).curve(u),h(d)},oD=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?dCe(e):i;return V.createElement("path",ZE({},St(e,!1),ev(e),{className:It("recharts-curve",n),d:s,ref:o}))},A6={exports:{}},fCe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",hCe=fCe,pCe=hCe;function I6(){}function P6(){}P6.resetWarningCache=I6;var mCe=function(){function t(r,i,o,s,a,l){if(l!==pCe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:P6,resetWarningCache:I6};return n.PropTypes=n,n};A6.exports=mCe();var gCe=A6.exports;const Ze=kt(gCe);var yCe=Object.getOwnPropertyNames,vCe=Object.getOwnPropertySymbols,_Ce=Object.prototype.hasOwnProperty;function sD(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function ug(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,s=o.get(n),a=o.get(r);if(s&&a)return s===r&&a===n;o.set(n,r),o.set(r,n);var l=t(n,r,i);return o.delete(n),o.delete(r),l}}function aD(t){return yCe(t).concat(vCe(t))}var O6=Object.hasOwn||function(t,e){return _Ce.call(t,e)};function _d(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var k6="_owner",lD=Object.getOwnPropertyDescriptor,cD=Object.keys;function bCe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function wCe(t,e){return _d(t.getTime(),e.getTime())}function uD(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.entries(),o=0,s,a;(s=i.next())&&!s.done;){for(var l=e.entries(),c=!1,u=0;(a=l.next())&&!a.done;){var d=s.value,h=d[0],p=d[1],m=a.value,v=m[0],y=m[1];!c&&!r[u]&&(c=n.equals(h,v,o,u,t,e,n)&&n.equals(p,y,h,v,t,e,n))&&(r[u]=!0),u++}if(!c)return!1;o++}return!0}function xCe(t,e,n){var r=cD(t),i=r.length;if(cD(e).length!==i)return!1;for(var o;i-- >0;)if(o=r[i],o===k6&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!O6(e,o)||!n.equals(t[o],e[o],o,o,t,e,n))return!1;return!0}function ef(t,e,n){var r=aD(t),i=r.length;if(aD(e).length!==i)return!1;for(var o,s,a;i-- >0;)if(o=r[i],o===k6&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!O6(e,o)||!n.equals(t[o],e[o],o,o,t,e,n)||(s=lD(t,o),a=lD(e,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function ECe(t,e){return _d(t.valueOf(),e.valueOf())}function SCe(t,e){return t.source===e.source&&t.flags===e.flags}function dD(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.values(),o,s;(o=i.next())&&!o.done;){for(var a=e.values(),l=!1,c=0;(s=a.next())&&!s.done;)!l&&!r[c]&&(l=n.equals(o.value,s.value,o.value,s.value,t,e,n))&&(r[c]=!0),c++;if(!l)return!1}return!0}function TCe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}var CCe="[object Arguments]",ACe="[object Boolean]",ICe="[object Date]",PCe="[object Map]",OCe="[object Number]",kCe="[object Object]",NCe="[object RegExp]",RCe="[object Set]",jCe="[object String]",MCe=Array.isArray,fD=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,hD=Object.assign,DCe=Object.prototype.toString.call.bind(Object.prototype.toString);function $Ce(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areMapsEqual,i=t.areObjectsEqual,o=t.arePrimitiveWrappersEqual,s=t.areRegExpsEqual,a=t.areSetsEqual,l=t.areTypedArraysEqual;return function(u,d,h){if(u===d)return!0;if(u==null||d==null||typeof u!="object"||typeof d!="object")return u!==u&&d!==d;var p=u.constructor;if(p!==d.constructor)return!1;if(p===Object)return i(u,d,h);if(MCe(u))return e(u,d,h);if(fD!=null&&fD(u))return l(u,d,h);if(p===Date)return n(u,d,h);if(p===RegExp)return s(u,d,h);if(p===Map)return r(u,d,h);if(p===Set)return a(u,d,h);var m=DCe(u);return m===ICe?n(u,d,h):m===NCe?s(u,d,h):m===PCe?r(u,d,h):m===RCe?a(u,d,h):m===kCe?typeof u.then!="function"&&typeof d.then!="function"&&i(u,d,h):m===CCe?i(u,d,h):m===ACe||m===OCe||m===jCe?o(u,d,h):!1}}function LCe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?ef:bCe,areDatesEqual:wCe,areMapsEqual:r?sD(uD,ef):uD,areObjectsEqual:r?ef:xCe,arePrimitiveWrappersEqual:ECe,areRegExpsEqual:SCe,areSetsEqual:r?sD(dD,ef):dD,areTypedArraysEqual:r?ef:TCe};if(n&&(i=hD({},i,n(i))),e){var o=ug(i.areArraysEqual),s=ug(i.areMapsEqual),a=ug(i.areObjectsEqual),l=ug(i.areSetsEqual);i=hD({},i,{areArraysEqual:o,areMapsEqual:s,areObjectsEqual:a,areSetsEqual:l})}return i}function FCe(t){return function(e,n,r,i,o,s,a){return t(e,n,a)}}function VCe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(l,c){var u=r(),d=u.cache,h=d===void 0?e?new WeakMap:void 0:d,p=u.meta;return n(l,c,{cache:h,equals:i,meta:p,strict:o})};if(e)return function(l,c){return n(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var s={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,c){return n(l,c,s)}}var UCe=Ma();Ma({strict:!0});Ma({circular:!0});Ma({circular:!0,strict:!0});Ma({createInternalComparator:function(){return _d}});Ma({strict:!0,createInternalComparator:function(){return _d}});Ma({circular:!0,createInternalComparator:function(){return _d}});Ma({circular:!0,createInternalComparator:function(){return _d},strict:!0});function Ma(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,s=o===void 0?!1:o,a=LCe(t),l=$Ce(a),c=r?r(l):FCe(l);return VCe({circular:n,comparator:l,createState:i,equals:c,strict:s})}function BCe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function pD(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):BCe(i)};requestAnimationFrame(r)}function eS(t){"@babel/helpers - typeof";return eS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eS(t)}function zCe(t){return GCe(t)||qCe(t)||HCe(t)||WCe()}function WCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HCe(t,e){if(t){if(typeof t=="string")return mD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mD(t,e)}}function mD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qCe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function GCe(t){if(Array.isArray(t))return t}function KCe(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,a=zCe(s),l=a[0],c=a.slice(1);if(typeof l=="number"){pD(i.bind(null,c),l);return}i(l),pD(i.bind(null,c));return}eS(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function fp(t){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fp(t)}function gD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gD(Object(n),!0).forEach(function(r){N6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function N6(t,e,n){return e=QCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QCe(t){var e=YCe(t,"string");return fp(e)==="symbol"?e:String(e)}function YCe(t,e){if(fp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var XCe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},JCe=function(e){return e},ZCe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Qf=function(e,n){return Object.keys(n).reduce(function(r,i){return yD(yD({},r),{},N6({},i,e(i,n[i])))},{})},vD=function(e,n,r){return e.map(function(i){return"".concat(ZCe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function eAe(t,e){return rAe(t)||nAe(t,e)||R6(t,e)||tAe()}function tAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function rAe(t){if(Array.isArray(t))return t}function iAe(t){return aAe(t)||sAe(t)||R6(t)||oAe()}function oAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R6(t,e){if(t){if(typeof t=="string")return tS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tS(t,e)}}function sAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aAe(t){if(Array.isArray(t))return tS(t)}function tS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var kv=1e-4,j6=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},M6=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},_D=function(e,n){return function(r){var i=j6(e,n);return M6(i,r)}},lAe=function(e,n){return function(r){var i=j6(e,n),o=[].concat(iAe(i.map(function(s,a){return s*a}).slice(1)),[0]);return M6(o,r)}},bD=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,s=1,a=1;break;case"ease":i=.25,o=.1,s=.25,a=1;break;case"ease-in":i=.42,o=0,s=1,a=1;break;case"ease-out":i=.42,o=0,s=.58,a=1;break;case"ease-in-out":i=0,o=0,s=.58,a=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),u=eAe(c,4);i=u[0],o=u[1],s=u[2],a=u[3]}}}var d=_D(i,s),h=_D(o,a),p=lAe(i,s),m=function(b){return b>1?1:b<0?0:b},v=function(b){for(var g=b>1?1:b,_=g,w=0;w<8;++w){var E=d(_)-g,x=p(_);if(Math.abs(E-g)<kv||x<kv)return h(_);_=m(_-E/x)}return h(_)};return v.isStepper=!1,v},cAe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,s=e.dt,a=s===void 0?17:s,l=function(u,d,h){var p=-(u-d)*r,m=h*o,v=h+(p-m)*a/1e3,y=h*a/1e3+u;return Math.abs(y-d)<kv&&Math.abs(v)<kv?[d,0]:[y,v]};return l.isStepper=!0,l.dt=a,l},uAe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return bD(i);case"spring":return cAe();default:if(i.split("(")[0]==="cubic-bezier")return bD(i)}return typeof i=="function"?i:null};function hp(t){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hp(t)}function wD(t){return hAe(t)||fAe(t)||D6(t)||dAe()}function dAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hAe(t){if(Array.isArray(t))return rS(t)}function xD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xD(Object(n),!0).forEach(function(r){nS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nS(t,e,n){return e=pAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pAe(t){var e=mAe(t,"string");return hp(e)==="symbol"?e:String(e)}function mAe(t,e){if(hp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gAe(t,e){return _Ae(t)||vAe(t,e)||D6(t,e)||yAe()}function yAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D6(t,e){if(t){if(typeof t=="string")return rS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rS(t,e)}}function rS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function _Ae(t){if(Array.isArray(t))return t}var Nv=function(e,n,r){return e+(n-e)*r},iS=function(e){var n=e.from,r=e.to;return n!==r},bAe=function t(e,n,r){var i=Qf(function(o,s){if(iS(s)){var a=e(s.from,s.to,s.velocity),l=gAe(a,2),c=l[0],u=l[1];return Xn(Xn({},s),{},{from:c,velocity:u})}return s},n);return r<1?Qf(function(o,s){return iS(s)?Xn(Xn({},s),{},{velocity:Nv(s.velocity,i[o].velocity,r),from:Nv(s.from,i[o].from,r)}):s},n):t(e,i,r-1)};const wAe=function(t,e,n,r,i){var o=XCe(t,e),s=o.reduce(function(y,b){return Xn(Xn({},y),{},nS({},b,[t[b],e[b]]))},{}),a=o.reduce(function(y,b){return Xn(Xn({},y),{},nS({},b,{from:t[b],velocity:0,to:e[b]}))},{}),l=-1,c,u,d=function(){return null},h=function(){return Qf(function(b,g){return g.from},a)},p=function(){return!Object.values(a).filter(iS).length},m=function(b){c||(c=b);var g=b-c,_=g/n.dt;a=bAe(n,a,_),i(Xn(Xn(Xn({},t),e),h())),c=b,p()||(l=requestAnimationFrame(d))},v=function(b){u||(u=b);var g=(b-u)/r,_=Qf(function(E,x){return Nv.apply(void 0,wD(x).concat([n(g)]))},s);if(i(Xn(Xn(Xn({},t),e),_)),g<1)l=requestAnimationFrame(d);else{var w=Qf(function(E,x){return Nv.apply(void 0,wD(x).concat([n(1)]))},s);i(Xn(Xn(Xn({},t),e),w))}};return d=n.isStepper?m:v,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function Mu(t){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mu(t)}var xAe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function EAe(t,e){if(t==null)return{};var n=SAe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function SAe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Dw(t){return IAe(t)||AAe(t)||CAe(t)||TAe()}function TAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CAe(t,e){if(t){if(typeof t=="string")return oS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oS(t,e)}}function AAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function IAe(t){if(Array.isArray(t))return oS(t)}function oS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ED(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ED(Object(n),!0).forEach(function(r){gf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ED(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gf(t,e,n){return e=$6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$6(r.key),r)}}function OAe(t,e,n){return e&&SD(t.prototype,e),n&&SD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function $6(t){var e=kAe(t,"string");return Mu(e)==="symbol"?e:String(e)}function kAe(t,e){if(Mu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Mu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sS(t,e)}function sS(t,e){return sS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sS(t,e)}function RAe(t){var e=jAe();return function(){var r=Rv(t),i;if(e){var o=Rv(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return aS(this,i)}}function aS(t,e){if(e&&(Mu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lS(t)}function lS(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jAe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Rv(t){return Rv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rv(t)}var _a=function(t){NAe(n,t);var e=RAe(n);function n(r,i){var o;PAe(this,n),o=e.call(this,r,i);var s=o.props,a=s.isActive,l=s.attributeName,c=s.from,u=s.to,d=s.steps,h=s.children,p=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(lS(o)),o.changeStyle=o.changeStyle.bind(lS(o)),!a||p<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:u}),aS(o);if(d&&d.length)o.state={style:d[0].style};else if(c){if(typeof h=="function")return o.state={style:c},aS(o);o.state={style:l?gf({},l,c):c}}else o.state={style:{}};return o}return OAe(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,a=o.canBegin,l=o.attributeName,c=o.shouldReAnimate,u=o.to,d=o.from,h=this.state.style;if(a){if(!s){var p={style:l?gf({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(p);return}if(!(UCe(i.to,u)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=m||c?d:i.to;if(this.state&&h){var y={style:l?gf({},l,v):v};(l&&h[l]!==v||!l&&h!==v)&&this.setState(y)}this.runAnimation(Bi(Bi({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,a=i.to,l=i.duration,c=i.easing,u=i.begin,d=i.onAnimationEnd,h=i.onAnimationStart,p=wAe(s,a,uAe(c),l,this.changeStyle),m=function(){o.stopJSAnimation=p()};this.manager.start([h,u,m,l,d])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,a=i.begin,l=i.onAnimationStart,c=s[0],u=c.style,d=c.duration,h=d===void 0?0:d,p=function(v,y,b){if(b===0)return v;var g=y.duration,_=y.easing,w=_===void 0?"ease":_,E=y.style,x=y.properties,T=y.onAnimationEnd,C=b>0?s[b-1]:y,O=x||Object.keys(E);if(typeof w=="function"||w==="spring")return[].concat(Dw(v),[o.runJSAnimation.bind(o,{from:C.style,to:E,duration:g,easing:w}),g]);var I=vD(O,g,w),D=Bi(Bi(Bi({},C.style),E),{},{transition:I});return[].concat(Dw(v),[D,g,T]).filter(JCe)};return this.manager.start([l].concat(Dw(s.reduce(p,[u,Math.max(h,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=KCe());var o=i.begin,s=i.duration,a=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,d=i.onAnimationEnd,h=i.steps,p=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var v=a?gf({},a,l):l,y=vD(Object.keys(v),s,c);m.start([u,o,Bi(Bi({},v),{},{transition:y}),s,d])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=EAe(i,xAe),c=S.Children.count(o),u=this.state.style;if(typeof o=="function")return o(u);if(!a||c===0||s<=0)return o;var d=function(p){var m=p.props,v=m.style,y=v===void 0?{}:v,b=m.className,g=S.cloneElement(p,Bi(Bi({},l),{},{style:Bi(Bi({},y),u),className:b}));return g};return c===1?d(S.Children.only(o)):V.createElement("div",null,S.Children.map(o,function(h){return d(h)}))}}]),n}(S.PureComponent);_a.displayName="Animate";_a.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};_a.propTypes={from:Ze.oneOfType([Ze.object,Ze.string]),to:Ze.oneOfType([Ze.object,Ze.string]),attributeName:Ze.string,duration:Ze.number,begin:Ze.number,easing:Ze.oneOfType([Ze.string,Ze.func]),steps:Ze.arrayOf(Ze.shape({duration:Ze.number.isRequired,style:Ze.object.isRequired,easing:Ze.oneOfType([Ze.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ze.func]),properties:Ze.arrayOf("string"),onAnimationEnd:Ze.func})),children:Ze.oneOfType([Ze.node,Ze.func]),isActive:Ze.bool,canBegin:Ze.bool,onAnimationEnd:Ze.func,shouldReAnimate:Ze.bool,onAnimationStart:Ze.func,onAnimationReStart:Ze.func};Ze.object,Ze.object,Ze.object,Ze.element;Ze.object,Ze.object,Ze.object,Ze.oneOfType([Ze.array,Ze.element]),Ze.any;function pp(t){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pp(t)}function jv(){return jv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jv.apply(this,arguments)}function MAe(t,e){return FAe(t)||LAe(t,e)||$Ae(t,e)||DAe()}function DAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Ae(t,e){if(t){if(typeof t=="string")return TD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TD(t,e)}}function TD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function LAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function FAe(t){if(Array.isArray(t))return t}function CD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CD(Object(n),!0).forEach(function(r){VAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VAe(t,e,n){return e=UAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UAe(t){var e=BAe(t,"string");return pp(e)=="symbol"?e:String(e)}function BAe(t,e){if(pp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ID=function(e,n,r,i,o){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,u;if(s>0&&o instanceof Array){for(var d=[0,0,0,0],h=0,p=4;h<p;h++)d[h]=o[h]>s?s:o[h];u="M".concat(e,",").concat(n+a*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(n)),u+="L ".concat(e+r-l*d[1],",").concat(n),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+a*d[1])),u+="L ".concat(e+r,",").concat(n+i-a*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(n+i)),u+="L ".concat(e+l*d[3],",").concat(n+i),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-a*d[3])),u+="Z"}else if(s>0&&o===+o&&o>0){var m=Math.min(s,o);u="M ".concat(e,",").concat(n+a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(n,`
            L `).concat(e+r-l*m,",").concat(n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(n+a*m,`
            L `).concat(e+r,",").concat(n+i-a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-l*m,",").concat(n+i,`
            L `).concat(e+l*m,",").concat(n+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(n+i-a*m," Z")}else u="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return u},zAe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,s=n.y,a=n.width,l=n.height;if(Math.abs(a)>0&&Math.abs(l)>0){var c=Math.min(o,o+a),u=Math.max(o,o+a),d=Math.min(s,s+l),h=Math.max(s,s+l);return r>=c&&r<=u&&i>=d&&i<=h}return!1},WAe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},RI=function(e){var n=AD(AD({},WAe),e),r=S.useRef(),i=S.useState(-1),o=MAe(i,2),s=o[0],a=o[1];S.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&a(w)}catch{}},[]);var l=n.x,c=n.y,u=n.width,d=n.height,h=n.radius,p=n.className,m=n.animationEasing,v=n.animationDuration,y=n.animationBegin,b=n.isAnimationActive,g=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||u===0||d===0)return null;var _=It("recharts-rectangle",p);return g?V.createElement(_a,{canBegin:s>0,from:{width:u,height:d,x:l,y:c},to:{width:u,height:d,x:l,y:c},duration:v,animationEasing:m,isActive:g},function(w){var E=w.width,x=w.height,T=w.x,C=w.y;return V.createElement(_a,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:v,isActive:b,easing:m},V.createElement("path",jv({},St(n,!0),{className:_,d:ID(T,C,E,x,h),ref:r})))}):V.createElement("path",jv({},St(n,!0),{className:_,d:ID(l,c,u,d,h)}))};function cS(){return cS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cS.apply(this,arguments)}var L6=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,s=It("recharts-dot",o);return n===+n&&r===+r&&i===+i?V.createElement("circle",cS({},St(e,!1),ev(e),{className:s,cx:n,cy:r,r:i})):null};function mp(t){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mp(t)}var HAe=["x","y","top","left","width","height","className"];function uS(){return uS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uS.apply(this,arguments)}function PD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qAe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PD(Object(n),!0).forEach(function(r){GAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GAe(t,e,n){return e=KAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KAe(t){var e=QAe(t,"string");return mp(e)=="symbol"?e:String(e)}function QAe(t,e){if(mp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(mp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YAe(t,e){if(t==null)return{};var n=XAe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function XAe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var JAe=function(e,n,r,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},ZAe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.top,a=s===void 0?0:s,l=e.left,c=l===void 0?0:l,u=e.width,d=u===void 0?0:u,h=e.height,p=h===void 0?0:h,m=e.className,v=YAe(e,HAe),y=qAe({x:r,y:o,top:a,left:c,width:d,height:p},v);return!he(r)||!he(o)||!he(d)||!he(p)||!he(a)||!he(c)?null:V.createElement("path",uS({},St(y,!0),{className:It("recharts-cross",m),d:JAe(r,o,d,p,a,c)}))},eIe=Z3,tIe=eIe(Object.getPrototypeOf,Object),nIe=tIe,rIe=Cs,iIe=nIe,oIe=As,sIe="[object Object]",aIe=Function.prototype,lIe=Object.prototype,F6=aIe.toString,cIe=lIe.hasOwnProperty,uIe=F6.call(Object);function dIe(t){if(!oIe(t)||rIe(t)!=sIe)return!1;var e=iIe(t);if(e===null)return!0;var n=cIe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&F6.call(n)==uIe}var fIe=dIe;const hIe=kt(fIe);var pIe=Cs,mIe=As,gIe="[object Boolean]";function yIe(t){return t===!0||t===!1||mIe(t)&&pIe(t)==gIe}var vIe=yIe;const _Ie=kt(vIe);function gp(t){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gp(t)}function Mv(){return Mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mv.apply(this,arguments)}function bIe(t,e){return SIe(t)||EIe(t,e)||xIe(t,e)||wIe()}function wIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xIe(t,e){if(t){if(typeof t=="string")return OD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OD(t,e)}}function OD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function EIe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function SIe(t){if(Array.isArray(t))return t}function kD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ND(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kD(Object(n),!0).forEach(function(r){TIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TIe(t,e,n){return e=CIe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CIe(t){var e=AIe(t,"string");return gp(e)=="symbol"?e:String(e)}function AIe(t,e){if(gp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var RD=function(e,n,r,i,o){var s=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-s/2,",").concat(n+o),a+="L ".concat(e+r-s/2-i,",").concat(n+o),a+="L ".concat(e,",").concat(n," Z"),a},IIe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},PIe=function(e){var n=ND(ND({},IIe),e),r=S.useRef(),i=S.useState(-1),o=bIe(i,2),s=o[0],a=o[1];S.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&a(_)}catch{}},[]);var l=n.x,c=n.y,u=n.upperWidth,d=n.lowerWidth,h=n.height,p=n.className,m=n.animationEasing,v=n.animationDuration,y=n.animationBegin,b=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||h!==+h||u===0&&d===0||h===0)return null;var g=It("recharts-trapezoid",p);return b?V.createElement(_a,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:d,height:h,x:l,y:c},duration:v,animationEasing:m,isActive:b},function(_){var w=_.upperWidth,E=_.lowerWidth,x=_.height,T=_.x,C=_.y;return V.createElement(_a,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:v,easing:m},V.createElement("path",Mv({},St(n,!0),{className:g,d:RD(T,C,w,E,x),ref:r})))}):V.createElement("g",null,V.createElement("path",Mv({},St(n,!0),{className:g,d:RD(l,c,u,d,h)})))},OIe=["option","shapeType","propTransformer","activeClassName","isActive"];function yp(t){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yp(t)}function kIe(t,e){if(t==null)return{};var n=NIe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function NIe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function jD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jD(Object(n),!0).forEach(function(r){RIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RIe(t,e,n){return e=jIe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jIe(t){var e=MIe(t,"string");return yp(e)=="symbol"?e:String(e)}function MIe(t,e){if(yp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DIe(t,e){return Dv(Dv({},e),t)}function $Ie(t,e){return t==="symbols"}function MD(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return V.createElement(RI,n);case"trapezoid":return V.createElement(PIe,n);case"sector":return V.createElement(C6,n);case"symbols":if($Ie(e))return V.createElement(YA,n);break;default:return null}}function LIe(t){return S.isValidElement(t)?t.props:t}function FIe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?DIe:r,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,a=t.isActive,l=kIe(t,OIe),c;if(S.isValidElement(e))c=S.cloneElement(e,Dv(Dv({},l),LIe(e)));else if(ct(e))c=e(l);else if(hIe(e)&&!_Ie(e)){var u=i(e,l);c=V.createElement(MD,{shapeType:n,elementProps:u})}else{var d=l;c=V.createElement(MD,{shapeType:n,elementProps:d})}return a?V.createElement(Wn,{className:s},c):c}function G0(t,e){return e!=null&&"trapezoids"in t.props}function K0(t,e){return e!=null&&"sectors"in t.props}function vp(t,e){return e!=null&&"points"in t.props}function VIe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function UIe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function BIe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function zIe(t,e){var n;return G0(t,e)?n=VIe:K0(t,e)?n=UIe:vp(t,e)&&(n=BIe),n}function WIe(t,e){var n;return G0(t,e)?n="trapezoids":K0(t,e)?n="sectors":vp(t,e)&&(n="points"),n}function HIe(t,e){if(G0(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(K0(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return vp(t,e)?e.payload:{}}function qIe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=WIe(n,e),o=HIe(n,e),s=r.filter(function(l,c){var u=PI(o,l),d=n.props[i].filter(function(m){var v=zIe(n,e);return v(m,e)}),h=n.props[i].indexOf(d[d.length-1]),p=c===h;return u&&p}),a=r.indexOf(s[s.length-1]);return a}var GIe=Math.ceil,KIe=Math.max;function QIe(t,e,n,r){for(var i=-1,o=KIe(GIe((e-t)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=t,t+=n;return s}var YIe=QIe,XIe=_z,DD=1/0,JIe=17976931348623157e292;function ZIe(t){if(!t)return t===0?t:0;if(t=XIe(t),t===DD||t===-DD){var e=t<0?-1:1;return e*JIe}return t===t?t:0}var V6=ZIe,ePe=YIe,tPe=M0,$w=V6;function nPe(t){return function(e,n,r){return r&&typeof r!="number"&&tPe(e,n,r)&&(n=r=void 0),e=$w(e),n===void 0?(n=e,e=0):n=$w(n),r=r===void 0?e<n?1:-1:$w(r),ePe(e,n,r,t)}}var rPe=nPe,iPe=rPe,oPe=iPe(),sPe=oPe;const $v=kt(sPe);function _p(t){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_p(t)}function $D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$D(Object(n),!0).forEach(function(r){U6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$D(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function U6(t,e,n){return e=aPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aPe(t){var e=lPe(t,"string");return _p(e)=="symbol"?e:String(e)}function lPe(t,e){if(_p(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_p(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cPe=["Webkit","Moz","O","ms"],uPe=function(e,n){if(!e)return null;var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=cPe.reduce(function(o,s){return LD(LD({},o),{},U6({},s+r,n))},{});return i[e]=n,i};function Du(t){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Du(t)}function Lv(){return Lv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lv.apply(this,arguments)}function FD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FD(Object(n),!0).forEach(function(r){Zr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,z6(r.key),r)}}function fPe(t,e,n){return e&&VD(t.prototype,e),n&&VD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hPe(t,e,n){return e=Fv(e),pPe(t,B6()?Reflect.construct(e,n||[],Fv(t).constructor):e.apply(t,n))}function pPe(t,e){if(e&&(Du(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mo(t)}function B6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B6=function(){return!!t})()}function Fv(t){return Fv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fv(t)}function mo(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dS(t,e)}function dS(t,e){return dS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dS(t,e)}function Zr(t,e,n){return e=z6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z6(t){var e=gPe(t,"string");return Du(e)=="symbol"?e:String(e)}function gPe(t,e){if(Du(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yPe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,s=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=Gf().domain($v(0,l)).range([o,o+s-a]),u=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:u}},UD=function(e){return e.changedTouches&&!!e.changedTouches.length},$u=function(t){mPe(e,t);function e(n){var r;return dPe(this,e),r=hPe(this,e,[n]),Zr(mo(r),"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Zr(mo(r),"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Zr(mo(r),"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,s=i.onDragEnd,a=i.startIndex;s==null||s({endIndex:o,startIndex:a})}),r.detachDragEndListener()}),Zr(mo(r),"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Zr(mo(r),"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Zr(mo(r),"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Zr(mo(r),"handleSlideDragStart",function(i){var o=UD(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(mo(r),"startX"),endX:r.handleTravellerDragStart.bind(mo(r),"endX")},r.state={},r}return fPe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,s=this.state.scaleValues,a=this.props,l=a.gap,c=a.data,u=c.length-1,d=Math.min(i,o),h=Math.max(i,o),p=e.getIndexInRange(s,d),m=e.getIndexInRange(s,h);return{startIndex:p-p%l,endIndex:m===u?u:m-m%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,s=i.tickFormatter,a=i.dataKey,l=Lo(o[r],a,r);return ct(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,s=i.startX,a=i.endX,l=this.props,c=l.x,u=l.width,d=l.travellerWidth,h=l.startIndex,p=l.endIndex,m=l.onChange,v=r.pageX-o;v>0?v=Math.min(v,c+u-d-a,c+u-d-s):v<0&&(v=Math.max(v,c-s,c-a));var y=this.getIndex({startX:s+v,endX:a+v});(y.startIndex!==h||y.endIndex!==p)&&m&&m(y),this.setState({startX:s+v,endX:a+v,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=UD(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,a=i.endX,l=i.startX,c=this.state[s],u=this.props,d=u.x,h=u.width,p=u.travellerWidth,m=u.onChange,v=u.gap,y=u.data,b={startX:this.state.startX,endX:this.state.endX},g=r.pageX-o;g>0?g=Math.min(g,d+h-p-c):g<0&&(g=Math.max(g,d-c)),b[s]=c+g;var _=this.getIndex(b),w=_.startIndex,E=_.endIndex,x=function(){var C=y.length-1;return s==="startX"&&(a>l?w%v===0:E%v===0)||a<l&&E===C||s==="endX"&&(a>l?E%v===0:w%v===0)||a>l&&E===C};this.setState(Zr(Zr({},s,c+g),"brushMoveStartX",r.pageX),function(){m&&x()&&m(_)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,s=this.state,a=s.scaleValues,l=s.startX,c=s.endX,u=this.state[i],d=a.indexOf(u);if(d!==-1){var h=d+r;if(!(h===-1||h>=a.length)){var p=a[h];i==="startX"&&p>=c||i==="endX"&&p<=l||this.setState(Zr({},i,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.fill,c=r.stroke;return V.createElement("rect",{stroke:c,fill:l,x:i,y:o,width:s,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.data,c=r.children,u=r.padding,d=S.Children.only(c);return d?V.cloneElement(d,{x:i,y:o,width:s,height:a,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,s,a=this,l=this.props,c=l.y,u=l.travellerWidth,d=l.height,h=l.traveller,p=l.ariaLabel,m=l.data,v=l.startIndex,y=l.endIndex,b=Math.max(r,this.props.x),g=Lw(Lw({},St(this.props,!1)),{},{x:b,y:c,width:u,height:d}),_=p||"Min value: ".concat((o=m[v])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=m[y])===null||s===void 0?void 0:s.name);return V.createElement(Wn,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),a.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,g))}},{key:"renderSlide",value:function(r,i){var o=this.props,s=o.y,a=o.height,l=o.stroke,c=o.travellerWidth,u=Math.min(r,i)+c,d=Math.max(Math.abs(i-r)-c,0);return V.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:s,width:d,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,s=r.y,a=r.height,l=r.travellerWidth,c=r.stroke,u=this.state,d=u.startX,h=u.endX,p=5,m={pointerEvents:"none",fill:c};return V.createElement(Wn,{className:"recharts-brush-texts"},V.createElement(mv,Lv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-p,y:s+a/2},m),this.getTextOfTick(i)),V.createElement(mv,Lv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+p,y:s+a/2},m),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,s=r.children,a=r.x,l=r.y,c=r.width,u=r.height,d=r.alwaysShowText,h=this.state,p=h.startX,m=h.endX,v=h.isTextActive,y=h.isSlideMoving,b=h.isTravellerMoving,g=h.isTravellerFocused;if(!i||!i.length||!he(a)||!he(l)||!he(c)||!he(u)||c<=0||u<=0)return null;var _=It("recharts-brush",o),w=V.Children.count(s)===1,E=uPe("userSelect","none");return V.createElement(Wn,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),w&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(v||y||b||g||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,s=r.width,a=r.height,l=r.stroke,c=Math.floor(o+a/2)-1;return V.createElement(V.Fragment,null,V.createElement("rect",{x:i,y:o,width:s,height:a,fill:l,stroke:"none"}),V.createElement("line",{x1:i+1,y1:c,x2:i+s-1,y2:c,fill:"none",stroke:"#fff"}),V.createElement("line",{x1:i+1,y1:c+2,x2:i+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return V.isValidElement(r)?o=V.cloneElement(r,i):ct(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,s=r.width,a=r.x,l=r.travellerWidth,c=r.updateId,u=r.startIndex,d=r.endIndex;if(o!==i.prevData||c!==i.prevUpdateId)return Lw({prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:a,prevWidth:s},o&&o.length?yPe({data:o,width:s,x:a,travellerWidth:l,startIndex:u,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+s-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:a,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,s=0,a=o-1;a-s>1;){var l=Math.floor((s+a)/2);r[l]>i?a=l:s=l}return i>=r[a]?a:s}}]),e}(S.PureComponent);Zr($u,"displayName","Brush");Zr($u,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var vPe=rI;function _Pe(t,e){var n;return vPe(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var bPe=_Pe,wPe=H3,xPe=Na,EPe=bPe,SPe=Qr,TPe=M0;function CPe(t,e,n){var r=SPe(t)?wPe:EPe;return n&&TPe(t,e,n)&&(e=void 0),r(t,xPe(e))}var APe=CPe;const IPe=kt(APe);var Ro=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},BD=pz;function PPe(t,e,n){e=="__proto__"&&BD?BD(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var OPe=PPe,kPe=OPe,NPe=fz,RPe=Na;function jPe(t,e){var n={};return e=RPe(e),NPe(t,function(r,i,o){kPe(n,i,e(r,i,o))}),n}var MPe=jPe;const DPe=kt(MPe);function $Pe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var LPe=$Pe,FPe=rI;function VPe(t,e){var n=!0;return FPe(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var UPe=VPe,BPe=LPe,zPe=UPe,WPe=Na,HPe=Qr,qPe=M0;function GPe(t,e,n){var r=HPe(t)?BPe:zPe;return n&&qPe(t,e,n)&&(e=void 0),r(t,WPe(e))}var KPe=GPe;const W6=kt(KPe);var QPe=["x","y"];function bp(t){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bp(t)}function fS(){return fS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fS.apply(this,arguments)}function zD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zD(Object(n),!0).forEach(function(r){YPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YPe(t,e,n){return e=XPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XPe(t){var e=JPe(t,"string");return bp(e)=="symbol"?e:String(e)}function JPe(t,e){if(bp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZPe(t,e){if(t==null)return{};var n=eOe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eOe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function tOe(t,e){var n=t.x,r=t.y,i=ZPe(t,QPe),o="".concat(n),s=parseInt(o,10),a="".concat(r),l=parseInt(a,10),c="".concat(e.height||i.height),u=parseInt(c,10),d="".concat(e.width||i.width),h=parseInt(d,10);return tf(tf(tf(tf(tf({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:h,name:e.name,radius:e.radius})}function WD(t){return V.createElement(FIe,fS({shapeType:"rectangle",propTransformer:tOe,activeClassName:"recharts-active-bar"},t))}var nOe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=typeof r=="number";return o?e(r,i):(o||zl(!1),n)}},rOe=["value","background"],H6;function Lu(t){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lu(t)}function iOe(t,e){if(t==null)return{};var n=oOe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oOe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Vv(){return Vv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vv.apply(this,arguments)}function HD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HD(Object(n),!0).forEach(function(r){Gs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,G6(r.key),r)}}function aOe(t,e,n){return e&&qD(t.prototype,e),n&&qD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function lOe(t,e,n){return e=Uv(e),cOe(t,q6()?Reflect.construct(e,n||[],Uv(t).constructor):e.apply(t,n))}function cOe(t,e){if(e&&(Lu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yf(t)}function q6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q6=function(){return!!t})()}function Uv(t){return Uv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Uv(t)}function yf(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hS(t,e)}function hS(t,e){return hS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hS(t,e)}function Gs(t,e,n){return e=G6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G6(t){var e=dOe(t,"string");return Lu(e)=="symbol"?e:String(e)}function dOe(t,e){if(Lu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rc=function(t){uOe(e,t);function e(){var n;sOe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=lOe(this,e,[].concat(i)),Gs(yf(n),"state",{isAnimationFinished:!1}),Gs(yf(n),"id",I0("recharts-bar-")),Gs(yf(n),"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),Gs(yf(n),"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return aOe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,s=o.shape,a=o.dataKey,l=o.activeIndex,c=o.activeBar,u=St(this.props,!1);return r&&r.map(function(d,h){var p=h===l,m=p?c:s,v=Dn(Dn(Dn({},u),d),{},{isActive:p,option:m,index:h,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return V.createElement(Wn,Vv({className:"recharts-bar-rectangle"},tv(i.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value)}),V.createElement(WD,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,s=i.layout,a=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,h=this.state.prevData;return V.createElement(_a,{begin:l,duration:c,isActive:a,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,v=o.map(function(y,b){var g=h&&h[b];if(g){var _=fc(g.x,y.x),w=fc(g.y,y.y),E=fc(g.width,y.width),x=fc(g.height,y.height);return Dn(Dn({},y),{},{x:_(m),y:w(m),width:E(m),height:x(m)})}if(s==="horizontal"){var T=fc(0,y.height),C=T(m);return Dn(Dn({},y),{},{y:y.y+y.height-C,height:C})}var O=fc(0,y.width),I=O(m);return Dn(Dn({},y),{},{width:I})});return V.createElement(Wn,null,r.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,s=this.state.prevData;return o&&i&&i.length&&(!s||!PI(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,s=i.dataKey,a=i.activeIndex,l=St(this.props.background,!1);return o.map(function(c,u){c.value;var d=c.background,h=iOe(c,rOe);if(!d)return null;var p=Dn(Dn(Dn(Dn(Dn({},h),{},{fill:"#eee"},d),l),tv(r.props,c,u)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:u,key:"background-bar-".concat(u),className:"recharts-bar-background-rectangle"});return V.createElement(WD,Vv({option:r.props.background,isActive:u===a},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,a=o.xAxis,l=o.yAxis,c=o.layout,u=o.children,d=io(u,q0);if(!d)return null;var h=c==="vertical"?s[0].height/2:s[0].width/2,p=function(y,b){var g=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:g,errorVal:Lo(y,b)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return V.createElement(Wn,m,d.map(function(v){return V.cloneElement(v,{key:"error-bar-".concat(i,"-").concat(v.props.dataKey),data:s,xAxis:a,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,s=r.className,a=r.xAxis,l=r.yAxis,c=r.left,u=r.top,d=r.width,h=r.height,p=r.isAnimationActive,m=r.background,v=r.id;if(i||!o||!o.length)return null;var y=this.state.isAnimationFinished,b=It("recharts-bar",s),g=a&&a.allowDataOverflow,_=l&&l.allowDataOverflow,w=g||_,E=At(v)?this.id:v;return V.createElement(Wn,{className:b},g||_?V.createElement("defs",null,V.createElement("clipPath",{id:"clipPath-".concat(E)},V.createElement("rect",{x:g?c:c-d/2,y:_?u:u-h/2,width:g?d:d*2,height:_?h:h*2}))):null,V.createElement(Wn,{className:"recharts-bar-rectangles",clipPath:w?"url(#clipPath-".concat(E,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(w,E),(!p||y)&&_l.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}]),e}(S.PureComponent);H6=rc;Gs(rc,"displayName","Bar");Gs(rc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ca.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Gs(rc,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,d=t.displayedData,h=t.offset,p=eTe(r,n);if(!p)return null;var m=e.layout,v=n.props,y=v.dataKey,b=v.children,g=v.minPointSize,_=m==="horizontal"?s:o,w=c?_.scale.domain():null,E=lTe({numericAxis:_}),x=io(b,sI),T=d.map(function(C,O){var I,D,L,j,B,Y;c?I=tTe(c[u+O],w):(I=Lo(C,y),Array.isArray(I)||(I=[E,I]));var X=nOe(g,H6.defaultProps.minPointSize)(I[1],O);if(m==="horizontal"){var U,M=[s.scale(I[0]),s.scale(I[1])],q=M[0],N=M[1];D=zM({axis:o,ticks:a,bandSize:i,offset:p.offset,entry:C,index:O}),L=(U=N??q)!==null&&U!==void 0?U:void 0,j=p.size;var P=q-N;if(B=Number.isNaN(P)?0:P,Y={x:D,y:s.y,width:j,height:s.height},Math.abs(X)>0&&Math.abs(B)<Math.abs(X)){var W=Ji(B||X)*(Math.abs(X)-Math.abs(B));L-=W,B+=W}}else{var Z=[o.scale(I[0]),o.scale(I[1])],se=Z[0],Q=Z[1];if(D=se,L=zM({axis:s,ticks:l,bandSize:i,offset:p.offset,entry:C,index:O}),j=Q-se,B=p.size,Y={x:o.x,y:L,width:o.width,height:B},Math.abs(X)>0&&Math.abs(j)<Math.abs(X)){var ee=Ji(j||X)*(Math.abs(X)-Math.abs(j));j+=ee}}return Dn(Dn(Dn({},C),{},{x:D,y:L,width:j,height:B,value:c?I:I[1],payload:C,background:Y},x&&x[O]&&x[O].props),{},{tooltipPayload:[E6(n,C)],tooltipPosition:{x:D+j/2,y:L+B/2}})});return Dn({data:T,layout:m},h)});function wp(t){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wp(t)}function fOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,K6(r.key),r)}}function hOe(t,e,n){return e&&GD(t.prototype,e),n&&GD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function KD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KD(Object(n),!0).forEach(function(r){Q0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q0(t,e,n){return e=K6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K6(t){var e=pOe(t,"string");return wp(e)=="symbol"?e:String(e)}function pOe(t,e){if(wp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mOe=function(e,n,r,i,o){var s=e.width,a=e.height,l=e.layout,c=e.children,u=Object.keys(n),d={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},h=!!ti(c,rc);return u.reduce(function(p,m){var v=n[m],y=v.orientation,b=v.domain,g=v.padding,_=g===void 0?{}:g,w=v.mirror,E=v.reversed,x="".concat(y).concat(w?"Mirror":""),T,C,O,I,D;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var L=b[1]-b[0],j=1/0,B=v.categoricalDomain.sort();if(B.forEach(function(se,Q){Q>0&&(j=Math.min((se||0)-(B[Q-1]||0),j))}),Number.isFinite(j)){var Y=j/L,X=v.layout==="vertical"?r.height:r.width;if(v.padding==="gap"&&(T=Y*X/2),v.padding==="no-gap"){var U=Ul(e.barCategoryGap,Y*X),M=Y*X/2;T=M-U-(M-U)/X*U}}}i==="xAxis"?C=[r.left+(_.left||0)+(T||0),r.left+r.width-(_.right||0)-(T||0)]:i==="yAxis"?C=l==="horizontal"?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(T||0),r.top+r.height-(_.bottom||0)-(T||0)]:C=v.range,E&&(C=[C[1],C[0]]);var q=JSe(v,o,h),N=q.scale,P=q.realScaleType;N.domain(b).range(C),ZSe(N);var W=aTe(N,qi(qi({},v),{},{realScaleType:P}));i==="xAxis"?(D=y==="top"&&!w||y==="bottom"&&w,O=r.left,I=d[x]-D*v.height):i==="yAxis"&&(D=y==="left"&&!w||y==="right"&&w,O=d[x]-D*v.width,I=r.top);var Z=qi(qi(qi({},v),W),{},{realScaleType:P,x:O,y:I,scale:N,width:i==="xAxis"?r.width:v.width,height:i==="yAxis"?r.height:v.height});return Z.bandSize=Iv(Z,W),!v.hide&&i==="xAxis"?d[x]+=(D?-1:1)*Z.height:v.hide||(d[x]+=(D?-1:1)*Z.width),qi(qi({},p),{},Q0({},m,Z))},{})},Q6=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return{x:Math.min(r,o),y:Math.min(i,s),width:Math.abs(o-r),height:Math.abs(s-i)}},gOe=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return Q6({x:n,y:r},{x:i,y:o})},Y6=function(){function t(e){fOe(this,t),this.scale=e}return hOe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}]),t}();Q0(Y6,"EPS",1e-4);var jI=function(e){var n=Object.keys(e).reduce(function(r,i){return qi(qi({},r),{},Q0({},i,Y6.create(e[i])))},{});return qi(qi({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,a=o.position;return DPe(i,function(l,c){return n[c].apply(l,{bandAware:s,position:a})})},isInRange:function(i){return W6(i,function(o,s){return n[s].isInRange(o)})}})};function yOe(t){return(t%180+180)%180}var vOe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=yOe(i),s=o*Math.PI/180,a=Math.atan(r/n),l=s>a&&s<Math.PI-a?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},_Oe=Na,bOe=um,wOe=R0;function xOe(t){return function(e,n,r){var i=Object(e);if(!bOe(e)){var o=_Oe(n);e=wOe(e),n=function(a){return o(i[a],a,i)}}var s=t(e,n,r);return s>-1?i[o?e[s]:s]:void 0}}var EOe=xOe,SOe=V6;function TOe(t){var e=SOe(t),n=e%1;return e===e?n?e-n:e:0}var COe=TOe,AOe=oz,IOe=Na,POe=COe,OOe=Math.max;function kOe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:POe(n);return i<0&&(i=OOe(r+i,0)),AOe(t,IOe(e),i)}var NOe=kOe,ROe=EOe,jOe=NOe,MOe=ROe(jOe),DOe=MOe;const $Oe=kt(DOe);var LOe=Kue(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),MI=S.createContext(void 0),DI=S.createContext(void 0),X6=S.createContext(void 0),J6=S.createContext({}),Z6=S.createContext(void 0),e9=S.createContext(0),t9=S.createContext(0),QD=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,s=e.clipPathId,a=e.children,l=e.width,c=e.height,u=LOe(o);return V.createElement(MI.Provider,{value:r},V.createElement(DI.Provider,{value:i},V.createElement(J6.Provider,{value:o},V.createElement(X6.Provider,{value:u},V.createElement(Z6.Provider,{value:s},V.createElement(e9.Provider,{value:c},V.createElement(t9.Provider,{value:l},a)))))))},FOe=function(){return S.useContext(Z6)},n9=function(e){var n=S.useContext(MI);n==null&&zl(!1);var r=n[e];return r==null&&zl(!1),r},VOe=function(){var e=S.useContext(MI);return zs(e)},UOe=function(){var e=S.useContext(DI),n=$Oe(e,function(r){return W6(r.domain,Number.isFinite)});return n||zs(e)},r9=function(e){var n=S.useContext(DI);n==null&&zl(!1);var r=n[e];return r==null&&zl(!1),r},BOe=function(){var e=S.useContext(X6);return e},zOe=function(){return S.useContext(J6)},$I=function(){return S.useContext(t9)},LI=function(){return S.useContext(e9)};function xp(t){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xp(t)}function YD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YD(Object(n),!0).forEach(function(r){WOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WOe(t,e,n){return e=HOe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HOe(t){var e=qOe(t,"string");return xp(e)=="symbol"?e:String(e)}function qOe(t,e){if(xp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GOe(t,e){return XOe(t)||YOe(t,e)||QOe(t,e)||KOe()}function KOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QOe(t,e){if(t){if(typeof t=="string")return JD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JD(t,e)}}function JD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function YOe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function XOe(t){if(Array.isArray(t))return t}function pS(){return pS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pS.apply(this,arguments)}var JOe=function(e,n){var r;return V.isValidElement(e)?r=V.cloneElement(e,n):ct(e)?r=e(n):r=V.createElement("line",pS({},n,{className:"recharts-reference-line-line"})),r},ZOe=function(e,n,r,i,o,s,a,l,c){var u=o.x,d=o.y,h=o.width,p=o.height;if(r){var m=c.y,v=e.y.apply(m,{position:s});if(Ro(c,"discard")&&!e.y.isInRange(v))return null;var y=[{x:u+h,y:v},{x:u,y:v}];return l==="left"?y.reverse():y}if(n){var b=c.x,g=e.x.apply(b,{position:s});if(Ro(c,"discard")&&!e.x.isInRange(g))return null;var _=[{x:g,y:d+p},{x:g,y:d}];return a==="top"?_.reverse():_}if(i){var w=c.segment,E=w.map(function(x){return e.apply(x,{position:s})});return Ro(c,"discard")&&IPe(E,function(x){return!e.isInRange(x)})?null:E}return null};function FI(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,a=t.className,l=t.alwaysShow,c=FOe(),u=n9(i),d=r9(o),h=BOe();if(!c||!h)return null;us(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=jI({x:u.scale,y:d.scale}),m=Nn(e),v=Nn(n),y=r&&r.length===2,b=ZOe(p,m,v,y,h,t.position,u.orientation,d.orientation,t);if(!b)return null;var g=GOe(b,2),_=g[0],w=_.x,E=_.y,x=g[1],T=x.x,C=x.y,O=Ro(t,"hidden")?"url(#".concat(c,")"):void 0,I=XD(XD({clipPath:O},St(t,!0)),{},{x1:w,y1:E,x2:T,y2:C});return V.createElement(Wn,{className:It("recharts-reference-line",a)},JOe(s,I),vr.renderCallByParent(t,gOe({x1:w,y1:E,x2:T,y2:C})))}FI.displayName="ReferenceLine";FI.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function Ep(t){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ep(t)}function mS(){return mS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mS.apply(this,arguments)}function ZD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function e$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZD(Object(n),!0).forEach(function(r){eke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eke(t,e,n){return e=tke(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tke(t){var e=nke(t,"string");return Ep(e)=="symbol"?e:String(e)}function nke(t,e){if(Ep(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ep(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rke=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,s=jI({x:i.scale,y:o.scale}),a=s.apply({x:n,y:r},{bandAware:!0});return Ro(e,"discard")&&!s.isInRange(a)?null:a};function mm(t){var e=t.x,n=t.y,r=t.r,i=t.alwaysShow,o=t.clipPathId,s=Nn(e),a=Nn(n);if(us(i===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!s||!a)return null;var l=rke(t);if(!l)return null;var c=l.x,u=l.y,d=t.shape,h=t.className,p=Ro(t,"hidden")?"url(#".concat(o,")"):void 0,m=e$(e$({clipPath:p},St(t,!0)),{},{cx:c,cy:u});return V.createElement(Wn,{className:It("recharts-reference-dot",h)},mm.renderDot(d,m),vr.renderCallByParent(t,{x:c-r,y:u-r,width:2*r,height:2*r}))}mm.displayName="ReferenceDot";mm.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1};mm.renderDot=function(t,e){var n;return V.isValidElement(t)?n=V.cloneElement(t,e):ct(t)?n=t(e):n=V.createElement(L6,mS({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n};function Sp(t){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sp(t)}function gS(){return gS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gS.apply(this,arguments)}function t$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function n$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t$(Object(n),!0).forEach(function(r){ike(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ike(t,e,n){return e=oke(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oke(t){var e=ske(t,"string");return Sp(e)=="symbol"?e:String(e)}function ske(t,e){if(Sp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ake=function(e,n,r,i,o){var s=o.x1,a=o.x2,l=o.y1,c=o.y2,u=o.xAxis,d=o.yAxis;if(!u||!d)return null;var h=jI({x:u.scale,y:d.scale}),p={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},m={x:n?h.x.apply(a,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return Ro(o,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:Q6(p,m)};function gm(t){var e=t.x1,n=t.x2,r=t.y1,i=t.y2,o=t.className,s=t.alwaysShow,a=t.clipPathId;us(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var l=Nn(e),c=Nn(n),u=Nn(r),d=Nn(i),h=t.shape;if(!l&&!c&&!u&&!d&&!h)return null;var p=ake(l,c,u,d,t);if(!p&&!h)return null;var m=Ro(t,"hidden")?"url(#".concat(a,")"):void 0;return V.createElement(Wn,{className:It("recharts-reference-area",o)},gm.renderRect(h,n$(n$({clipPath:m},St(t,!0)),p)),vr.renderCallByParent(t,p))}gm.displayName="ReferenceArea";gm.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1};gm.renderRect=function(t,e){var n;return V.isValidElement(t)?n=V.cloneElement(t,e):ct(t)?n=t(e):n=V.createElement(RI,gS({},e,{className:"recharts-reference-area-rect"})),n};function i9(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)if(n===void 0||n(t[i])===!0)r.push(t[i]);else return;return r}function lke(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return vOe(r,n)}function cke(t,e,n){var r=n==="width",i=t.x,o=t.y,s=t.width,a=t.height;return e===1?{start:r?i:o,end:r?i+s:o+a}:{start:r?i+s:o+a,end:r?i:o}}function Bv(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function uke(t,e){return i9(t,e+1)}function dke(t,e,n,r,i){for(var o=(r||[]).slice(),s=e.start,a=e.end,l=0,c=1,u=s,d=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:i9(r,c)};var v=l,y,b=function(){return y===void 0&&(y=n(m,v)),y},g=m.coordinate,_=l===0||Bv(t,g,b,u,a);_||(l=0,u=s,c+=1),_&&(u=g+t*(b()/2+i),l+=c)},h;c<=o.length;)if(h=d(),h)return h.v;return[]}function Tp(t){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tp(t)}function r$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r$(Object(n),!0).forEach(function(r){fke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fke(t,e,n){return e=hke(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hke(t){var e=pke(t,"string");return Tp(e)=="symbol"?e:String(e)}function pke(t,e){if(Tp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Tp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mke(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,a=e.start,l=e.end,c=function(h){var p=o[h],m,v=function(){return m===void 0&&(m=n(p,h)),m};if(h===s-1){var y=t*(p.coordinate+t*v()/2-l);o[h]=p=fr(fr({},p),{},{tickCoord:y>0?p.coordinate-y*t:p.coordinate})}else o[h]=p=fr(fr({},p),{},{tickCoord:p.coordinate});var b=Bv(t,p.tickCoord,v,a,l);b&&(l=p.tickCoord-t*(v()/2+i),o[h]=fr(fr({},p),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return o}function gke(t,e,n,r,i,o){var s=(r||[]).slice(),a=s.length,l=e.start,c=e.end;if(o){var u=r[a-1],d=n(u,a-1),h=t*(u.coordinate+t*d/2-c);s[a-1]=u=fr(fr({},u),{},{tickCoord:h>0?u.coordinate-h*t:u.coordinate});var p=Bv(t,u.tickCoord,function(){return d},l,c);p&&(c=u.tickCoord-t*(d/2+i),s[a-1]=fr(fr({},u),{},{isShow:!0}))}for(var m=o?a-1:a,v=function(g){var _=s[g],w,E=function(){return w===void 0&&(w=n(_,g)),w};if(g===0){var x=t*(_.coordinate-t*E()/2-l);s[g]=_=fr(fr({},_),{},{tickCoord:x<0?_.coordinate-x*t:_.coordinate})}else s[g]=_=fr(fr({},_),{},{tickCoord:_.coordinate});var T=Bv(t,_.tickCoord,E,l,c);T&&(l=_.tickCoord+t*(E()/2+i),s[g]=fr(fr({},_),{},{isShow:!0}))},y=0;y<m;y++)v(y);return s}function VI(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,a=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if(he(l)||ca.isSsr)return uke(i,typeof l=="number"&&he(l)?l:0);var h=[],p=a==="top"||a==="bottom"?"width":"height",m=u&&p==="width"?qf(u,{fontSize:e,letterSpacing:n}):{width:0,height:0},v=function(_,w){var E=ct(c)?c(_.value,w):_.value;return p==="width"?lke(qf(E,{fontSize:e,letterSpacing:n}),m,d):qf(E,{fontSize:e,letterSpacing:n})[p]},y=i.length>=2?Ji(i[1].coordinate-i[0].coordinate):1,b=cke(o,y,p);return l==="equidistantPreserveStart"?dke(y,b,v,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=gke(y,b,v,i,s,l==="preserveStartEnd"):h=mke(y,b,v,i,s),h.filter(function(g){return g.isShow}))}var yke=["viewBox"],vke=["viewBox"],_ke=["ticks"];function Fu(t){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fu(t)}function Lc(){return Lc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lc.apply(this,arguments)}function i$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ir(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i$(Object(n),!0).forEach(function(r){UI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fw(t,e){if(t==null)return{};var n=bke(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bke(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function wke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s9(r.key),r)}}function xke(t,e,n){return e&&o$(t.prototype,e),n&&o$(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Eke(t,e,n){return e=zv(e),Ske(t,o9()?Reflect.construct(e,n||[],zv(t).constructor):e.apply(t,n))}function Ske(t,e){if(e&&(Fu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tke(t)}function Tke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o9=function(){return!!t})()}function zv(t){return zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zv(t)}function Cke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yS(t,e)}function yS(t,e){return yS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yS(t,e)}function UI(t,e,n){return e=s9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s9(t){var e=Ake(t,"string");return Fu(e)=="symbol"?e:String(e)}function Ake(t,e){if(Fu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bd=function(t){Cke(e,t);function e(n){var r;return wke(this,e),r=Eke(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return xke(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,s=Fw(r,yke),a=this.props,l=a.viewBox,c=Fw(a,vke);return!Zc(o,l)||!Zc(s,c)||!Zc(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,s=i.y,a=i.width,l=i.height,c=i.orientation,u=i.tickSize,d=i.mirror,h=i.tickMargin,p,m,v,y,b,g,_=d?-1:1,w=r.tickSize||u,E=he(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":p=m=r.coordinate,y=s+ +!d*l,v=y-_*w,g=v-_*h,b=E;break;case"left":v=y=r.coordinate,m=o+ +!d*a,p=m-_*w,b=p-_*h,g=E;break;case"right":v=y=r.coordinate,m=o+ +d*a,p=m+_*w,b=p+_*h,g=E;break;default:p=m=r.coordinate,y=s+ +d*l,v=y+_*w,g=v+_*h,b=E;break}return{line:{x1:p,y1:v,x2:m,y2:y},tick:{x:b,y:g}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s;switch(i){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.orientation,c=r.mirror,u=r.axisLine,d=Ir(Ir(Ir({},St(this.props,!1)),St(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);d=Ir(Ir({},d),{},{x1:i,y1:o+h*a,x2:i+s,y2:o+h*a})}else{var p=+(l==="left"&&!c||l==="right"&&c);d=Ir(Ir({},d),{},{x1:i+p*s,y1:o,x2:i+p*s,y2:o+a})}return V.createElement("line",Lc({},d,{className:It("recharts-cartesian-axis-line",Ii(u,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var s=this,a=this.props,l=a.tickLine,c=a.stroke,u=a.tick,d=a.tickFormatter,h=a.unit,p=VI(Ir(Ir({},this.props),{},{ticks:r}),i,o),m=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),y=St(this.props,!1),b=St(u,!1),g=Ir(Ir({},y),{},{fill:"none"},St(l,!1)),_=p.map(function(w,E){var x=s.getTickLineCoord(w),T=x.line,C=x.tick,O=Ir(Ir(Ir(Ir({textAnchor:m,verticalAnchor:v},y),{},{stroke:"none",fill:c},b),C),{},{index:E,payload:w,visibleTicksCount:p.length,tickFormatter:d});return V.createElement(Wn,Lc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(w.value,"-").concat(w.coordinate,"-").concat(w.tickCoord)},tv(s.props,w,E)),l&&V.createElement("line",Lc({},g,T,{className:It("recharts-cartesian-axis-tick-line",Ii(l,"className"))})),u&&e.renderTickItem(u,O,"".concat(ct(d)?d(w.value,E):w.value).concat(h||"")))});return V.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,s=i.width,a=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var d=this.props,h=d.ticks,p=Fw(d,_ke),m=h;return ct(l)&&(m=h&&h.length>0?l(this.props):l(p)),s<=0||a<=0||!m||!m.length?null:V.createElement(Wn,{className:It("recharts-cartesian-axis",c),ref:function(y){r.layerReference=y}},o&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),vr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var s;return V.isValidElement(r)?s=V.cloneElement(r,i):ct(r)?s=r(i):s=V.createElement(mv,Lc({},i,{className:"recharts-cartesian-axis-tick-value"}),o),s}}]),e}(S.Component);UI(bd,"displayName","CartesianAxis");UI(bd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Ike=["x1","y1","x2","y2","key"],Pke=["offset"];function Wl(t){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wl(t)}function s$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _r(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s$(Object(n),!0).forEach(function(r){Oke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oke(t,e,n){return e=kke(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kke(t){var e=Nke(t,"string");return Wl(e)=="symbol"?e:String(e)}function Nke(t,e){if(Wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cl(){return cl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cl.apply(this,arguments)}function a$(t,e){if(t==null)return{};var n=Rke(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Rke(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var jke=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,s=e.width,a=e.height;return V.createElement("rect",{x:i,y:o,width:s,height:a,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function a9(t,e){var n;if(V.isValidElement(t))n=V.cloneElement(t,e);else if(ct(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,s=e.y2,a=e.key,l=a$(e,Ike),c=St(l,!1);c.offset;var u=a$(c,Pke);n=V.createElement("line",cl({},u,{x1:r,y1:i,x2:o,y2:s,fill:"none",key:a}))}return n}function Mke(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var c=_r(_r({},t),{},{x1:e,y1:a,x2:e+n,y2:a,key:"line-".concat(l),index:l});return a9(i,c)});return V.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function Dke(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var c=_r(_r({},t),{},{x1:a,y1:e,x2:a,y2:e+n,key:"line-".concat(l),index:l});return a9(i,c)});return V.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function $ke(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,s=t.height,a=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=a.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==u[0]&&u.unshift(0);var d=u.map(function(h,p){var m=!u[p+1],v=m?i+s-h:u[p+1]-h;if(v<=0)return null;var y=p%e.length;return V.createElement("rect",{key:"react-".concat(p),y:h,x:r,height:v,width:o,stroke:"none",fill:e[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return V.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Lke(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,s=t.y,a=t.width,l=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var u=c.map(function(h){return Math.round(h+o-o)}).sort(function(h,p){return h-p});o!==u[0]&&u.unshift(0);var d=u.map(function(h,p){var m=!u[p+1],v=m?o+a-h:u[p+1]-h;if(v<=0)return null;var y=p%r.length;return V.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:v,height:l,stroke:"none",fill:r[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return V.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Fke=function(e,n){var r=e.xAxis,i=e.width,o=e.height,s=e.offset;return w6(VI(_r(_r(_r({},bd.defaultProps),r),{},{ticks:is(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.left,s.left+s.width,n)},Vke=function(e,n){var r=e.yAxis,i=e.width,o=e.height,s=e.offset;return w6(VI(_r(_r(_r({},bd.defaultProps),r),{},{ticks:is(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.top,s.top+s.height,n)},mc={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function l9(t){var e,n,r,i,o,s,a=$I(),l=LI(),c=zOe(),u=_r(_r({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:mc.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:mc.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:mc.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:mc.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:mc.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:mc.verticalFill,x:he(t.x)?t.x:c.left,y:he(t.y)?t.y:c.top,width:he(t.width)?t.width:c.width,height:he(t.height)?t.height:c.height}),d=u.x,h=u.y,p=u.width,m=u.height,v=u.syncWithTicks,y=u.horizontalValues,b=u.verticalValues,g=VOe(),_=UOe();if(!he(p)||p<=0||!he(m)||m<=0||!he(d)||d!==+d||!he(h)||h!==+h)return null;var w=u.verticalCoordinatesGenerator||Fke,E=u.horizontalCoordinatesGenerator||Vke,x=u.horizontalPoints,T=u.verticalPoints;if((!x||!x.length)&&ct(E)){var C=y&&y.length,O=E({yAxis:_?_r(_r({},_),{},{ticks:C?y:_.ticks}):void 0,width:a,height:l,offset:c},C?!0:v);us(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Wl(O),"]")),Array.isArray(O)&&(x=O)}if((!T||!T.length)&&ct(w)){var I=b&&b.length,D=w({xAxis:g?_r(_r({},g),{},{ticks:I?b:g.ticks}):void 0,width:a,height:l,offset:c},I?!0:v);us(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Wl(D),"]")),Array.isArray(D)&&(T=D)}return V.createElement("g",{className:"recharts-cartesian-grid"},V.createElement(jke,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height}),V.createElement(Mke,cl({},u,{offset:c,horizontalPoints:x,xAxis:g,yAxis:_})),V.createElement(Dke,cl({},u,{offset:c,verticalPoints:T,xAxis:g,yAxis:_})),V.createElement($ke,cl({},u,{horizontalPoints:x})),V.createElement(Lke,cl({},u,{verticalPoints:T})))}l9.displayName="CartesianGrid";function vS(){return vS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vS.apply(this,arguments)}var Y0=function(e){var n=e.xAxisId,r=$I(),i=LI(),o=n9(n);return o==null?null:V.createElement(bd,vS({},o,{className:It("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return is(a,!0)}}))};Y0.displayName="XAxis";Y0.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};function _S(){return _S=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_S.apply(this,arguments)}var X0=function(e){var n=e.yAxisId,r=$I(),i=LI(),o=r9(n);return o==null?null:V.createElement(bd,_S({},o,{className:It("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return is(a,!0)}}))};X0.displayName="YAxis";X0.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};function l$(t){return Wke(t)||zke(t)||Bke(t)||Uke()}function Uke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bke(t,e){if(t){if(typeof t=="string")return bS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bS(t,e)}}function zke(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Wke(t){if(Array.isArray(t))return bS(t)}function bS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var wS=function(e,n,r,i,o){var s=io(e,FI),a=io(e,mm),l=[].concat(l$(s),l$(a)),c=io(e,gm),u="".concat(i,"Id"),d=i[0],h=n;if(l.length&&(h=l.reduce(function(v,y){if(y.props[u]===r&&Ro(y.props,"extendDomain")&&he(y.props[d])){var b=y.props[d];return[Math.min(v[0],b),Math.max(v[1],b)]}return v},h)),c.length){var p="".concat(d,"1"),m="".concat(d,"2");h=c.reduce(function(v,y){if(y.props[u]===r&&Ro(y.props,"extendDomain")&&he(y.props[p])&&he(y.props[m])){var b=y.props[p],g=y.props[m];return[Math.min(v[0],b,g),Math.max(v[1],b,g)]}return v},h)}return o&&o.length&&(h=o.reduce(function(v,y){return he(y)?[Math.min(v[0],y),Math.max(v[1],y)]:v},h)),h},c9={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function o(l,c,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,d||l,h),m=n?n+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)e.call(u,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=n?n+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,m=new Array(p);h<p;h++)m[h]=d[h].fn;return m},a.prototype.listenerCount=function(c){var u=n?n+c:c,d=this._events[u];return d?d.fn?1:d.length:0},a.prototype.emit=function(c,u,d,h,p,m){var v=n?n+c:c;if(!this._events[v])return!1;var y=this._events[v],b=arguments.length,g,_;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),b){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,d),!0;case 4:return y.fn.call(y.context,u,d,h),!0;case 5:return y.fn.call(y.context,u,d,h,p),!0;case 6:return y.fn.call(y.context,u,d,h,p,m),!0}for(_=1,g=new Array(b-1);_<b;_++)g[_-1]=arguments[_];y.fn.apply(y.context,g)}else{var w=y.length,E;for(_=0;_<w;_++)switch(y[_].once&&this.removeListener(c,y[_].fn,void 0,!0),b){case 1:y[_].fn.call(y[_].context);break;case 2:y[_].fn.call(y[_].context,u);break;case 3:y[_].fn.call(y[_].context,u,d);break;case 4:y[_].fn.call(y[_].context,u,d,h);break;default:if(!g)for(E=1,g=new Array(b-1);E<b;E++)g[E-1]=arguments[E];y[_].fn.apply(y[_].context,g)}}return!0},a.prototype.on=function(c,u,d){return o(this,c,u,d,!1)},a.prototype.once=function(c,u,d){return o(this,c,u,d,!0)},a.prototype.removeListener=function(c,u,d,h){var p=n?n+c:c;if(!this._events[p])return this;if(!u)return s(this,p),this;var m=this._events[p];if(m.fn)m.fn===u&&(!h||m.once)&&(!d||m.context===d)&&s(this,p);else{for(var v=0,y=[],b=m.length;v<b;v++)(m[v].fn!==u||h&&!m[v].once||d&&m[v].context!==d)&&y.push(m[v]);y.length?this._events[p]=y.length===1?y[0]:y:s(this,p)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&s(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(c9);var Hke=c9.exports;const qke=kt(Hke);var Vw=new qke,Uw="recharts.syncMouseEvents";function Cp(t){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cp(t)}function Gke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u9(r.key),r)}}function Kke(t,e,n){return e&&c$(t.prototype,e),n&&c$(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bw(t,e,n){return e=u9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u9(t){var e=Qke(t,"string");return Cp(e)=="symbol"?e:String(e)}function Qke(t,e){if(Cp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yke=function(){function t(){Gke(this,t),Bw(this,"activeIndex",0),Bw(this,"coordinateList",[]),Bw(this,"layout","horizontal")}return Kke(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,s=n.container,a=s===void 0?null:s,l=n.layout,c=l===void 0?null:l,u=n.offset,d=u===void 0?null:u,h=n.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=o+l+c,h=s+this.offset.top+a/2+u;this.mouseHandlerCallback({pageX:d,pageY:h})}}}]),t}();function Xke(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&he(r)&&he(i))return!0}return!1}function Jke(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function d9(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,s=nr(e,n,r,i),a=nr(e,n,r,o);return{points:[s,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function Zke(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,d=e.angle,h=nr(a,l,c,d),p=nr(a,l,u,d);r=h.x,i=h.y,o=p.x,s=p.y}else return d9(e);return[{x:r,y:i},{x:o,y:s}]}function Ap(t){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ap(t)}function u$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u$(Object(n),!0).forEach(function(r){eNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eNe(t,e,n){return e=tNe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tNe(t){var e=nNe(t,"string");return Ap(e)=="symbol"?e:String(e)}function nNe(t,e){if(Ap(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ap(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rNe(t){var e=t.element,n=t.tooltipEventType,r=t.isActive,i=t.activeCoordinate,o=t.activePayload,s=t.offset,a=t.activeTooltipIndex,l=t.tooltipAxisBandSize,c=t.layout,u=t.chartName;if(!e||!e.props.cursor||!r||!i||u!=="ScatterChart"&&n!=="axis")return null;var d,h=oD;if(u==="ScatterChart")d=i,h=ZAe;else if(u==="BarChart")d=Jke(c,i,s,l),h=RI;else if(c==="radial"){var p=d9(i),m=p.cx,v=p.cy,y=p.radius,b=p.startAngle,g=p.endAngle;d={cx:m,cy:v,startAngle:b,endAngle:g,innerRadius:y,outerRadius:y},h=C6}else d={points:Zke(c,i,s)},h=oD;var _=dg(dg(dg(dg({stroke:"#ccc",pointerEvents:"none"},s),d),St(e.props.cursor,!1)),{},{payload:o,payloadIndex:a,className:It("recharts-tooltip-cursor",e.props.cursor.className)});return S.isValidElement(e.props.cursor)?S.cloneElement(e.props.cursor,_):S.createElement(h,_)}var iNe=["item"],oNe=["children","className","width","height","style","compact","title","desc"];function Vu(t){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vu(t)}function Yf(){return Yf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yf.apply(this,arguments)}function d$(t,e){return lNe(t)||aNe(t,e)||h9(t,e)||sNe()}function sNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aNe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function lNe(t){if(Array.isArray(t))return t}function f$(t,e){if(t==null)return{};var n=cNe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cNe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function uNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p9(r.key),r)}}function dNe(t,e,n){return e&&h$(t.prototype,e),n&&h$(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function fNe(t,e,n){return e=Wv(e),hNe(t,f9()?Reflect.construct(e,n||[],Wv(t).constructor):e.apply(t,n))}function hNe(t,e){if(e&&(Vu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yt(t)}function f9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f9=function(){return!!t})()}function Wv(t){return Wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wv(t)}function yt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xS(t,e)}function xS(t,e){return xS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xS(t,e)}function Uu(t){return yNe(t)||gNe(t)||h9(t)||mNe()}function mNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h9(t,e){if(t){if(typeof t=="string")return ES(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ES(t,e)}}function gNe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yNe(t){if(Array.isArray(t))return ES(t)}function ES(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function p$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function re(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p$(Object(n),!0).forEach(function(r){Le(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Le(t,e,n){return e=p9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p9(t){var e=vNe(t,"string");return Vu(e)=="symbol"?e:String(e)}function vNe(t,e){if(Vu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _Ne={xAxis:["bottom","top"],yAxis:["left","right"]},bNe={width:"100%",height:"100%"},m9={x:0,y:0};function fg(t){return t}var wNe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},xNe=function(e,n,r,i){var o=n.find(function(u){return u&&u.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,a=i.radius;return re(re(re({},i),nr(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var l=o.coordinate,c=i.angle;return re(re(re({},i),nr(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return m9},J0=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,s=(r??[]).reduce(function(a,l){var c=l.props.data;return c&&c.length?[].concat(Uu(a),Uu(c)):a},[]);return s.length>0?s:e&&e.length&&he(i)&&he(o)?e.slice(i,o+1):[]};function g9(t){return t==="number"?[0,"auto"]:void 0}var SS=function(e,n,r,i){var o=e.graphicalItems,s=e.tooltipAxis,a=J0(n,e);return r<0||!o||!o.length||r>=a.length?null:o.reduce(function(l,c){var u,d=(u=c.props.data)!==null&&u!==void 0?u:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var p=d===void 0?a:d;h=lE(p,s.dataKey,i)}else h=d&&d[r]||a[r];return h?[].concat(Uu(l),[E6(c,h)]):l},[])},m$=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},s=wNe(o,r),a=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=qSe(s,a,c,l);if(u>=0&&c){var d=c[u]&&c[u].value,h=SS(e,n,u,d),p=xNe(r,a,u,o);return{activeTooltipIndex:u,activeLabel:d,activePayload:h,activeCoordinate:p}}return null},ENe=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,d=e.children,h=e.stackOffset,p=b6(u,o);return r.reduce(function(m,v){var y,b=v.props,g=b.type,_=b.dataKey,w=b.allowDataOverflow,E=b.allowDuplicatedCategory,x=b.scale,T=b.ticks,C=b.includeHidden,O=v.props[s];if(m[O])return m;var I=J0(e.data,{graphicalItems:i.filter(function(W){return W.props[s]===O}),dataStartIndex:l,dataEndIndex:c}),D=I.length,L,j,B;Xke(v.props.domain,w,g)&&(L=QE(v.props.domain,null,w),p&&(g==="number"||x!=="auto")&&(B=Kf(I,_,"category")));var Y=g9(g);if(!L||L.length===0){var X,U=(X=v.props.domain)!==null&&X!==void 0?X:Y;if(_){if(L=Kf(I,_,g),g==="category"&&p){var M=Gde(L);E&&M?(j=L,L=$v(0,D)):E||(L=qM(U,L,v).reduce(function(W,Z){return W.indexOf(Z)>=0?W:[].concat(Uu(W),[Z])},[]))}else if(g==="category")E?L=L.filter(function(W){return W!==""&&!At(W)}):L=qM(U,L,v).reduce(function(W,Z){return W.indexOf(Z)>=0||Z===""||At(Z)?W:[].concat(Uu(W),[Z])},[]);else if(g==="number"){var q=XSe(I,i.filter(function(W){return W.props[s]===O&&(C||!W.props.hide)}),_,o,u);q&&(L=q)}p&&(g==="number"||x!=="auto")&&(B=Kf(I,_,"category"))}else p?L=$v(0,D):a&&a[O]&&a[O].hasStack&&g==="number"?L=h==="expand"?[0,1]:x6(a[O].stackGroups,l,c):L=_6(I,i.filter(function(W){return W.props[s]===O&&(C||!W.props.hide)}),g,u,!0);if(g==="number")L=wS(d,L,O,o,T),U&&(L=QE(U,L,w));else if(g==="category"&&U){var N=U,P=L.every(function(W){return N.indexOf(W)>=0});P&&(L=N)}}return re(re({},m),{},Le({},O,re(re({},v.props),{},{axisType:o,domain:L,categoricalDomain:B,duplicateDomain:j,originalDomain:(y=v.props.domain)!==null&&y!==void 0?y:Y,isCategorical:p,layout:u})))},{})},SNe=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,d=e.children,h=J0(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),p=h.length,m=b6(u,o),v=-1;return r.reduce(function(y,b){var g=b.props[s],_=g9("number");if(!y[g]){v++;var w;return m?w=$v(0,p):a&&a[g]&&a[g].hasStack?(w=x6(a[g].stackGroups,l,c),w=wS(d,w,g,o)):(w=QE(_,_6(h,r.filter(function(E){return E.props[s]===g&&!E.props.hide}),"number",u),i.defaultProps.allowDataOverflow),w=wS(d,w,g,o)),re(re({},y),{},Le({},g,re(re({axisType:o},i.defaultProps),{},{hide:!0,orientation:Ii(_Ne,"".concat(o,".").concat(v%2),null),domain:w,originalDomain:_,isCategorical:m,layout:u})))}return y},{})},TNe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,s=n.graphicalItems,a=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.children,d="".concat(i,"Id"),h=io(u,o),p={};return h&&h.length?p=ENe(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:a,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(p=SNe(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:a,dataStartIndex:l,dataEndIndex:c})),p},CNe=function(e){var n=zs(e),r=is(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:iI(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Iv(n,r)}},g$=function(e){var n=e.children,r=e.defaultShowTooltip,i=ti(n,$u),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},ANe=function(e){return!e||!e.length?!1:e.some(function(n){var r=cs(n&&n.type);return r&&r.indexOf("Bar")>=0})},y$=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},INe=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,a=e.yAxisMap,l=a===void 0?{}:a,c=r.width,u=r.height,d=r.children,h=r.margin||{},p=ti(d,$u),m=ti(d,Hh),v=Object.keys(l).reduce(function(E,x){var T=l[x],C=T.orientation;return!T.mirror&&!T.hide?re(re({},E),{},Le({},C,E[C]+T.width)):E},{left:h.left||0,right:h.right||0}),y=Object.keys(s).reduce(function(E,x){var T=s[x],C=T.orientation;return!T.mirror&&!T.hide?re(re({},E),{},Le({},C,Ii(E,"".concat(C))+T.height)):E},{top:h.top||0,bottom:h.bottom||0}),b=re(re({},y),v),g=b.bottom;p&&(b.bottom+=p.props.height||$u.defaultProps.height),m&&n&&(b=QSe(b,i,r,n));var _=c-b.left-b.right,w=u-b.top-b.bottom;return re(re({brushBottom:g},b),{},{width:Math.max(_,0),height:Math.max(w,0)})},PNe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},ONe=function(e){var n,r=e.chartName,i=e.GraphicalChild,o=e.defaultTooltipEventType,s=o===void 0?"axis":o,a=e.validateTooltipEventTypes,l=a===void 0?["axis"]:a,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,h=e.defaultProps,p=function(y,b){var g=b.graphicalItems,_=b.stackGroups,w=b.offset,E=b.updateId,x=b.dataStartIndex,T=b.dataEndIndex,C=y.barSize,O=y.layout,I=y.barGap,D=y.barCategoryGap,L=y.maxBarSize,j=y$(O),B=j.numericAxisName,Y=j.cateAxisName,X=ANe(g),U=[];return g.forEach(function(M,q){var N=J0(y.data,{graphicalItems:[M],dataStartIndex:x,dataEndIndex:T}),P=M.props,W=P.dataKey,Z=P.maxBarSize,se=M.props["".concat(B,"Id")],Q=M.props["".concat(Y,"Id")],ee={},J=c.reduce(function(je,Rt){var mn=b["".concat(Rt.axisType,"Map")],Tn=M.props["".concat(Rt.axisType,"Id")];mn&&mn[Tn]||Rt.axisType==="zAxis"||zl(!1);var _t=mn[Tn];return re(re({},je),{},Le(Le({},Rt.axisType,_t),"".concat(Rt.axisType,"Ticks"),is(_t)))},ee),k=J[Y],A=J["".concat(Y,"Ticks")],$=_&&_[se]&&_[se].hasStack&&cTe(M,_[se].stackGroups),R=cs(M.type).indexOf("Bar")>=0,F=Iv(k,A),G=[],H=X&&GSe({barSize:C,stackGroups:_,totalSize:PNe(J,Y)});if(R){var ae,de,pe=At(Z)?L:Z,Se=(ae=(de=Iv(k,A,!0))!==null&&de!==void 0?de:pe)!==null&&ae!==void 0?ae:0;G=KSe({barGap:I,barCategoryGap:D,bandSize:Se!==F?Se:F,sizeList:H[Q],maxBarSize:pe}),Se!==F&&(G=G.map(function(je){return re(re({},je),{},{position:re(re({},je.position),{},{offset:je.position.offset-Se/2})})}))}var gt=M&&M.type&&M.type.getComposedData;gt&&U.push({props:re(re({},gt(re(re({},J),{},{displayedData:N,props:y,dataKey:W,item:M,bandSize:F,barPosition:G,offset:w,stackedData:$,layout:O,dataStartIndex:x,dataEndIndex:T}))),{},Le(Le(Le({key:M.key||"item-".concat(q)},B,J[B]),Y,J[Y]),"animationId",E)),childIndex:ife(M,y.children),item:M})}),U},m=function(y,b){var g=y.props,_=y.dataStartIndex,w=y.dataEndIndex,E=y.updateId;if(!$R({props:g}))return null;var x=g.children,T=g.layout,C=g.stackOffset,O=g.data,I=g.reverseStackOrder,D=y$(T),L=D.numericAxisName,j=D.cateAxisName,B=io(x,i),Y=sTe(O,B,"".concat(L,"Id"),"".concat(j,"Id"),C,I),X=c.reduce(function(P,W){var Z="".concat(W.axisType,"Map");return re(re({},P),{},Le({},Z,TNe(g,re(re({},W),{},{graphicalItems:B,stackGroups:W.axisType===L&&Y,dataStartIndex:_,dataEndIndex:w}))))},{}),U=INe(re(re({},X),{},{props:g,graphicalItems:B}),b==null?void 0:b.legendBBox);Object.keys(X).forEach(function(P){X[P]=d(g,X[P],U,P.replace("Map",""),r)});var M=X["".concat(j,"Map")],q=CNe(M),N=p(g,re(re({},X),{},{dataStartIndex:_,dataEndIndex:w,updateId:E,graphicalItems:B,stackGroups:Y,offset:U}));return re(re({formattedGraphicalItems:N,graphicalItems:B,offset:U,stackGroups:Y},q),X)};return n=function(v){pNe(y,v);function y(b){var g,_,w;return uNe(this,y),w=fNe(this,y,[b]),Le(yt(w),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Le(yt(w),"accessibilityManager",new Yke),Le(yt(w),"handleLegendBBoxUpdate",function(E){if(E){var x=w.state,T=x.dataStartIndex,C=x.dataEndIndex,O=x.updateId;w.setState(re({legendBBox:E},m({props:w.props,dataStartIndex:T,dataEndIndex:C,updateId:O},re(re({},w.state),{},{legendBBox:E}))))}}),Le(yt(w),"handleReceiveSyncEvent",function(E,x,T){if(w.props.syncId===E){if(T===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(x)}}),Le(yt(w),"handleBrushChange",function(E){var x=E.startIndex,T=E.endIndex;if(x!==w.state.dataStartIndex||T!==w.state.dataEndIndex){var C=w.state.updateId;w.setState(function(){return re({dataStartIndex:x,dataEndIndex:T},m({props:w.props,dataStartIndex:x,dataEndIndex:T,updateId:C},w.state))}),w.triggerSyncEvent({dataStartIndex:x,dataEndIndex:T})}}),Le(yt(w),"handleMouseEnter",function(E){var x=w.getMouseInfo(E);if(x){var T=re(re({},x),{},{isTooltipActive:!0});w.setState(T),w.triggerSyncEvent(T);var C=w.props.onMouseEnter;ct(C)&&C(T,E)}}),Le(yt(w),"triggeredAfterMouseMove",function(E){var x=w.getMouseInfo(E),T=x?re(re({},x),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(T),w.triggerSyncEvent(T);var C=w.props.onMouseMove;ct(C)&&C(T,E)}),Le(yt(w),"handleItemMouseEnter",function(E){w.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),Le(yt(w),"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),Le(yt(w),"handleMouseMove",function(E){E.persist(),w.throttleTriggeredAfterMouseMove(E)}),Le(yt(w),"handleMouseLeave",function(E){w.throttleTriggeredAfterMouseMove.cancel();var x={isTooltipActive:!1};w.setState(x),w.triggerSyncEvent(x);var T=w.props.onMouseLeave;ct(T)&&T(x,E)}),Le(yt(w),"handleOuterEvent",function(E){var x=rfe(E),T=Ii(w.props,"".concat(x));if(x&&ct(T)){var C,O;/.*touch.*/i.test(x)?O=w.getMouseInfo(E.changedTouches[0]):O=w.getMouseInfo(E),T((C=O)!==null&&C!==void 0?C:{},E)}}),Le(yt(w),"handleClick",function(E){var x=w.getMouseInfo(E);if(x){var T=re(re({},x),{},{isTooltipActive:!0});w.setState(T),w.triggerSyncEvent(T);var C=w.props.onClick;ct(C)&&C(T,E)}}),Le(yt(w),"handleMouseDown",function(E){var x=w.props.onMouseDown;if(ct(x)){var T=w.getMouseInfo(E);x(T,E)}}),Le(yt(w),"handleMouseUp",function(E){var x=w.props.onMouseUp;if(ct(x)){var T=w.getMouseInfo(E);x(T,E)}}),Le(yt(w),"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),Le(yt(w),"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&w.handleMouseDown(E.changedTouches[0])}),Le(yt(w),"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&w.handleMouseUp(E.changedTouches[0])}),Le(yt(w),"triggerSyncEvent",function(E){w.props.syncId!==void 0&&Vw.emit(Uw,w.props.syncId,E,w.eventEmitterSymbol)}),Le(yt(w),"applySyncEvent",function(E){var x=w.props,T=x.layout,C=x.syncMethod,O=w.state.updateId,I=E.dataStartIndex,D=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)w.setState(re({dataStartIndex:I,dataEndIndex:D},m({props:w.props,dataStartIndex:I,dataEndIndex:D,updateId:O},w.state)));else if(E.activeTooltipIndex!==void 0){var L=E.chartX,j=E.chartY,B=E.activeTooltipIndex,Y=w.state,X=Y.offset,U=Y.tooltipTicks;if(!X)return;if(typeof C=="function")B=C(U,E);else if(C==="value"){B=-1;for(var M=0;M<U.length;M++)if(U[M].value===E.activeLabel){B=M;break}}var q=re(re({},X),{},{x:X.left,y:X.top}),N=Math.min(L,q.x+q.width),P=Math.min(j,q.y+q.height),W=U[B]&&U[B].value,Z=SS(w.state,w.props.data,B),se=U[B]?{x:T==="horizontal"?U[B].coordinate:N,y:T==="horizontal"?P:U[B].coordinate}:m9;w.setState(re(re({},E),{},{activeLabel:W,activeCoordinate:se,activePayload:Z,activeTooltipIndex:B}))}else w.setState(E)}),Le(yt(w),"renderCursor",function(E){var x,T=w.state,C=T.isTooltipActive,O=T.activeCoordinate,I=T.activePayload,D=T.offset,L=T.activeTooltipIndex,j=T.tooltipAxisBandSize,B=w.getTooltipEventType(),Y=(x=E.props.active)!==null&&x!==void 0?x:C,X=w.props.layout,U=E.key||"_recharts-cursor";return V.createElement(rNe,{key:U,activeCoordinate:O,activePayload:I,activeTooltipIndex:L,chartName:r,element:E,isActive:Y,layout:X,offset:D,tooltipAxisBandSize:j,tooltipEventType:B})}),Le(yt(w),"renderPolarAxis",function(E,x,T){var C=Ii(E,"type.axisType"),O=Ii(w.state,"".concat(C,"Map")),I=O&&O[E.props["".concat(C,"Id")]];return S.cloneElement(E,re(re({},I),{},{className:It(C,I.className),key:E.key||"".concat(x,"-").concat(T),ticks:is(I,!0)}))}),Le(yt(w),"renderPolarGrid",function(E){var x=E.props,T=x.radialLines,C=x.polarAngles,O=x.polarRadius,I=w.state,D=I.radiusAxisMap,L=I.angleAxisMap,j=zs(D),B=zs(L),Y=B.cx,X=B.cy,U=B.innerRadius,M=B.outerRadius;return S.cloneElement(E,{polarAngles:Array.isArray(C)?C:is(B,!0).map(function(q){return q.coordinate}),polarRadius:Array.isArray(O)?O:is(j,!0).map(function(q){return q.coordinate}),cx:Y,cy:X,innerRadius:U,outerRadius:M,key:E.key||"polar-grid",radialLines:T})}),Le(yt(w),"renderLegend",function(){var E=w.state.formattedGraphicalItems,x=w.props,T=x.children,C=x.width,O=x.height,I=w.props.margin||{},D=C-(I.left||0)-(I.right||0),L=y6({children:T,formattedGraphicalItems:E,legendWidth:D,legendContent:u});if(!L)return null;var j=L.item,B=f$(L,iNe);return S.cloneElement(j,re(re({},B),{},{chartWidth:C,chartHeight:O,margin:I,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),Le(yt(w),"renderTooltip",function(){var E,x=w.props,T=x.children,C=x.accessibilityLayer,O=ti(T,yo);if(!O)return null;var I=w.state,D=I.isTooltipActive,L=I.activeCoordinate,j=I.activePayload,B=I.activeLabel,Y=I.offset,X=(E=O.props.active)!==null&&E!==void 0?E:D;return S.cloneElement(O,{viewBox:re(re({},Y),{},{x:Y.left,y:Y.top}),active:X,label:B,payload:X?j:[],coordinate:L,accessibilityLayer:C})}),Le(yt(w),"renderBrush",function(E){var x=w.props,T=x.margin,C=x.data,O=w.state,I=O.offset,D=O.dataStartIndex,L=O.dataEndIndex,j=O.updateId;return S.cloneElement(E,{key:E.key||"_recharts-brush",onChange:ag(w.handleBrushChange,E.props.onChange),data:C,x:he(E.props.x)?E.props.x:I.left,y:he(E.props.y)?E.props.y:I.top+I.height+I.brushBottom-(T.bottom||0),width:he(E.props.width)?E.props.width:I.width,startIndex:D,endIndex:L,updateId:"brush-".concat(j)})}),Le(yt(w),"renderReferenceElement",function(E,x,T){if(!E)return null;var C=yt(w),O=C.clipPathId,I=w.state,D=I.xAxisMap,L=I.yAxisMap,j=I.offset,B=E.props,Y=B.xAxisId,X=B.yAxisId;return S.cloneElement(E,{key:E.key||"".concat(x,"-").concat(T),xAxis:D[Y],yAxis:L[X],viewBox:{x:j.left,y:j.top,width:j.width,height:j.height},clipPathId:O})}),Le(yt(w),"renderActivePoints",function(E){var x=E.item,T=E.activePoint,C=E.basePoint,O=E.childIndex,I=E.isRange,D=[],L=x.props.key,j=x.item.props,B=j.activeDot,Y=j.dataKey,X=re(re({index:O,dataKey:Y,cx:T.x,cy:T.y,r:4,fill:NI(x.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value,key:"".concat(L,"-activePoint-").concat(O)},St(B,!1)),ev(B));return D.push(y.renderActiveDot(B,X)),C?D.push(y.renderActiveDot(B,re(re({},X),{},{cx:C.x,cy:C.y,key:"".concat(L,"-basePoint-").concat(O)}))):I&&D.push(null),D}),Le(yt(w),"renderGraphicChild",function(E,x,T){var C=w.filterFormatItem(E,x,T);if(!C)return null;var O=w.getTooltipEventType(),I=w.state,D=I.isTooltipActive,L=I.tooltipAxis,j=I.activeTooltipIndex,B=I.activeLabel,Y=w.props.children,X=ti(Y,yo),U=C.props,M=U.points,q=U.isRange,N=U.baseLine,P=C.item.props,W=P.activeDot,Z=P.hide,se=P.activeBar,Q=P.activeShape,ee=!!(!Z&&D&&X&&(W||se||Q)),J={};O!=="axis"&&X&&X.props.trigger==="click"?J={onClick:ag(w.handleItemMouseEnter,E.props.onClick)}:O!=="axis"&&(J={onMouseLeave:ag(w.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:ag(w.handleItemMouseEnter,E.props.onMouseEnter)});var k=S.cloneElement(E,re(re({},C.props),J));function A(Rt){return typeof L.dataKey=="function"?L.dataKey(Rt.payload):null}if(ee)if(j>=0){var $,R;if(L.dataKey&&!L.allowDuplicatedCategory){var F=typeof L.dataKey=="function"?A:"payload.".concat(L.dataKey.toString());$=lE(M,F,B),R=q&&N&&lE(N,F,B)}else $=M==null?void 0:M[j],R=q&&N&&N[j];if(Q||se){var G=E.props.activeIndex!==void 0?E.props.activeIndex:j;return[S.cloneElement(E,re(re(re({},C.props),J),{},{activeIndex:G})),null,null]}if(!At($))return[k].concat(Uu(w.renderActivePoints({item:C,activePoint:$,basePoint:R,childIndex:j,isRange:q})))}else{var H,ae=(H=w.getItemByXY(w.state.activeCoordinate))!==null&&H!==void 0?H:{graphicalItem:k},de=ae.graphicalItem,pe=de.item,Se=pe===void 0?E:pe,gt=de.childIndex,je=re(re(re({},C.props),J),{},{activeIndex:gt});return[S.cloneElement(Se,je),null,null]}return q?[k,null,null]:[k,null]}),Le(yt(w),"renderCustomized",function(E,x,T){return S.cloneElement(E,re(re({key:"recharts-customized-".concat(T)},w.props),w.state))}),Le(yt(w),"renderMap",{CartesianGrid:{handler:fg,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:fg},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:fg},YAxis:{handler:fg},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((g=b.id)!==null&&g!==void 0?g:I0("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=bz(w.triggeredAfterMouseMove,(_=b.throttleDelay)!==null&&_!==void 0?_:1e3/60),w.state={},w}return dNe(y,[{key:"componentDidMount",value:function(){var g,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(g=this.props.margin.left)!==null&&g!==void 0?g:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var g=this.props,_=g.children,w=g.data,E=g.height,x=g.layout,T=ti(_,yo);if(T){var C=T.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length)){var O=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,I=SS(this.state,w,C,O),D=this.state.tooltipTicks[C].coordinate,L=(this.state.offset.top+E)/2,j=x==="horizontal",B=j?{x:D,y:L}:{y:D,x:L},Y=this.state.formattedGraphicalItems.find(function(U){var M=U.item;return M.type.name==="Scatter"});Y&&(B=re(re({},B),Y.props.points[C].tooltipPosition),I=Y.props.points[C].tooltipPayload);var X={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:O,activePayload:I,activeCoordinate:B};this.setState(X),this.renderCursor(T),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(g,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==g.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==g.margin){var w,E;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(g){uE([ti(g.children,yo)],[ti(this.props.children,yo)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var g=ti(this.props.children,yo);if(g&&typeof g.props.shared=="boolean"){var _=g.props.shared?"axis":"item";return l.indexOf(_)>=0?_:s}return s}},{key:"getMouseInfo",value:function(g){if(!this.container)return null;var _=this.container,w=_.getBoundingClientRect(),E=Cwe(w),x={chartX:Math.round(g.pageX-E.left),chartY:Math.round(g.pageY-E.top)},T=w.width/_.offsetWidth||1,C=this.inRange(x.chartX,x.chartY,T);if(!C)return null;var O=this.state,I=O.xAxisMap,D=O.yAxisMap,L=this.getTooltipEventType();if(L!=="axis"&&I&&D){var j=zs(I).scale,B=zs(D).scale,Y=j&&j.invert?j.invert(x.chartX):null,X=B&&B.invert?B.invert(x.chartY):null;return re(re({},x),{},{xValue:Y,yValue:X})}var U=m$(this.state,this.props.data,this.props.layout,C);return U?re(re({},x),U):null}},{key:"inRange",value:function(g,_){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,x=g/w,T=_/w;if(E==="horizontal"||E==="vertical"){var C=this.state.offset,O=x>=C.left&&x<=C.left+C.width&&T>=C.top&&T<=C.top+C.height;return O?{x,y:T}:null}var I=this.state,D=I.angleAxisMap,L=I.radiusAxisMap;if(D&&L){var j=zs(D);return QM({x,y:T},j)}return null}},{key:"parseEventsOfWrapper",value:function(){var g=this.props.children,_=this.getTooltipEventType(),w=ti(g,yo),E={};w&&_==="axis"&&(w.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var x=ev(this.props,this.handleOuterEvent);return re(re({},x),E)}},{key:"addListener",value:function(){Vw.on(Uw,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Vw.removeListener(Uw,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(g,_,w){for(var E=this.state.formattedGraphicalItems,x=0,T=E.length;x<T;x++){var C=E[x];if(C.item===g||C.props.key===g.key||_===cs(C.item.type)&&w===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var g=this.clipPathId,_=this.state.offset,w=_.left,E=_.top,x=_.height,T=_.width;return V.createElement("defs",null,V.createElement("clipPath",{id:g},V.createElement("rect",{x:w,y:E,height:x,width:T})))}},{key:"getXScales",value:function(){var g=this.state.xAxisMap;return g?Object.entries(g).reduce(function(_,w){var E=d$(w,2),x=E[0],T=E[1];return re(re({},_),{},Le({},x,T.scale))},{}):null}},{key:"getYScales",value:function(){var g=this.state.yAxisMap;return g?Object.entries(g).reduce(function(_,w){var E=d$(w,2),x=E[0],T=E[1];return re(re({},_),{},Le({},x,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(g){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[g])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(g){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[g])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(g){var _=this.state,w=_.formattedGraphicalItems,E=_.activeItem;if(w&&w.length)for(var x=0,T=w.length;x<T;x++){var C=w[x],O=C.props,I=C.item,D=cs(I.type);if(D==="Bar"){var L=(O.data||[]).find(function(X){return zAe(g,X)});if(L)return{graphicalItem:C,payload:L}}else if(D==="RadialBar"){var j=(O.data||[]).find(function(X){return QM(g,X)});if(j)return{graphicalItem:C,payload:j}}else if(G0(C,E)||K0(C,E)||vp(C,E)){var B=qIe({graphicalItem:C,activeTooltipItem:E,itemData:I.props.data}),Y=I.props.activeIndex===void 0?B:I.props.activeIndex;return{graphicalItem:re(re({},C),{},{childIndex:Y}),payload:vp(C,E)?I.props.data[B]:C.props.data[B]}}}return null}},{key:"render",value:function(){var g=this;if(!$R(this))return null;var _=this.props,w=_.children,E=_.className,x=_.width,T=_.height,C=_.style,O=_.compact,I=_.title,D=_.desc,L=f$(_,oNe),j=St(L,!1);if(O)return V.createElement(QD,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement(fE,Yf({},j,{width:x,height:T,title:I,desc:D}),this.renderClipPath(),FR(w,this.renderMap)));if(this.props.accessibilityLayer){var B,Y;j.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,j.role=(Y=this.props.role)!==null&&Y!==void 0?Y:"application",j.onKeyDown=function(U){g.accessibilityManager.keyboardEvent(U)},j.onFocus=function(){g.accessibilityManager.focus()}}var X=this.parseEventsOfWrapper();return V.createElement(QD,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement("div",Yf({className:It("recharts-wrapper",E),style:re({position:"relative",cursor:"default",width:x,height:T},C)},X,{ref:function(M){g.container=M}}),V.createElement(fE,Yf({},j,{width:x,height:T,title:I,desc:D,style:bNe}),this.renderClipPath(),FR(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}]),y}(S.Component),Le(n,"displayName",r),Le(n,"defaultProps",re({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Le(n,"getDerivedStateFromProps",function(v,y){var b=v.dataKey,g=v.data,_=v.children,w=v.width,E=v.height,x=v.layout,T=v.stackOffset,C=v.margin,O=y.dataStartIndex,I=y.dataEndIndex;if(y.updateId===void 0){var D=g$(v);return re(re(re({},D),{},{updateId:0},m(re(re({props:v},D),{},{updateId:0}),y)),{},{prevDataKey:b,prevData:g,prevWidth:w,prevHeight:E,prevLayout:x,prevStackOffset:T,prevMargin:C,prevChildren:_})}if(b!==y.prevDataKey||g!==y.prevData||w!==y.prevWidth||E!==y.prevHeight||x!==y.prevLayout||T!==y.prevStackOffset||!Zc(C,y.prevMargin)){var L=g$(v),j={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},B=re(re({},m$(y,g,x)),{},{updateId:y.updateId+1}),Y=re(re(re({},L),j),B);return re(re(re({},Y),m(re({props:v},Y),y)),{},{prevDataKey:b,prevData:g,prevWidth:w,prevHeight:E,prevLayout:x,prevStackOffset:T,prevMargin:C,prevChildren:_})}if(!uE(_,y.prevChildren)){var X,U,M,q,N=ti(_,$u),P=N&&(X=(U=N.props)===null||U===void 0?void 0:U.startIndex)!==null&&X!==void 0?X:O,W=N&&(M=(q=N.props)===null||q===void 0?void 0:q.endIndex)!==null&&M!==void 0?M:I,Z=P!==O||W!==I,se=!At(g),Q=se&&!Z?y.updateId:y.updateId+1;return re(re({updateId:Q},m(re(re({props:v},y),{},{updateId:Q,dataStartIndex:P,dataEndIndex:W}),y)),{},{prevChildren:_,dataStartIndex:P,dataEndIndex:W})}return null}),Le(n,"renderActiveDot",function(v,y){var b;return S.isValidElement(v)?b=S.cloneElement(v,y):ct(v)?b=v(y):b=V.createElement(L6,y),V.createElement(Wn,{className:"recharts-active-dot",key:y.key},b)}),n},kNe=ONe({chartName:"BarChart",GraphicalChild:rc,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Y0},{axisType:"yAxis",AxisComp:X0}],formatAxisMap:mOe});function NNe(t){let[e,n]=S.useState(!1),[r,i]=S.useState([]),[o,s]=S.useState([]),[a,l]=S.useState(0),[c,u]=S.useState([]),[d,h]=S.useState([]),[p,m]=S.useState({retos:!0,examenes:!0,usuarios:!0,profesores:!0,grupos:!0});S.useEffect(()=>{n(t.modal);async function _(){try{const w=await Ue(me(le,"config"));let E=[];w.forEach(L=>{E.push(L.data())}),i(E);const x=await Ue(me(le,"grupos"));let T=[];x.forEach(L=>{T.push(L.data())}),s(T);const C=await Ue(me(le,"examen"));let O=[];C.forEach(L=>{O.push(L.data())}),u(O);const D=await(await fetch("https://api-booku.vercel.app/reto/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t.usuario.accessToken}})).json();l(D.data.length)}catch(w){console.error("Error fetching data: ",w)}}_()},[t.modal]),S.useEffect(()=>{const _=[{name:"Usuarios",value:r.length,key:"usuarios"},{name:"Profesores",value:r.filter(E=>E.permisos===2).length,key:"profesores"},{name:"Retos",value:a,key:"retos"},{name:"Exámenes",value:c.length,key:"examenes"},{name:"Grupos",value:o.length,key:"grupos"}];let w={retos:_.find(E=>E.key==="retos").value>0,examenes:_.find(E=>E.key==="examenes").value>0,usuarios:_.find(E=>E.key==="usuarios").value>0,profesores:_.find(E=>E.key==="profesores").value>0,grupos:_.find(E=>E.key==="grupos").value>0};m(w),h(_)},[a,c,r,o]);function v(){n(!e),t.onOcultar()}function y(_){m(w=>({...w,[_]:!w[_]}))}const b={retos:"#B05252",examenes:"#76B052",usuarios:"#526DB0",profesores:"#B052A7",grupos:"#52B07E"},g=d.filter(_=>p[_.key]);return g.length*10,f.jsx("div",{className:`modal fade justify-content-center align-items-baseline align-items-md-center ${e?"show":""}`,style:{display:e?"flex":"none"},onClick:v,children:f.jsx("div",{className:"grupos modal-content w-75 h-70 overflow-auto",onClick:_=>_.stopPropagation(),children:f.jsxs("div",{className:"modal-body",children:[f.jsx("div",{children:f.jsx("button",{onClick:v,type:"button",className:"btn position-absolute z-3 top-0 end-0",children:f.jsx(tt,{className:"display-1",icon:"material-symbols:close-rounded"})})}),f.jsxs("div",{className:"d-flex flex-column align-items-center py-5 admin__usuarios position-relative h-100",children:[f.jsx("h2",{className:"text-uppercase",children:"Estadísticas"}),f.jsxs("div",{className:"menu-estadisticas",children:[f.jsx("button",{onClick:()=>y("usuarios"),className:"btn fs-3 "+(p.usuarios?"text-menu1":"text-tertiary-dark"),children:"Número de usuarios"}),f.jsx("button",{onClick:()=>y("profesores"),className:"btn fs-3 "+(p.profesores?"text-menu2":"text-tertiary-dark"),children:"Número de profesores"}),f.jsx("button",{onClick:()=>y("retos"),className:"btn fs-3 "+(p.retos?"text-menu3":"text-tertiary-dark"),children:"Número de retos"}),f.jsx("button",{onClick:()=>y("examenes"),className:"btn fs-3 "+(p.examenes?"text-menu4":"text-tertiary-dark"),children:"Número de examenes"}),f.jsx("button",{onClick:()=>y("grupos"),className:"btn fs-3 "+(p.grupos?"text-menu5":"text-tertiary-dark"),children:"Número de grupos"})]}),f.jsx("div",{className:"d-flex align-items-center h-100 mt-5 w-md-50",children:f.jsx(_we,{width:"100%",height:400,children:f.jsxs(kNe,{data:g,margin:{top:5,right:30,left:20,bottom:5},children:[f.jsx(l9,{strokeDasharray:"3 3"}),f.jsx(Y0,{dataKey:"name"}),f.jsx(X0,{}),f.jsx(yo,{}),f.jsx(rc,{dataKey:"value",children:g.map((_,w)=>f.jsx(sI,{fill:b[_.key]},`cell-${w}`))})]})})})]})]})})})}function RNe({modal:t,onOcultar:e}){const[n,r]=S.useState(!1),[i,o]=S.useState([]),[s,a]=S.useState(!1),[l,c]=S.useState(null),[u,d]=S.useState(!1);let[h,p]=S.useState(!1),[m,v]=S.useState(0);const[y,b]=S.useState({number:"",premio:"",foto:"https://firebasestorage.googleapis.com/v0/b/lee-con-booku.appspot.com/o/money.png?alt=media&token=97d4de41-e1e5-4c80-8715-b8f5b5e15369"});S.useEffect(()=>{r(t);const O=nt(me(le,"recompensas"),rt("activa","==",!0));Ue(O).then(I=>{var j;const L=I.docs.map(B=>({id:B.id,...B.data()}))[0].recompensas.sort((B,Y)=>B.number-Y.number);o(L),b({number:parseInt(((j=L[L.length-1])==null?void 0:j.number)||0)+1,premio:"",foto:"https://firebasestorage.googleapis.com/v0/b/lee-con-booku.appspot.com/o/money.png?alt=media&token=97d4de41-e1e5-4c80-8715-b8f5b5e15369"})})},[t]);function g(){r(!1),e()}function _(O){const{name:I,value:D}=O.target;b(L=>({...L,[I]:D}))}function w(){const I=[...i,y].sort((L,j)=>L.number-j.number),D=Ae(le,"recompensas","5zvEygcjucpYze6gKYdz");De(D,{recompensas:I}).then(()=>{o(I),b({number:parseInt(y.number)+1,premio:"",foto:"https://firebasestorage.googleapis.com/v0/b/lee-con-booku.appspot.com/o/money.png?alt=media&token=97d4de41-e1e5-4c80-8715-b8f5b5e15369"}),a(!1),c(null),d(!1)})}function E(O){b(i[O]),a(!0),c(O),d(!0)}function x(){const O=[...i];O[l]=y;const I=O.sort((L,j)=>L.number-j.number),D=Ae(le,"recompensas","5zvEygcjucpYze6gKYdz");De(D,{recompensas:I}).then(()=>{o(I),b({number:parseInt(y.number)+1,premio:"",foto:"https://firebasestorage.googleapis.com/v0/b/lee-con-booku.appspot.com/o/money.png?alt=media&token=97d4de41-e1e5-4c80-8715-b8f5b5e15369"}),a(!1),c(null),d(!1),props.onMensaje("Recompensa actualizada!")})}function T(O){const D=i.filter((j,B)=>B!==O).sort((j,B)=>j.number-B.number),L=Ae(le,"recompensas","5zvEygcjucpYze6gKYdz");De(L,{recompensas:D}).then(()=>{o(D),p(!h),props.onMensaje("Recompensa borrada!")}).catch(j=>{console.error("Error deleting document: ",j)})}function C(){var O;b({number:parseInt(((O=i[i.length-1])==null?void 0:O.number)||0)+1,premio:"",foto:"https://firebasestorage.googleapis.com/v0/b/lee-con-booku.appspot.com/o/money.png?alt=media&token=97d4de41-e1e5-4c80-8715-b8f5b5e15369"}),a(!1),c(null),d(!u)}return f.jsx("div",{className:`modal fade justify-content-center align-items-baseline align-items-md-center ${n?"show":""}`,style:{display:n?"flex":"none"},onClick:g,children:f.jsxs("div",{className:"grupos modal-content w-75 overflow-y-auto",onClick:O=>O.stopPropagation(),children:[f.jsxs("div",{className:"modal-body",children:[f.jsx("div",{children:f.jsx("button",{onClick:g,type:"button",className:"btn position-absolute top-0 end-0",children:f.jsx(tt,{className:"display-1",icon:"material-symbols:close-rounded"})})}),f.jsxs("div",{className:"d-flex flex-column align-items-center py-5 admin__usuarios",children:[f.jsx("h2",{className:"text-uppercase text-center",children:"Gestionar Recompensas"}),f.jsxs("div",{className:"d-flex flex-column align-items-center align-items-lg-baseline flex-lg-row flex-lg-wrap justify-content-center",children:[i&&i.map((O,I)=>f.jsxs("div",{className:"w-lg-25 d-flex flex-column align-items-center m-2 ",children:[f.jsx("div",{className:"w-25",children:f.jsx("img",{className:"w-100",src:O.foto,alt:""})}),f.jsx("p",{className:"fs-2 text-primary",children:O.number}),f.jsx("p",{className:"fs-2 text-primary",children:O.premio}),f.jsxs("div",{className:"d-flex gap-2",children:[f.jsx("button",{className:"btn btn-primary",onClick:()=>E(I),children:"Editar"}),f.jsx("button",{className:"btn btn-danger-long",onClick:()=>{v(I),p(!h)},children:"Eliminar"})]})]},I)),f.jsx("button",{className:"btn text-primary ms-5",onClick:()=>{C()},children:f.jsx(tt,{className:"display-1",icon:"material-symbols:add-circle-outline"})})]}),u&&f.jsxs("div",{className:"mt-4 d-flex flex-column align-items-center",children:[f.jsx("h3",{className:"fs-2 text-primary",children:s?"Editar Recompensa":"Añadir Nueva Recompensa"}),f.jsxs("div",{className:"w-md-50 d-flex flex-column gap-3 mb-4",children:[f.jsx("div",{className:"form-input",children:f.jsx("input",{type:"text",name:"number",placeholder:"Número recompensa",value:y.number,onChange:_})}),f.jsx("div",{className:"form-input",children:f.jsx("input",{type:"text",name:"premio",placeholder:"Premio",value:y.premio,onChange:_})})]}),f.jsx("button",{onClick:s?x:w,className:"btn btn-primary",children:s?"Guardar Cambios":"Añadir"}),f.jsx("button",{onClick:C,className:"btn btn-secondary mt-2",children:"Cancelar"})]})]})]}),f.jsx("div",{className:`modal fade justify-content-center align-items-center ${h?"show":""}`,style:{display:h?"flex":"none"},children:f.jsx("div",{className:"modal-content w-30",children:f.jsx("div",{className:"modal-body",children:f.jsxs("div",{className:"d-flex flex-column py-5",children:[f.jsx("h2",{className:"fs-1 fw-bold text-primary text-center",children:"¿Quieres borrar la recompensa?"}),f.jsxs("div",{className:"d-flex justify-content-between mt-5 pt-5",children:[f.jsx("button",{onClick:()=>{T(m)},className:"btn btn-danger-long",children:"Borrar"}),f.jsx("button",{className:"btn btn-tertiary-dark",onClick:()=>{p(!h)},children:"Cerrar"})]})]})})})})]})})}function jNe(t){const[e,n]=S.useState(!1),[r,i]=S.useState([]),[o,s]=S.useState(!1),[a,l]=S.useState(!1);let[c,u]=S.useState(!1),[d,h]=S.useState(0);const[p,m]=S.useState({id:"",nombre:"",foto:"",vida:"",comida:"",precio:""});S.useEffect(()=>{n(t.modal),(()=>{Ue(me(le,"tienda")).then(C=>{let O=[];C.forEach(I=>{O.push({...I.data(),id:I.id})}),i(O)}).catch(C=>{console.error("Error fetching documents: ",C)})})()},[t.modal]);function v(){n(!e),t.onOcultar()}function y(T){const C=T.target.files[0];if(!C)return;const O=lB(),I=aB(O,"/"+C.name);oB(I,C).then(()=>sB(I)).then(D=>{m(L=>({...L,foto:D}))})}function b(T){const{name:C,value:O}=T.target;let I=O;(C==="comida"||C==="vida")&&!isNaN(O)&&(I=parseFloat(O)),m({...p,[C]:I})}const g=()=>{tm(me(le,"tienda"),p).then(T=>{i([...r,{...p,id:T.id}]),x()}).catch(T=>{console.error("Error adding document: ",T)})},_=T=>{m(T),s(!0),l(!0)},w=()=>{const T=Ae(le,"tienda",p.id);De(T,p).then(()=>{i(r.map(C=>C.id===p.id?p:C)),x(),t.onMensaje("Producto actualizado!")}).catch(C=>{console.error("Error updating document: ",C)})},E=T=>{const C=Ae(le,"tienda",T);wee(C).then(()=>{i(r.filter(O=>O.id!==T)),u(!c),t.onMensaje("Producto borrado!")}).catch(O=>{console.error("Error deleting document: ",O)})},x=()=>{m({id:"",nombre:"",foto:"",vida:"",comida:"",precio:""}),s(!1),l(!1)};return f.jsx("div",{className:`modal fade justify-content-center align-items-baseline align-items-md-center ${e?"show":""}`,style:{display:e?"flex":"none"},onClick:v,children:f.jsxs("div",{className:"grupos modal-content w-75 overflow-y-auto",onClick:T=>T.stopPropagation(),children:[f.jsxs("div",{className:"modal-body",children:[f.jsx("div",{children:f.jsx("button",{onClick:v,type:"button",className:"btn position-absolute top-0 end-0",children:f.jsx(tt,{className:"display-1",icon:"material-symbols:close-rounded"})})}),f.jsxs("div",{className:"d-flex flex-column align-items-center py-5 admin__usuarios",children:[f.jsx("h2",{className:"text-uppercase",children:"Tienda Booku"}),f.jsxs("div",{className:"d-flex align-items-center gap-5 flex-wrap w-100 px-5",children:[f.jsx("div",{className:"d-flex flex-wrap justify-content-center align-items-end gap-5",children:r&&r.map(T=>f.jsxs("div",{className:"d-flex flex-column align-items-center",children:[f.jsx("img",{src:T.foto,alt:T.nombre,style:{width:"100px"}}),f.jsxs("div",{className:"d-flex w-100 justify-content-evenly align-items-center",children:[f.jsxs("span",{className:"fs-3",children:["❤️ ",T.vida]}),f.jsxs("span",{className:"fs-3",children:["🍎 ",T.comida]})]}),f.jsx("h2",{children:T.nombre}),f.jsxs("p",{className:"fs-1",children:[T.precio,"🪙"]}),f.jsxs("div",{className:"d-flex gap-2",children:[f.jsx("button",{className:"btn btn-primary",onClick:()=>_(T),children:"Editar"}),f.jsx("button",{className:"btn btn-danger-long",onClick:()=>{h(T.id),u(!c)},children:"Eliminar"})]})]},T.id))}),f.jsx("button",{className:"btn text-primary ms-5",onClick:()=>s(!0),children:f.jsx(tt,{className:"display-1",icon:"material-symbols:add-circle-outline"})})]}),o&&f.jsxs("div",{className:"d-flex flex-column align-items-center mt-5 w-100",children:[f.jsx("h3",{className:"fs-1 fw-bold text-primary",children:a?"Editar Producto":"Nuevo Producto"}),f.jsxs("div",{className:"d-flex flex-column  align-items-center gap-3",children:[f.jsxs("div",{className:"w-md-50 d-flex flex-column gap-3 mb-4",children:[f.jsxs("div",{className:"form-input",children:[f.jsx("label",{htmlFor:"nombre",children:"Nombre del alimento"}),f.jsx("input",{type:"text",placeholder:"Nombre",name:"nombre",id:"nombre",value:p.nombre,onChange:b})]}),f.jsxs("div",{className:"form-input",children:[f.jsx("label",{htmlFor:"foto",children:"Foto del alimento"}),f.jsx("input",{type:"file",name:"foto",id:"foto",onChange:y})]}),f.jsxs("div",{className:"form-input",children:[f.jsx("label",{htmlFor:"vida",children:"Vida del alimento"}),f.jsx("input",{type:"number",placeholder:"Vida",name:"vida",id:"vida",value:p.vida,onChange:b})]}),f.jsxs("div",{className:"form-input",children:[f.jsx("label",{htmlFor:"comida",children:"Comida del alimento"}),f.jsx("input",{type:"number",placeholder:"Comida",name:"comida",id:"comida",value:p.comida,onChange:b})]}),f.jsxs("div",{className:"form-input",children:[f.jsx("label",{htmlFor:"precio",children:"Precio del alimento"}),f.jsx("input",{type:"number",placeholder:"Precio",name:"precio",id:"precio",value:p.precio,onChange:b})]})]}),f.jsxs("div",{className:"d-flex gap-3",children:[f.jsx("button",{className:"btn btn-success-long",onClick:a?w:g,children:a?"Guardar Cambios":"Añadir Producto"}),f.jsx("button",{className:"btn btn-secondary",onClick:x,children:"Cancelar"})]})]})]})]})]}),f.jsx("div",{className:`modal fade justify-content-center align-items-center ${c?"show":""}`,style:{display:c?"flex":"none"},children:f.jsx("div",{className:"modal-content w-30",children:f.jsx("div",{className:"modal-body",children:f.jsxs("div",{className:"d-flex flex-column py-5",children:[f.jsx("h2",{className:"fs-1 fw-bold text-primary text-center",children:"¿Quieres borrar la recompensa?"}),f.jsxs("div",{className:"d-flex justify-content-between mt-5 pt-5",children:[f.jsx("button",{onClick:()=>{E(d)},className:"btn btn-danger-long",children:"Borrar"}),f.jsx("button",{className:"btn btn-tertiary-dark",onClick:()=>{u(!c)},children:"Cerrar"})]})]})})})})]})})}function MNe({show:t,reto:e,onSave:n,onClose:r,usuario:i}){const[o,s]=S.useState((e==null?void 0:e.nombre)||""),[a,l]=S.useState((e==null?void 0:e.duracion)||["",""]),[c,u]=S.useState((e==null?void 0:e.id_libros)||[]),[d,h]=S.useState([]),[p,m]=S.useState(""),[v,y]=S.useState([]),[b,g]=S.useState(0),[_,w]=S.useState([]);S.useEffect(()=>{e&&(s(e.nombre),l(e.duracion),u(e.id_libros))},[e]),S.useEffect(()=>{if(c.length>0){let j=[];Promise.all(c.map(B=>fetch("https://www.googleapis.com/books/v1/volumes/"+B).then(Y=>{if(!Y.ok)throw new Error("Network response was not ok");return Y.json()}).then(Y=>{j.push(Y)}).catch(Y=>{console.error("Error fetching book:",Y)}))).then(()=>{h(j)})}},[c]);const E=()=>{let j=[];Array.isArray(d)&&d.forEach(Y=>{Y&&Y.id&&j.push(Y.id)});const B={nombre:o,id_libros:j,duracion:[a[0].duracion,a[0].tipo]};n(B)},x=()=>{fetch("https://www.googleapis.com/books/v1/volumes?q="+p+"&maxResults=12").then(j=>{if(!j.ok)throw new Error("Network response was not ok");return j.json()}).then(j=>{y(j.items)})},T=j=>{d.includes(j)||h([...d,j])},C=()=>{g(j=>j===0?Math.max(0,v.length-3):j-3)},O=()=>{g(j=>j===Math.max(0,v.length-3)?0:j+3)},I=j=>{h(d.filter(B=>B.id!==j))},D=()=>{let j=[];o===""&&(j.nombre="El nombre no puede estar vacío"),a[0]===""&&(j.duracion="La duracion no puede estar vacía"),a[1]===""&&(j.duracion="Elige un tipo de duración"),d.length===0&&(j.librosReto="Debes añadir mínimo un libro"),w(j),Object.keys(j).length===0&&E()},L=j=>{let B=[...a];B[1]=j,l(B)};return f.jsx("div",{className:`modal fade justify-content-center align-items-baseline align-items-md-center ${t?"show":""}`,style:{display:t?"flex":"none"},onClick:r,children:f.jsx("div",{className:"modal-content w-md-50 overflow-y-auto",onClick:j=>j.stopPropagation(),children:f.jsxs("div",{className:"modal-body",children:[f.jsx("div",{children:f.jsx("button",{onClick:r,type:"button",className:"btn position-absolute top-0 end-0",children:f.jsx(Pe,{className:"display-1",icon:"material-symbols:close-rounded"})})}),f.jsxs("div",{className:"d-flex flex-column align-items-center py-5",children:[f.jsx("h2",{className:"text-uppercase display-2 fw-bold text-primary text-center",children:"Editar Reto"}),f.jsxs("div",{className:"w-100",children:[f.jsxs("div",{className:"form-input",children:[f.jsx("label",{children:"Nombre"}),f.jsx("input",{type:"text",value:o,onChange:j=>s(j.target.value)})]}),_.nombre&&f.jsx("p",{className:"fs-2 text-danger",children:_.nombre}),f.jsxs("div",{className:"form-two-input",children:[f.jsx("label",{className:"form-two-input__label",children:"Duración"}),f.jsxs("div",{className:"form-value",children:[f.jsx("div",{className:"form-value__duracion",children:f.jsx("input",{type:"text",value:a[0].duracion,onChange:j=>{let B=[...a];B[0]=j.target.value,l(B)}})}),f.jsxs("div",{className:"form-value__tipo",children:[f.jsx("input",{hidden:!0,type:"radio",name:"duracion2",id:"duracionDia",checked:a[0].tipo=="1",onChange:()=>L("1")}),f.jsx("label",{htmlFor:"duracionDia",children:"Día"}),f.jsx("input",{hidden:!0,type:"radio",name:"duracion2",id:"duracionSemana",checked:a[0].tipo=="2",onChange:()=>L("2")}),f.jsx("label",{className:"form-value__tipo__selected",htmlFor:"duracionSemana",children:"Semana"}),f.jsx("input",{hidden:!0,type:"radio",name:"duracion2",id:"duracionMes",checked:a[0].tipo=="3",onChange:()=>L("3")}),f.jsx("label",{htmlFor:"duracionMes",children:"Mes"})]})]})]}),_.duracion&&f.jsx("p",{className:"fs-2 text-danger",children:_.duracion}),f.jsxs("div",{className:"form-input-search",children:[f.jsx("label",{children:"Buscar Libro"}),f.jsx("input",{className:p.length>=0?"text-white":"",type:"text",name:"buscar",id:"buscar",onKeyDown:j=>{j.key==="Enter"&&x()},onChange:j=>m(j.target.value)}),f.jsx("button",{onClick:x,children:f.jsx(Pe,{icon:"material-symbols:search"})})]}),_.librosReto&&f.jsx("p",{className:"fs-2 text-danger",children:_.librosReto}),f.jsx("div",{className:"d-flex flex-column flex-md-row w-100 align-items-center justify-content-between",children:v.length>0&&f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:C,className:"btn btn-primary btn-carrousel",children:"❮"}),v.slice(b,b+3).map(j=>f.jsxs("div",{className:"ranking__book",children:[f.jsx("img",{className:"ranking__book__img",src:j.volumeInfo.imageLinks?j.volumeInfo.imageLinks.thumbnail:"",alt:"Portada de "+j.volumeInfo.title}),f.jsx("p",{className:"ranking__book__title",children:j.volumeInfo.title}),f.jsx("button",{className:"btn btn-primary",onClick:()=>T(j),children:"Añadir"})]},j.id)),f.jsx("button",{onClick:O,className:"btn btn-primary btn-carrousel",children:"❯"})]})}),d.length>0&&f.jsxs("div",{className:"d-flex flex-column gap-3",children:[f.jsxs("h2",{children:["Libros añadidos (",d.length,")"]}),f.jsx("div",{className:"listado-retos d-flex flex-column gap-3",children:d.map(j=>f.jsxs("div",{className:"d-flex w-100 justify-content-between align-items-center",children:[f.jsxs("div",{className:"d-flex w-100",children:[f.jsx("span",{className:"fs-1 text-secondary w-50 gap-5",children:j.volumeInfo.title}),f.jsx("span",{className:"fs-1 text-secondary w-50 gap-5",children:j.volumeInfo.authors[0]})]}),f.jsx("button",{onClick:()=>I(j.id),className:"btn btn-primary",children:f.jsx(Pe,{className:"display-2",icon:"solar:trash-bin-2-bold"})})]},j.id))})]}),f.jsx("button",{onClick:D,className:"btn btn-primary mt-3",children:"Guardar"})]})]})]})})})}function DNe(t){let[e,n]=S.useState(!1),[r,i]=S.useState([]),[o,s]=S.useState({}),[a,l]=S.useState(""),[c,u]=S.useState(!1),[d,h]=S.useState(null),[p,m]=S.useState(!1),[v,y]=S.useState(["",""]),[b,g]=S.useState(""),[_,w]=S.useState([]),[E,x]=S.useState([]),[T,C]=S.useState(0),[O,I]=S.useState([]),[D,L]=S.useState("");S.useEffect(()=>{n(t.modal),j()},[t.modal]);const j=()=>{fetch("https://api-booku.vercel.app/reto/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.usuario.accessToken}`}}).then(A=>A.json()).then(A=>{if(A&&A.data){i(A.data);const $=[...new Set(A.data.flatMap(R=>R.id_libros||[]))];B($)}else console.error("Invalid data received from API:",A)}).catch(A=>{console.error("Error fetching data:",A)})},B=A=>{if(A.length>0){const $={};Promise.all(A.map(R=>fetch(`https://www.googleapis.com/books/v1/volumes/${R}`).then(F=>F.json()).then(F=>{F&&F.volumeInfo&&F.volumeInfo.title&&($[R]=F.volumeInfo.title)}).catch(F=>{console.error(`Error fetching book details for ID ${R}:`,F)}))).then(()=>{s($)})}},Y=A=>{h(A),u(!0)},X=A=>{A.uid="",fetch("https://api-booku.vercel.app/reto/update/"+d.id,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.usuario.accessToken}`},body:JSON.stringify(A)}).then($=>{if(!$.ok)throw new Error("La solicitud no fue exitosa");return $.json()}).then($=>{u(!1),j(),t.onMensaje("Reto actualizado!")}).catch($=>{console.error("Error en la solicitud:",$)})},U=()=>{n(!e),t.onOcultar()};function M(){fetch("https://www.googleapis.com/books/v1/volumes?q="+b+"&maxResults=12").then(A=>{if(!A.ok)throw new Error("Network response was not ok");return A.json()}).then(A=>{w(A.items)})}function q(A){E.includes(A)||x([...E,A])}function N(){C(A=>A===0?Math.max(0,_.length-3):A-3)}function P(){C(A=>A===Math.max(0,_.length-3)?0:A+3)}function W(A){x(E.filter($=>$.id!==A))}function Z(){let A=[];D===""&&(A.nombre="El nombre no puede estar vacío"),v[0]===""&&(A.duracion="La duración no puede estar vacía"),v[1]===""&&(A.duracion="Elige un tipo de duración"),E.length===0&&(A.librosReto="Debes añadir mínimo un libro"),I(A),Object.keys(A).length===0&&se()}function se(){let A=[];Array.isArray(E)&&E.forEach(R=>{R&&R.id&&A.push(R.id)});const $={nombre:D,id_libros:A,uid:"",duracion:[v[0],v[1]]};fetch("https://api-booku.vercel.app/reto/create",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.usuario.accessToken}`},body:JSON.stringify($)}).then(R=>R.json()).then(R=>{t.onMensaje("Reto creado correctamente"),m(!1)})}function Q(A){let $=[...v];$[1]=A,y($)}const ee=A=>{let $={1:"días",2:"semanas",3:"meses"};if(typeof A=="string")try{A=JSON.parse(A)}catch(R){return console.error("Error parsing duracion:",R),""}return Array.isArray(A)&&A.length>0?A.map(F=>`${F.duracion} ${$[F.tipo]}`).join(", "):typeof A=="object"&&A!==null?`${A.duracion} ${$[A.tipo]}`:""},J=r.filter(A=>A.nombre.toLowerCase().includes(a.toLowerCase())).map(A=>({...A,nombreReto:A.nombre,duracion:A.duracion,libros:(A.id_libros||[]).map($=>o[$]||$).join(", "),acciones:f.jsx("button",{className:"btn",onClick:()=>Y(A),children:f.jsx(tt,{className:"fs-1 text-primary",icon:"majesticons:edit-pen-2"})})})),k=[{name:"Nombre del Reto",selector:A=>A.nombreReto,sortable:!0},{name:"Duración",selector:A=>ee(A.duracion),sortable:!0,sortFunction:(A,$)=>{const R=parseFloat(A.duracion[0].duracion),F=parseFloat(A.duracion[0].tipo),G=parseFloat($.duracion[0].duracion),H=parseFloat($.duracion[0].tipo),ae={1:1,2:7,3:30},de=R*ae[F],pe=G*ae[H];return de-pe}},{name:"Libros",selector:A=>A.libros,sortable:!1},{name:"Acciones",selector:A=>A.acciones,sortable:!1,width:"20rem"}];return f.jsxs("div",{className:`modal fade justify-content-center align-items-baseline align-items-md-center ${e?"show":""}`,style:{display:e?"flex":"none"},onClick:U,children:[f.jsx("div",{className:"grupos modal-content w-75",onClick:A=>A.stopPropagation(),children:f.jsxs("div",{className:"modal-body",children:[f.jsx("div",{children:f.jsx("button",{onClick:U,type:"button",className:"btn position-absolute top-0 end-0",children:f.jsx(tt,{className:"display-1",icon:"material-symbols:close-rounded"})})}),f.jsxs("div",{className:"d-flex flex-column align-items-center py-5 admin__usuarios",children:[f.jsx("h2",{className:"text-uppercase text-center",children:"Gestionar Reto"}),f.jsx(RA,{columns:k,data:J,pagination:!0,className:"table-responsive",subHeader:!0,noDataComponent:"No hay retos para mostrar",subHeaderComponent:f.jsxs("div",{className:"w-md-25 d-flex flex-column flex-md-row gap-3",children:[f.jsx("input",{type:"text",placeholder:"Buscar...",className:"form-search w-100",value:a,onChange:A=>l(A.target.value)}),f.jsx("button",{className:"btn btn-primary w-100",onClick:()=>{m(!0)},children:"Añadir retos"})]}),paginationComponentOptions:{rowsPerPageText:"Filas por página",rangeSeparatorText:"de",noRowsPerPage:!1,selectAllRowsItem:!1,selectAllRowsItemText:"Todos"}})]})]})}),c&&f.jsx(MNe,{show:c,reto:d,onSave:X,onClose:()=>u(!1)}),p&&f.jsx("div",{className:`modal fade justify-content-center align-items-baseline align-items-md-center ${p?"show":""}`,style:{display:p?"flex":"none"},onClick:()=>{m(!1)},children:f.jsx("div",{className:"modal-content w-md-50 overflow-y-auto",onClick:A=>A.stopPropagation(),children:f.jsxs("div",{className:"modal-body",children:[f.jsx("div",{children:f.jsx("button",{onClick:()=>{m(!1)},type:"button",className:"btn position-absolute top-0 end-0",children:f.jsx(tt,{className:"display-1",icon:"material-symbols:close-rounded"})})}),f.jsx("div",{className:"d-flex flex-column align-items-center py-5",children:f.jsx("h2",{className:"text-uppercase display-2 fw-bold text-primary text-center",children:"Crea reto recomendado"})}),f.jsx("div",{className:"d-flex flex-column align-items-center flex-wrap gap-5 w-100",children:f.jsxs("div",{className:"d-flex flex-column gap-5 w-100",children:[f.jsxs("div",{className:"form-input",children:[f.jsx("label",{htmlFor:"nombre",children:"Nombre"}),f.jsx("input",{className:D.length>=0?"text-white":"",type:"text",name:"nombre",id:"nombre",value:D,onChange:A=>L(A.target.value)})]}),O.nombre&&f.jsx("p",{className:"fs-2 text-danger",children:O.nombre}),f.jsxs("div",{className:"form-two-input",children:[f.jsx("label",{className:"form-two-input__label",htmlFor:"duracion1",children:"Duración"}),f.jsxs("div",{className:"form-value",children:[f.jsx("div",{className:"form-value__duracion",children:f.jsx("input",{type:"text",id:"duracion1",onChange:A=>{let $=[...v];$[0]=A.target.value,y($)}})}),f.jsxs("div",{className:"form-value__tipo",children:[f.jsx("input",{hidden:!0,type:"radio",name:"duracion2",id:"duracionDia",checked:v[1]==="1",onChange:()=>Q("1")}),f.jsx("label",{htmlFor:"duracionDia",children:"Día"}),f.jsx("input",{hidden:!0,type:"radio",name:"duracion2",id:"duracionSemana",checked:v[1]==="2",onChange:()=>Q("2")}),f.jsx("label",{className:"form-value__tipo__selected",htmlFor:"duracionSemana",children:"Semana"}),f.jsx("input",{hidden:!0,type:"radio",name:"duracion2",id:"duracionMes",checked:v[1]==="3",onChange:()=>Q("3")}),f.jsx("label",{htmlFor:"duracionMes",children:"Mes"})]})]})]}),O.fecha&&f.jsx("p",{className:"fs-2 text-danger",children:O.fecha}),f.jsxs("div",{className:"form-input-search-mini",children:[f.jsx("label",{htmlFor:"buscar",children:"Buscar Libro"}),f.jsx("input",{className:b.length>=0?"text-white":"",type:"text",name:"buscar",id:"buscar",onKeyDown:A=>{A.key==="Enter"&&M()},onChange:A=>g(A.target.value)}),f.jsx("button",{onClick:M,children:f.jsx(tt,{icon:"material-symbols:search"})})]}),O.librosReto&&f.jsx("p",{className:"fs-2 text-danger",children:O.librosReto}),f.jsx("div",{className:"d-flex flex-column flex-md-row w-100 align-items-center justify-content-between",children:_&&f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:N,className:"btn btn-primary btn-carrousel",children:"❮"}),_.slice(T,T+3).map(A=>f.jsxs("div",{className:"ranking__book",children:[f.jsx("img",{className:"ranking__book__img",src:A.volumeInfo.imageLinks?A.volumeInfo.imageLinks.thumbnail:"",alt:"Portada de "+A.volumeInfo.title}),f.jsx("p",{className:"ranking__book__title",children:A.volumeInfo.title}),f.jsx("button",{className:"btn btn-primary",onClick:()=>q(A),children:"Añadir"})]},A.id)),f.jsx("button",{onClick:P,className:"btn btn-primary btn-carrousel",children:"❯"})]})}),E.length>0&&f.jsxs("div",{className:"d-flex flex-column gap-3",children:[f.jsxs("h2",{children:["Libros añadidos (",E.length,")"]}),f.jsx("div",{className:"listado-retos d-flex flex-column gap-3",children:E.map(A=>f.jsxs("div",{className:"d-flex w-100 justify-content-between align-items-center",children:[f.jsxs("div",{className:"d-flex w-100",children:[f.jsx("span",{className:"fs-1 text-secondary w-50 gap-5",children:A.volumeInfo.title}),f.jsx("span",{className:"fs-1 text-secondary w-50 gap-5",children:A.volumeInfo.authors[0]})]}),f.jsx("button",{onClick:()=>W(A.id),className:"btn btn-primary",children:f.jsx(tt,{className:"display-2",icon:"solar:trash-bin-2-bold"})})]},A.id))})]}),f.jsx("button",{onClick:Z,className:"btn btn-primary",children:"Crear Reto"})]})})]})})})]})}function $Ne({show:t,grupo:e,onSave:n,onClose:r}){const[i,o]=S.useState((e==null?void 0:e.nombre)||""),[s,a]=S.useState([]);S.useEffect(()=>{e&&o(e.nombre)},[e]);const l=()=>{const u={...e,nombre:i};n(u)};function c(){r()}return f.jsx("div",{className:`modal fade justify-content-center align-items-baseline align-items-md-center ${t?"show":""}`,style:{display:t?"flex":"none"},onClick:c,children:f.jsx("div",{className:"modal-content w-50",onClick:u=>u.stopPropagation(),children:f.jsxs("div",{className:"modal-body",children:[f.jsx("div",{children:f.jsx("button",{onClick:c,type:"button",className:"btn position-absolute top-0 end-0",children:f.jsx(Pe,{className:"display-1",icon:"material-symbols:close-rounded"})})}),f.jsxs("div",{className:"d-flex flex-column align-items-center py-5",children:[f.jsx("h2",{className:"text-uppercase display-2 fw-bold text-primary text-center",children:"Editar Grupo"}),f.jsxs("div",{className:"w-100",children:[f.jsxs("div",{className:"form-input",children:[f.jsx("label",{children:"Nombre"}),f.jsx("input",{type:"text",value:i,onChange:u=>o(u.target.value)})]}),s.nombre&&f.jsx("p",{className:"fs-2 text-danger",children:s.nombre}),f.jsx("button",{onClick:l,className:"btn btn-primary mt-3",children:"Guardar"})]})]})]})})})}function LNe(t){const[e,n]=S.useState(!1),[r,i]=S.useState([]),[o,s]=S.useState(""),[a,l]=S.useState(!1),[c,u]=S.useState(null),[d,h]=S.useState(!0);S.useEffect(()=>{t.modal&&(n(t.modal),r.length==0&&p())},[t.modal]),S.useEffect(()=>{d||(()=>{const w=r.map(E=>E.reto_id?fetch(`https://api-booku.vercel.app/reto/show/${E.reto_id.id}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t.usuario.accessToken}}).then(x=>x.json()).then(x=>{var T;return{...E,nombreReto:((T=x.data)==null?void 0:T.nombre)||"Sin nombre"}}).catch(x=>({...E,nombreReto:"Error al cargar"})):Promise.resolve({...E,nombreReto:"Sin reto"}));Promise.all(w).then(E=>i(E)).catch(E=>console.error("Error fetching reto names:",E))})()},[d]);function p(){Ue(me(le,"grupos")).then(_=>{const w=[];_.forEach(E=>{w.push({id:E.id,...E.data()})}),i(w),h(!1)}).catch(_=>{console.error("Error fetching grupos:",_),h(!1)})}function m(_){u(_),l(!0)}function v(_){De(Ae(le,"grupos",_.id),_).then(()=>{p(),n(!e),t.onMensaje("Grupo actualizado!")})}function y(){n(!e),t.onOcultar()}const b=r.filter(_=>_.nombre.toLowerCase().includes(o.toLowerCase())).map(_=>({..._,nombreGrupo:_.nombre,codigoGrupo:_.id,acciones:f.jsx("button",{className:"btn",onClick:()=>m(_),children:f.jsx(tt,{className:"fs-1 text-primary",icon:"majesticons:edit-pen-2"})})})),g=[{name:"Nombre del Grupo",selector:_=>_.nombreGrupo,sortable:!0},{name:"Código del Grupo",selector:_=>_.codigoGrupo,sortable:!0},{name:"Nombre de reto",selector:_=>_.nombreReto||"Cargando...",sortable:!1},{name:"Acciones",selector:_=>_.acciones,sortable:!1,width:"20rem"}];return f.jsxs("div",{className:`modal fade justify-content-center align-items-baseline align-items-md-center ${e?"show":""}`,style:{display:e?"flex":"none"},onClick:y,children:[f.jsx("div",{className:"grupos modal-content w-75",onClick:_=>_.stopPropagation(),children:f.jsxs("div",{className:"modal-body",children:[f.jsx("div",{children:f.jsx("button",{onClick:y,type:"button",className:"btn position-absolute top-0 end-0",children:f.jsx(tt,{className:"display-1",icon:"material-symbols:close-rounded"})})}),f.jsxs("div",{className:"d-flex flex-column align-items-center py-5 admin__usuarios",children:[f.jsx("h2",{className:"text-uppercase text-center",children:"Gestionar Grupos"}),f.jsx(RA,{columns:g,data:b,pagination:!0,className:"table-responsive",subHeader:!0,noDataComponent:"No hay retos para mostrar",subHeaderComponent:f.jsx("div",{className:"w-md-25",children:f.jsx("input",{type:"text",placeholder:"Buscar...",className:"form-search w-100",value:o,onChange:_=>s(_.target.value)})}),paginationComponentOptions:{rowsPerPageText:"Filas por página",rangeSeparatorText:"de",noRowsPerPage:!1,selectAllRowsItem:!1,selectAllRowsItemText:"Todos"}})]})]})}),a&&f.jsx($Ne,{show:a,grupo:c,onSave:v,onClose:()=>l(!1)})]})}function FNe(){let{check:t,id:e}=Rp(),[n,r]=S.useState(!1),[i,o]=S.useState(!1),[s,a]=S.useState(!1),[l,c]=S.useState(!1),[u,d]=S.useState(!1),[h,p]=S.useState(!1),[m,v]=S.useState(""),[y,b]=S.useState("");S.useEffect(()=>{if(y!=""){const w=setTimeout(()=>{b("")},5e3);return()=>clearTimeout(w)}},[y]),S.useEffect(()=>{const w=Ni();Di(w,E=>{v(E)})},[t,e]);function g(){r(!1),o(!1),a(!1),c(!1),d(!1),p(!1)}function _(w){b(w)}return f.jsxs(f.Fragment,{children:[f.jsx(Ne,{to:"/home",className:"btn btn-secondary mt-5 ms-5",children:"Volver"}),y!==""&&f.jsx("div",{className:"w-100 d-flex justify-content-center",children:f.jsx("div",{className:"alert alert-success w-50 fade show position-absolute",role:"alert",children:y})}),f.jsxs("section",{className:"admin",children:[f.jsxs("button",{className:"admin__btn",onClick:()=>{r(!n)},children:[f.jsx(Pe,{className:"admin__btn--icon",icon:"material-symbols:person"}),f.jsx("h2",{className:"admin__btn--title",children:"Gestionar usuarios"})]}),f.jsxs("button",{className:"admin__btn",onClick:()=>{o(!i)},children:[f.jsx(Pe,{className:"admin__btn--icon",icon:"solar:diagram-up-linear"}),f.jsx("h2",{className:"admin__btn--title",children:"Ver estadísticas"})]}),f.jsxs("button",{className:"admin__btn",onClick:()=>{a(!s)},children:[f.jsx(Pe,{className:"admin__btn--icon",icon:"solar:calendar-bold"}),f.jsx("h2",{className:"admin__btn--title",children:"Gestionar recompensas"})]}),f.jsxs("button",{className:"admin__btn",onClick:()=>{c(!l)},children:[f.jsx(Pe,{className:"admin__btn--icon",icon:"mingcute:game-2-fill"}),f.jsx("h2",{className:"admin__btn--title",children:"Gestionar juego"})]}),f.jsxs("button",{className:"admin__btn",onClick:()=>{d(!u)},children:[f.jsx(Pe,{className:"admin__btn--icon",icon:"material-symbols:work-alert"}),f.jsx("h2",{className:"admin__btn--title",children:"Gestionar retos"})]}),f.jsxs("button",{className:"admin__btn",onClick:()=>{p(!h)},children:[f.jsx(Pe,{className:"admin__btn--icon",icon:"material-symbols:groups-3"}),f.jsx("h2",{className:"admin__btn--title",children:"Gestionar grupos"})]})]}),f.jsx(dle,{onMensaje:_,onOcultar:g,modal:n,usuario:m}),f.jsx(NNe,{onOcultar:g,modal:i,usuario:m}),f.jsx(RNe,{onMensaje:_,onOcultar:g,modal:s,usuario:m}),f.jsx(jNe,{onMensaje:_,onOcultar:g,modal:l,usuario:m}),f.jsx(DNe,{onMensaje:_,onOcultar:g,modal:u,usuario:m}),f.jsx(LNe,{onMensaje:_,onOcultar:g,modal:h,usuario:m})]})}function VNe({Component:t}){const[e,n]=S.useState(!1),[r,i]=S.useState(!0);return S.useEffect(()=>{Di(sa,o=>{const s=nt(me(le,"config"),rt("user_id","==",o.uid));Ue(s).then(a=>{let l=!1;a.forEach(c=>{c.data().permisos==5?l=!0:l=!1}),n(l),i(!1)})})},[]),r?f.jsx(od,{}):e?f.jsx(t,{}):f.jsx(xT,{to:"/"})}function UNe({Component:t}){const[e,n]=S.useState(!1),[r,i]=S.useState(!0);let{check:o,id:s}=Rp();return S.useEffect(()=>{const a=Ni();Di(a,l=>{if(!l){n(!1),i(!1);return}if(o==="grupo"){const c=nt(me(le,"config"),rt("user_id","==",l.uid));Ue(c).then(u=>{let d=!1;u.forEach(h=>{h.data().id_grupos.includes(s)&&(d=!0)}),n(d),i(!1)}).catch(u=>{console.error("Error checking grupo auth: ",u),n(!1),i(!1)})}else n(!!l),i(!1)})},[o,s]),r?f.jsx(od,{}):e?f.jsx(t,{}):f.jsx(xT,{to:"/"})}function BNe({Component:t}){let[e,n]=S.useState(!1),[r,i]=S.useState(!0),[o,s]=S.useState(""),[a,l]=S.useState(""),[c,u]=S.useState(!1),{check:d,id:h}=Rp(),[p,m]=S.useState("");S.useEffect(()=>{const y=Ni();Di(y,b=>{if(!b){n(!1),i(!1);return}let g=Ae(le,"grupos",h);ot(g).then(_=>{_.exists()&&fetch("https://api-booku.vercel.app/examenes/show/"+_.data().examen_id,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+b.accessToken}}).then(w=>w.json()).then(w=>{const E=w.data;s(E.contrasena),i(!1)})})})},[d,h]);function v(){a==o?(u(!0),m("")):m("Contraseña incorrecta")}return r?f.jsx(od,{}):c?f.jsx(t,{}):f.jsxs("div",{className:"h-100 w-100 d-flex flex-column align-items-center justify-content-center gap-3",children:[f.jsx("div",{className:"w-md-50",children:f.jsxs("div",{className:"form-input",children:[f.jsx("label",{htmlFor:"pass",children:"Contraseña del examen"}),f.jsx("input",{className:"text-center",type:"password",onChange:y=>{l(y.target.value)},onKeyDown:y=>{y.key==="Enter"&&v()}})]})}),p&&f.jsx("p",{className:"fs-1 text-danger",children:p}),f.jsx("button",{className:"btn btn-primary",onClick:v,children:"Enviar"})]})}function zNe(){let[t,e]=S.useState(""),[n,r]=S.useState(0),[i,o]=S.useState([]);function s(){fetch("https://www.googleapis.com/books/v1/volumes?q="+t+"&startIndex=0&maxResults=12").then(l=>{if(!l.ok)throw new Error("Network response was not ok");return l.json()}).then(l=>{o(l.items),r(12)})}function a(){fetch(`https://www.googleapis.com/books/v1/volumes?q=${t}&startIndex=${n}&maxResults=12`).then(l=>{if(!l.ok)throw new Error("Network response was not ok");return l.json()}).then(l=>{o(c=>[...c,...l.items]),r(c=>c+12)})}return f.jsxs(f.Fragment,{children:[f.jsx(Ne,{to:"/home",className:"mt-5 ms-5 btn btn-secondary",children:"Volver"}),f.jsxs("section",{className:"buscador",id:"buscador",children:[f.jsxs("div",{className:"d-flex "+(t.length<=3?"flex-column align-items-center":"flex-row align-items-center gap-5 mt-3"),children:[f.jsx("h2",{className:"display-1 fw-bold text-primary",children:"BUSCADOR"}),f.jsxs("div",{className:"buscador--input",children:[f.jsx("input",{type:"text",placeholder:"Busca aquí tu primer libro!",value:t,onChange:l=>{e(l.target.value),(t.length+1)%3===0&&s()}}),f.jsx("button",{className:"btn",onClick:s,children:"Buscar!"})]})]}),f.jsxs("div",{className:t.length<=3?"d-none":"d-flex flex-column align-items-center w-75",children:[f.jsx("div",{className:"d-flex align-items-center justify-content-between w-100 flex-wrap gap-5",children:i&&i.map(l=>{const c=l.volumeInfo.imageLinks;return f.jsxs(Ne,{to:"/detalle/libro/"+l.id,className:"buscador__resultado__book text-decoration-none",children:[f.jsx("div",{className:"buscador__resultado__book__caratula",children:c&&c.thumbnail?f.jsx("img",{className:"w-100 h-100",src:c.thumbnail,alt:"Portada de "+l.volumeInfo.title}):f.jsx("img",{className:"w-100 h-100",src:cB,alt:"Portada de repuesto de booku"})}),f.jsx("h2",{className:"buscador__resultado__book__title",children:l.volumeInfo.title})]},l.id)})}),f.jsxs("button",{onClick:a,className:"btn fs-3 text-secondary",children:["Ver más ",f.jsx(Pe,{icon:"uiw:down"})]})]})]})]})}function WNe(){return f.jsxs(f.Fragment,{children:[f.jsx(Ne,{to:"/home",className:"mt-5 ms-5 btn btn-secondary",children:"Volver"}),f.jsxs("div",{className:"complementarias",children:[f.jsx("h2",{children:"Política de Cookies de Booku"}),f.jsx("h3",{children:"1. ¿Qué son las cookies?"}),f.jsx("p",{children:"Las cookies son pequeños archivos de texto que se almacenan en su dispositivo cuando visita un sitio web. Son ampliamente utilizadas para que los sitios web funcionen, o funcionen de manera más eficiente, así como para proporcionar información a los propietarios del sitio."}),f.jsx("h3",{children:"2. ¿Cómo utilizamos las cookies en Booku?"}),f.jsx("p",{children:"En Booku, utilizamos cookies para mejorar su experiencia en nuestro sitio web, permitir ciertas funciones del sitio, y analizar cómo los visitantes utilizan nuestro sitio. Las cookies nos ayudan a personalizar el contenido y los anuncios, proporcionar funcionalidades de redes sociales y analizar nuestro tráfico."}),f.jsx("h3",{children:"3. Tipos de cookies que utilizamos"}),f.jsxs("ul",{children:[f.jsx("li",{children:"Cookies estrictamente necesarias: Estas cookies son esenciales para que pueda navegar por el sitio web y utilizar sus funciones. Sin estas cookies, no se pueden proporcionar los servicios que ha solicitado."}),f.jsx("li",{children:"Cookies de rendimiento: Estas cookies recopilan información sobre cómo los visitantes utilizan un sitio web, por ejemplo, qué páginas visitan con más frecuencia. Utilizamos esta información para mejorar el funcionamiento del sitio web."}),f.jsx("li",{children:"Cookies de funcionalidad: Estas cookies permiten que el sitio web recuerde las elecciones que usted realiza (como su nombre de usuario, idioma o región) y proporcionan características mejoradas y más personales."}),f.jsx("li",{children:"Cookies de publicidad y marketing: Estas cookies se utilizan para mostrar anuncios que son relevantes para usted y sus intereses. También se utilizan para limitar el número de veces que ve un anuncio, así como para ayudar a medir la efectividad de las campañas publicitarias."})]}),f.jsx("h3",{children:"4. Cookies de terceros"}),f.jsx("p",{children:"En algunos casos, utilizamos cookies de terceros de confianza. Por ejemplo, utilizamos Google Analytics para ayudarnos a analizar el uso de nuestro sitio. Estas cookies pueden recopilar información sobre sus actividades en línea a lo largo del tiempo y en diferentes sitios web."}),f.jsx("h3",{children:"5. ¿Cómo puede controlar las cookies?"}),f.jsx("p",{children:"Puede controlar y/o eliminar las cookies como desee. Puede eliminar todas las cookies que ya están en su ordenador y configurar la mayoría de los navegadores para que no se acepten cookies. Sin embargo, si hace esto, es posible que tenga que ajustar manualmente algunas preferencias cada vez que visite un sitio y que algunos servicios y funcionalidades no funcionen."}),f.jsx("h3",{children:"6. Cambios en nuestra política de cookies"}),f.jsx("p",{children:"Podemos actualizar nuestra Política de Cookies de vez en cuando para reflejar cambios en nuestras prácticas y servicios. Le notificaremos sobre cualquier cambio publicando la nueva Política de Cookies en nuestro sitio web. Le recomendamos que revise esta página periódicamente para estar informado sobre cómo utilizamos las cookies."}),f.jsx("h3",{children:"7. Contacto"}),f.jsx("p",{children:"Si tiene alguna pregunta sobre nuestra Política de Cookies, puede contactarnos en:"}),f.jsx("p",{children:"Booku"}),f.jsx("p",{children:"Correo electrónico: booku-soporte@gmail.com"})]})]})}const y9="/assets/equipo-B-1O9q1F.jpeg";function HNe(){return f.jsxs(f.Fragment,{children:[f.jsx(Ne,{to:"/home",className:"mt-5 ms-5 btn btn-secondary",children:"Volver"}),f.jsxs("div",{className:"d-flex flex-column flex-md-row align-items-center justify-content-center w-100 h-100 px-md-5",children:[f.jsx("div",{className:"w-50",children:f.jsx("img",{className:"w-100",src:y9,alt:"Foto de un equipo trabajando representando a la comunidad de Booku"})}),f.jsxs("div",{className:"complementarias",children:[f.jsx("h2",{children:"Sobre nosotros"}),f.jsx("p",{children:"Somos un grupo reducido de personas apasionados por la lectura, que nos decidimos a desarrollar este proyecto para encontrar a más gente que compartira nuestra pasión por la lectura, fue por eso que en 2024 nos lancemos al desarrollo de esta aplicación que nos ha hecho encontrar a un gran grupo de pesonas"}),f.jsx("p",{children:"La comunidad de Booku es una comunidad creativa y respetuosa por lo que siempre serás bienvenido/a en cualquier momento."}),f.jsx("p",{children:f.jsx("strong",{children:"¡Te esperamos!"})})]})]})]})}function qNe(){return f.jsxs(f.Fragment,{children:[f.jsx(Ne,{to:"/home",className:"mt-5 ms-5 btn btn-secondary",children:"Volver"}),f.jsxs("div",{className:"d-flex flex-column flex-md-row align-items-center justify-content-center w-100 h-100 px-md-5",children:[f.jsx("div",{className:"w-50",children:f.jsx("img",{className:"w-100",src:y9,alt:"Foto de un equipo trabajando representando a la comunidad de Booku"})}),f.jsxs("div",{className:"complementarias",children:[f.jsx("h2",{children:"Contacto"}),f.jsx("p",{children:"Para contactar con nosotros puedes hacerlo mediante nuestras redes sociales: "}),f.jsxs("article",{className:"d-flex",children:[f.jsx("a",{href:"https://www.facebook.com",children:f.jsx(Pe,{className:"display-1 text-secondary",icon:"mdi:facebook"})}),f.jsx("a",{href:"https://www.instragram.es",children:f.jsx(Pe,{className:"display-1 text-secondary",icon:"mdi:instagram"})}),f.jsx("a",{href:"https://www.twitter.es",children:f.jsx(Pe,{className:"display-1 text-secondary",icon:"mdi:twitter"})})]}),f.jsx("p",{children:"O mediante nuestro correo electrónico:"}),f.jsx("p",{className:"text-secondary",children:"booku-soporte@gmail.com"})]})]})]})}function GNe(){const t=f8([{element:f.jsxs(f.Fragment,{children:[f.jsx(Eie,{}),f.jsx("main",{id:"main",children:f.jsx(i8,{})})]}),children:[{path:"/",element:f.jsx(kie,{})},{path:"/sobre-nosotros",element:f.jsx(HNe,{})},{path:"/cookies",element:f.jsx(WNe,{})},{path:"/contacto",element:f.jsx(qNe,{})},{path:"/prueba",element:f.jsx(od,{})},{path:"/buscador",element:f.jsx(Wd,{Component:zNe})},{path:"/detalle/:check/:id",element:f.jsx(UNe,{Component:qoe})},{path:"/examen/:id",element:f.jsx(BNe,{Component:eR})},{path:"/examen/:id/:check",element:f.jsx(Wd,{Component:eR})},{path:"/home",element:f.jsx(Wd,{Component:Loe})},{path:"/play",element:f.jsx(Wd,{Component:Uoe})},{path:"/retos",element:f.jsx(Wd,{Component:Boe})},{path:"/admin",element:f.jsx(VNe,{Component:FNe})},{path:"*",element:f.jsx(Rie,{})}]},{path:"/inicio-sesion",element:f.jsx(Nie,{})},{path:"/registro",element:f.jsx(jie,{})}]);return f.jsx(f.Fragment,{children:f.jsx(w8,{router:t})})}zw.createRoot(document.getElementById("root")).render(f.jsx(GNe,{}))});export default KNe();
